{"ast":null,"code":"import { Ajax, Browser, ChildProperty, Complex, Component, Draggable, Event, EventHandler, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, Touch, addClass, closest, createElement, detach, extend, formatUnit, getValue, isNullOrUndefined, isVisible, matches, remove, removeClass, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { Splitter } from '@syncfusion/ej2-layouts';\nimport { Dialog, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input, TextBox, Uploader } from '@syncfusion/ej2-inputs';\nimport { CheckBox, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ContextMenu, Toolbar, TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as ContextMenu$1, Grid, Resize, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\n\n\nclass AjaxSettings extends ChildProperty {}\n\n__decorate([Property(null)], AjaxSettings.prototype, \"downloadUrl\", void 0);\n\n__decorate([Property(null)], AjaxSettings.prototype, \"getImageUrl\", void 0);\n\n__decorate([Property(null)], AjaxSettings.prototype, \"uploadUrl\", void 0);\n\n__decorate([Property(null)], AjaxSettings.prototype, \"url\", void 0);\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nconst toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename', 'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\n\nclass ToolbarSettings extends ChildProperty {}\n\n__decorate$1([Property(toolbarItems)], ToolbarSettings.prototype, \"items\", void 0);\n\n__decorate$1([Property(true)], ToolbarSettings.prototype, \"visible\", void 0);\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Search settings of the File Manager.\n */\n\n\nclass SearchSettings extends ChildProperty {}\n\n__decorate$2([Property(true)], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n\n__decorate$2([Property('contains')], SearchSettings.prototype, \"filterType\", void 0);\n\n__decorate$2([Property(true)], SearchSettings.prototype, \"ignoreCase\", void 0);\n\n__decorate$2([Property(null)], SearchSettings.prototype, \"placeholder\", void 0);\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the columns in the details view of the file manager.\n */\n\n\nconst columnArray = [{\n  field: 'name',\n  headerText: 'Name',\n  minWidth: 120,\n  template: '<span class=\"e-fe-text\">${name}</span>',\n  customAttributes: {\n    class: 'e-fe-grid-name'\n  }\n}, {\n  field: '_fm_modified',\n  headerText: 'DateModified',\n  type: 'dateTime',\n  format: 'MMMM dd, yyyy HH:mm',\n  minWidth: 120,\n  width: '190'\n}, {\n  field: 'size',\n  headerText: 'Size',\n  minWidth: 90,\n  width: '110',\n  template: '<span class=\"e-fe-size\">${size}</span>'\n}];\n/**\n * Specifies the grid settings of the File Manager.\n */\n\nclass DetailsViewSettings extends ChildProperty {}\n\n__decorate$3([Property(true)], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n\n__decorate$3([Property(columnArray)], DetailsViewSettings.prototype, \"columns\", void 0);\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nconst fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nconst folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nconst layoutItems = ['SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\n\nclass ContextMenuSettings extends ChildProperty {}\n\n__decorate$4([Property(fileItems)], ContextMenuSettings.prototype, \"file\", void 0);\n\n__decorate$4([Property(folderItems)], ContextMenuSettings.prototype, \"folder\", void 0);\n\n__decorate$4([Property(layoutItems)], ContextMenuSettings.prototype, \"layout\", void 0);\n\n__decorate$4([Property(true)], ContextMenuSettings.prototype, \"visible\", void 0);\n\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\n\n\nclass NavigationPaneSettings extends ChildProperty {}\n\n__decorate$5([Property('650px')], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n\n__decorate$5([Property('240px')], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n\n__decorate$5([Property(true)], NavigationPaneSettings.prototype, \"visible\", void 0);\n\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\n\n\nclass UploadSettings extends ChildProperty {}\n\n__decorate$6([Property('')], UploadSettings.prototype, \"allowedExtensions\", void 0);\n\n__decorate$6([Property(true)], UploadSettings.prototype, \"autoUpload\", void 0);\n\n__decorate$6([Property(false)], UploadSettings.prototype, \"autoClose\", void 0);\n\n__decorate$6([Property(0)], UploadSettings.prototype, \"minFileSize\", void 0);\n\n__decorate$6([Property(30000000)], UploadSettings.prototype, \"maxFileSize\", void 0);\n\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Interface for a class Column\n */\n\n/* istanbul ignore next */\n\n\nclass Column extends ChildProperty {}\n\n__decorate$7([Property('')], Column.prototype, \"field\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"headerText\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"width\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"minWidth\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"maxWidth\", void 0);\n\n__decorate$7([Property('Left')], Column.prototype, \"textAlign\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"headerTextAlign\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"type\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"format\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"template\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"headerTemplate\", void 0);\n\n__decorate$7([Property(true)], Column.prototype, \"allowSorting\", void 0);\n\n__decorate$7([Property(true)], Column.prototype, \"allowResizing\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"customAttributes\", void 0);\n\n__decorate$7([Property('')], Column.prototype, \"hideAtMedia\", void 0);\n\n__decorate$7([Property(null)], Column.prototype, \"customFormat\", void 0);\n/**\n * FileExplorer common modules\n */\n\n/**\n * Specifies the File Manager internal ID's\n */\n\n/** @hidden */\n\n\nconst TOOLBAR_ID = '_toolbar';\n/** @hidden */\n\nconst LAYOUT_ID = '_layout';\n/** @hidden */\n\nconst NAVIGATION_ID = '_navigation';\n/** @hidden */\n\nconst TREE_ID = '_tree';\n/** @hidden */\n\nconst GRID_ID = '_grid';\n/** @hidden */\n\nconst LARGEICON_ID = '_largeicons';\n/** @hidden */\n\nconst DIALOG_ID = '_dialog';\n/** @hidden */\n\nconst ALT_DIALOG_ID = '_alt_dialog';\n/** @hidden */\n\nconst IMG_DIALOG_ID = '_img_dialog';\n/** @hidden */\n\nconst EXTN_DIALOG_ID = '_extn_dialog';\n/** @hidden */\n\nconst UPLOAD_DIALOG_ID = '_upload_dialog';\n/** @hidden */\n\nconst RETRY_DIALOG_ID = '_retry_dialog';\n/** @hidden */\n\nconst CONTEXT_MENU_ID = '_contextmenu';\n/** @hidden */\n\nconst SORTBY_ID = '_sortby';\n/** @hidden */\n\nconst VIEW_ID = '_view';\n/** @hidden */\n\nconst SPLITTER_ID = '_splitter';\n/** @hidden */\n\nconst CONTENT_ID = '_content';\n/** @hidden */\n\nconst BREADCRUMBBAR_ID = '_breadcrumbbar';\n/** @hidden */\n\nconst UPLOAD_ID = '_upload';\n/** @hidden */\n\nconst RETRY_ID = '_retry';\n/** @hidden */\n\nconst SEARCH_ID = '_search';\n/**\n * Specifies the File Manager internal class names\n */\n\n/** @hidden */\n\nconst ROOT = 'e-filemanager';\n/** @hidden */\n\nconst CONTROL = 'e-control';\n/** @hidden */\n\nconst CHECK_SELECT = 'e-fe-cb-select';\n/** @hidden */\n\nconst ROOT_POPUP = 'e-fe-popup';\n/** @hidden */\n\nconst MOBILE = 'e-fe-mobile';\n/** @hidden */\n\nconst MOB_POPUP = 'e-fe-popup e-fe-mobile';\n/** @hidden */\n\nconst MULTI_SELECT = 'e-fe-m-select';\n/** @hidden */\n\nconst FILTER = 'e-fe-m-filter';\n/** @hidden */\n\nconst LAYOUT = 'e-layout';\n/** @hidden */\n\nconst NAVIGATION = 'e-navigation';\n/** @hidden */\n\nconst LAYOUT_CONTENT = 'e-layout-content';\n/** @hidden */\n\nconst LARGE_ICONS = 'e-large-icons';\n/** @hidden */\n\nconst TB_ITEM = 'e-toolbar-item';\n/** @hidden */\n\nconst LIST_ITEM = 'e-list-item';\n/** @hidden */\n\nconst LIST_TEXT = 'e-list-text';\n/** @hidden */\n\nconst LIST_PARENT = 'e-list-parent';\n/** @hidden */\n\nconst TB_OPTION_TICK = 'e-icons e-fe-tick';\n/** @hidden */\n\nconst TB_OPTION_DOT = 'e-icons e-fe-dot';\n/** @hidden */\n\nconst BLUR = 'e-blur';\n/** @hidden */\n\nconst ACTIVE = 'e-active';\n/** @hidden */\n\nconst HOVER = 'e-hover';\n/** @hidden */\n\nconst FOCUS = 'e-focus';\n/** @hidden */\n\nconst FOCUSED = 'e-focused';\n/** @hidden */\n\nconst CHECK = 'e-check';\n/** @hidden */\n\nconst FRAME = 'e-frame';\n/** @hidden */\n\nconst CB_WRAP = 'e-checkbox-wrapper';\n/** @hidden */\n\nconst ROW = 'e-row';\n/** @hidden */\n\nconst ROWCELL = 'e-rowcell';\n/** @hidden */\n\nconst EMPTY = 'e-empty';\n/** @hidden */\n\nconst EMPTY_CONTENT = 'e-empty-content';\n/** @hidden */\n\nconst EMPTY_INNER_CONTENT = 'e-empty-inner-content';\n/** @hidden */\n\nconst CLONE = 'e-fe-clone';\n/** @hidden */\n\nconst DROP_FOLDER = 'e-fe-drop-folder';\n/** @hidden */\n\nconst DROP_FILE = 'e-fe-drop-file';\n/** @hidden */\n\nconst FOLDER = 'e-fe-folder';\n/** @hidden */\n\nconst ICON_IMAGE = 'e-fe-image';\n/** @hidden */\n\nconst ICON_MUSIC = 'e-fe-music';\n/** @hidden */\n\nconst ICON_VIDEO = 'e-fe-video';\n/** @hidden */\n\nconst LARGE_ICON = 'e-large-icon';\n/** @hidden */\n\nconst LARGE_EMPTY_FOLDER = 'e-empty-icon e-fe-folder';\n/** @hidden */\n\nconst LARGE_EMPTY_FOLDER_TWO = 'e-empty-icon.e-fe-folder';\n/** @hidden */\n\nconst LARGE_ICON_FOLDER = 'e-fe-folder';\n/** @hidden */\n\nconst SELECTED_ITEMS = 'e-items';\n/** @hidden */\n\nconst TEXT_CONTENT = 'e-text-content';\n/** @hidden */\n\nconst GRID_HEADER = 'e-gridheader';\n/** @hidden */\n\nconst TEMPLATE_CELL = 'e-templatecell';\n/** @hidden */\n\nconst TREE_VIEW = 'e-treeview';\n/** @hidden */\n\nconst MENU_ITEM = 'e-menu-item';\n/** @hidden */\n\nconst MENU_ICON = 'e-menu-icon';\n/** @hidden */\n\nconst SUBMENU_ICON = 'e-caret';\n/** @hidden */\n\nconst GRID_VIEW = 'e-content';\n/** @hidden */\n\nconst ICON_VIEW = 'e-list-parent';\n/** @hidden */\n\nconst ICON_OPEN = 'e-icons e-fe-open';\n/** @hidden */\n\nconst ICON_UPLOAD = 'e-icons e-fe-upload';\n/** @hidden */\n\nconst ICON_CUT = 'e-icons e-fe-cut';\n/** @hidden */\n\nconst ICON_COPY = 'e-icons e-fe-copy';\n/** @hidden */\n\nconst ICON_PASTE = 'e-icons e-fe-paste';\n/** @hidden */\n\nconst ICON_DELETE = 'e-icons e-fe-delete';\n/** @hidden */\n\nconst ICON_RENAME = 'e-icons e-fe-rename';\n/** @hidden */\n\nconst ICON_NEWFOLDER = 'e-icons e-fe-newfolder';\n/** @hidden */\n\nconst ICON_DETAILS = 'e-icons e-fe-details';\n/** @hidden */\n\nconst ICON_SHORTBY = 'e-icons e-fe-sort';\n/** @hidden */\n\nconst ICON_REFRESH = 'e-icons e-fe-refresh';\n/** @hidden */\n\nconst ICON_SELECTALL = 'e-icons e-fe-select';\n/** @hidden */\n\nconst ICON_DOWNLOAD = 'e-icons e-fe-download';\n/** @hidden */\n\nconst ICON_OPTIONS = 'e-icons e-fe-options';\n/** @hidden */\n\nconst ICON_GRID = 'e-icons e-fe-grid';\n/** @hidden */\n\nconst ICON_LARGE = 'e-icons e-fe-large';\n/** @hidden */\n\nconst ICON_BREADCRUMB = 'e-icons e-fe-breadcrumb';\n/** @hidden */\n\nconst ICON_CLEAR = 'e-icons e-fe-clear';\n/** @hidden */\n\nconst ICON_DROP_IN = 'e-icons e-fe-drop-in';\n/** @hidden */\n\nconst ICON_DROP_OUT = 'e-icons e-fe-drop-out';\n/** @hidden */\n\nconst ICON_NO_DROP = 'e-icons e-fe-no-drop';\n/** @hidden */\n\nconst ICONS = 'e-icons';\n/** @hidden */\n\nconst DETAILS_LABEL = 'e-detailslabel';\n/** @hidden */\n\nconst ERROR_CONTENT = 'e-fe-errorcontent';\n/** @hidden */\n\nconst STATUS = 'e-status';\n/** @hidden */\n\nconst BREADCRUMBS = 'e-address';\n/** @hidden */\n\nconst RTL = 'e-rtl';\n/** @hidden */\n\nconst DISPLAY_NONE = 'e-display-none';\n/** @hidden */\n\nconst COLLAPSED = 'e-node-collapsed';\n/** @hidden */\n\nconst FULLROW = 'e-fullrow';\n/** @hidden */\n\nconst ICON_COLLAPSIBLE = 'e-icon-collapsible';\n/** @hidden */\n\nconst SPLIT_BAR = 'e-split-bar';\n/** @hidden */\n\nconst HEADER_CHECK = 'e-headercheck';\n/** @hidden */\n\nconst OVERLAY = 'e-fe-overlay';\n/** @hidden */\n\nconst VALUE = 'e-fe-value';\n/**\n * Specifies the File Manager internal variables\n */\n\n/** @hidden */\n\nconst isFile = 'isFile';\n/**\n * Specifies the File Manager internal events\n */\n\n/** @hidden */\n\nconst modelChanged = 'model-changed';\n/** @hidden */\n\nconst initialEnd = 'initial-end';\n/** @hidden */\n\nconst finalizeEnd = 'finalize-end';\n/** @hidden */\n\nconst createEnd = 'create-end';\n/** @hidden */\n\nconst filterEnd = 'filter-end';\n/** @hidden */\n\nconst beforeDelete = 'before-delete';\n/** @hidden */\n\nconst pathDrag = 'path-drag';\n/** @hidden */\n\nconst deleteInit = 'delete-init';\n/** @hidden */\n\nconst deleteEnd = 'delete-end';\n/** @hidden */\n\nconst refreshEnd = 'refresh-end';\n/** @hidden */\n\nconst resizeEnd = 'resize-end';\n/** @hidden */\n\nconst splitterResize = 'splitter-resize';\n/** @hidden */\n\nconst pathChanged = 'path-changed';\n/** @hidden */\n\nconst destroy = 'destroy';\n/** @hidden */\n\nconst beforeRequest = 'before-request';\n/** @hidden */\n\nconst upload = 'upload';\n/** @hidden */\n\nconst skipUpload = 'skip-upload';\n/** @hidden */\n\nconst afterRequest = 'after-request';\n/** @hidden */\n\nconst download = 'download';\n/** @hidden */\n\nconst layoutRefresh = 'layout-refresh';\n/** @hidden */\n\nconst actionFailure = 'actionFailure';\n/** @hidden */\n\nconst search = 'search';\n/** @hidden */\n\nconst openInit = 'open-init';\n/** @hidden */\n\nconst openEnd = 'open-end';\n/** @hidden */\n\nconst selectionChanged = 'selection-changed';\n/** @hidden */\n\nconst selectAllInit = 'select-all-init';\n/** @hidden */\n\nconst clearAllInit = 'clear-all-init';\n/** @hidden */\n\nconst clearPathInit = 'clear-path-init';\n/** @hidden */\n\nconst layoutChange = 'layout-change';\n/** @hidden */\n\nconst sortByChange = 'sort-by-change';\n/** @hidden */\n\nconst nodeExpand = 'node-expand';\n/** @hidden */\n\nconst detailsInit = 'details-init';\n/** @hidden */\n\nconst menuItemData = 'menu-item-data';\n/** @hidden */\n\nconst renameInit = 'rename-init';\n/** @hidden */\n\nconst renameEndParent = 'rename-end-parent';\n/** @hidden */\n\nconst renameEnd = 'rename-end';\n/** @hidden */\n\nconst showPaste = 'show-paste';\n/** @hidden */\n\nconst hidePaste = 'hide-paste';\n/** @hidden */\n\nconst selectedData = 'selected-data';\n/** @hidden */\n\nconst cutCopyInit = 'cut-copy-init';\n/** @hidden */\n\nconst pasteInit = 'paste-init';\n/** @hidden */\n\nconst pasteEnd = 'paste-end';\n/** @hidden */\n\nconst cutEnd = 'cut-end';\n/** @hidden */\n\nconst hideLayout = 'hide-layout';\n/** @hidden */\n\nconst updateTreeSelection = 'update-tree-selection';\n/** @hidden */\n\nconst treeSelect = 'select-node';\n/** @hidden */\n\nconst sortColumn = 'sort-column';\n/** @hidden */\n\nconst pathColumn = 'path-column';\n/** @hidden */\n\nconst searchTextChange = 'search-change';\n/** @hidden */\n\nconst beforeDownload = 'before-download';\n/** @hidden */\n\nconst downloadInit = 'download-init';\n/** @hidden */\n\nconst dropInit = 'drop-init';\n/** @hidden */\n\nconst dragEnd = 'drag-end';\n/** @hidden */\n\nconst dropPath = 'drop-path';\n/** @hidden */\n\nconst dragHelper = 'drag-helper';\n/** @hidden */\n\nconst dragging = 'dragging';\n/** @hidden */\n\nconst updateSelectionData = 'update-selection-data';\n/** @hidden */\n\nconst methodCall = 'method-call';\n/** @hidden */\n\nconst permissionRead = 'read';\n/** @hidden */\n\nconst permissionEdit = 'write';\n/** @hidden */\n\nconst permissionEditContents = 'writeContents';\n/** @hidden */\n\nconst permissionCopy = 'copy';\n/** @hidden */\n\nconst permissionUpload = 'upload';\n/** @hidden */\n\nconst permissionDownload = 'download';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nfunction updatePath(node, data, instance) {\n  const text = getValue('name', data);\n  const id = node.getAttribute('data-id');\n  const newText = isNullOrUndefined(id) ? text : id;\n  instance.setProperties({\n    path: getPath(node, newText, instance.hasId)\n  }, true);\n  instance.pathId = getPathId(node);\n  instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\n\n\nfunction getPath(element, text, hasId) {\n  const matched = getParents(element, text, false, hasId);\n  let path = hasId ? '' : '/';\n  const len = matched.length - (hasId ? 1 : 2);\n\n  for (let i = len; i >= 0; i--) {\n    path += matched[i] + '/';\n  }\n\n  return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\n\n\nfunction getPathId(node) {\n  const matched = getParents(node, node.getAttribute('data-uid'), true);\n  const ids = [];\n\n  for (let i = matched.length - 1; i >= 0; i--) {\n    ids.push(matched[i]);\n  }\n\n  return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\n\n\nfunction getPathNames(element, text) {\n  const matched = getParents(element, text, false);\n  const names = [];\n\n  for (let i = matched.length - 1; i >= 0; i--) {\n    names.push(matched[i]);\n  }\n\n  return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\n\n\nfunction getParents(element, text, isId, hasId) {\n  const matched = [text];\n  let el = element.parentNode;\n\n  while (!isNullOrUndefined(el)) {\n    if (matches(el, '.' + LIST_ITEM)) {\n      const parentText = isId ? el.getAttribute('data-uid') : hasId ? el.getAttribute('data-id') : select('.' + LIST_TEXT, el).textContent;\n      matched.push(parentText);\n    }\n\n    el = el.parentNode;\n\n    if (el.classList.contains(TREE_VIEW)) {\n      break;\n    }\n  }\n\n  return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction generatePath(parent) {\n  const key = parent.hasId ? 'id' : 'name';\n  let newPath = parent.hasId ? '' : '/';\n  let i = parent.hasId ? 0 : 1;\n\n  for (i; i < parent.pathId.length; i++) {\n    // eslint-disable-next-line\n    const data = getValue(parent.pathId[i], parent.feParent);\n    newPath += getValue(key, data) + '/';\n  }\n\n  parent.setProperties({\n    path: newPath\n  }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction removeActive(parent) {\n  if (parent.isCut) {\n    removeBlur(parent);\n    parent.selectedNodes = [];\n    parent.actionRecords = [];\n    parent.enablePaste = false;\n    parent.notify(hidePaste, {});\n  }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\n\n\nfunction activeElement(action, parent) {\n  parent.isSearchCut = false;\n  parent.actionRecords = [];\n  parent.activeElements = [];\n  parent.notify(cutCopyInit, {});\n\n  if (parent.activeElements.length === 0) {\n    return false;\n  }\n\n  removeBlur(parent);\n  const blurEle = parent.activeElements;\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.targetPath = parent.path;\n  } else {\n    parent.targetPath = getParentPath(parent.path);\n  }\n\n  let i = 0;\n\n  if (blurEle) {\n    getModule(parent, blurEle[0]);\n\n    if (action === 'cut') {\n      while (i < blurEle.length) {\n        addBlur(blurEle[i]);\n        i++;\n      }\n    }\n  }\n\n  i = 0;\n  parent.selectedNodes = [];\n  parent.enablePaste = true;\n  parent.notify(showPaste, {});\n\n  while (i < parent.activeRecords.length) {\n    parent.actionRecords.push(parent.activeRecords[i]);\n    parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n    i++;\n  }\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && parent.activeModule !== 'navigationpane') {\n    parent.selectedNodes = [];\n    parent.isSearchCut = true;\n    let i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.selectedNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n  }\n\n  return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\n\n\nfunction addBlur(nodes) {\n  nodes.classList.add(BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\n\n\nfunction removeBlur(parent, hover) {\n  const blurEle = !hover ? parent.element.querySelectorAll('.' + BLUR) : parent.element.querySelectorAll('.' + HOVER);\n  let i = 0;\n\n  while (i < blurEle.length) {\n    blurEle[i].classList.remove(!hover ? BLUR : HOVER);\n    i++;\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\n\nfunction getModule(parent, element) {\n  if (element) {\n    if (element.classList.contains(ROW)) {\n      parent.activeModule = 'detailsview';\n    } else if (closest(element, '.' + LARGE_ICON)) {\n      parent.activeModule = 'largeiconsview';\n    } else {\n      parent.activeModule = 'navigationpane';\n    }\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\n\n\nfunction searchWordHandler(parent, value, isLayoutChange) {\n  let searchWord;\n\n  if (value.length === 0 && !parent.isFiltered) {\n    parent.notify(pathColumn, {\n      args: parent\n    });\n  }\n\n  if (parent.searchSettings.filterType === 'startsWith') {\n    searchWord = value + '*';\n  } else if (parent.searchSettings.filterType === 'endsWith') {\n    searchWord = '*' + value;\n  } else {\n    searchWord = '*' + value + '*';\n  }\n\n  parent.searchWord = searchWord;\n  parent.itemData = [getPathObject(parent)];\n\n  if (value.length > 0) {\n    const caseSensitive = parent.searchSettings.ignoreCase;\n    const hiddenItems = parent.showHiddenItems;\n    Search(parent, isLayoutChange ? layoutChange : search, parent.path, searchWord, hiddenItems, !caseSensitive);\n  } else {\n    if (!parent.isFiltered) {\n      read(parent, isLayoutChange ? layoutChange : search, parent.path);\n    } else {\n      filter(parent, layoutChange);\n    }\n  }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\n\n\nfunction updateLayout(parent, view) {\n  parent.setProperties({\n    view: view\n  }, true);\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n    parent.layoutSelectedItems = parent.selectedItems;\n  }\n\n  let searchWord = '';\n\n  if (parent.breadcrumbbarModule.searchObj.element.value) {\n    searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n  }\n\n  parent.isLayoutChange = true;\n  searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\n\nfunction getTargetModule(parent, element) {\n  let tartgetModule = '';\n\n  if (element) {\n    if (closest(element, '.e-gridcontent')) {\n      tartgetModule = 'detailsview';\n    } else if (closest(element, '.' + LARGE_ICONS)) {\n      tartgetModule = 'largeiconsview';\n    } else if (element.classList.contains('e-fullrow') || element.classList.contains('e-icon-expandable')) {\n      tartgetModule = 'navigationpane';\n    } else if (closest(element, '.e-address-list-item')) {\n      tartgetModule = 'breadcrumbbar';\n    } else {\n      tartgetModule = '';\n    }\n  }\n\n  parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction refresh(parent) {\n  parent.itemData = [getPathObject(parent)];\n\n  if (!hasReadAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], permissionRead);\n  } else {\n    read(parent, refreshEnd, parent.path);\n  }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction openAction(parent) {\n  read(parent, openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getPathObject(parent) {\n  return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction copyFiles(parent) {\n  if (!activeElement('copy', parent)) {\n    return;\n  } else {\n    parent.fileAction = 'copy';\n  }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction cutFiles(parent) {\n  if (!activeElement('cut', parent)) {\n    return;\n  } else {\n    parent.isCut = true;\n    parent.fileAction = 'move';\n  }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction fileType(file) {\n  const isFile$$1 = getValue('isFile', file);\n\n  if (!isFile$$1) {\n    return FOLDER;\n  }\n\n  const imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n  const audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n  const videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n  const knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc', 'xlsx', 'xls', 'xml', 'rtf', 'php'];\n  let filetype = getValue('type', file);\n  filetype = filetype.toLowerCase();\n\n  if (filetype.indexOf('.') !== -1) {\n    filetype = filetype.split('.').join('');\n  }\n\n  let iconType;\n\n  if (imageFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_IMAGE;\n  } else if (audioFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_MUSIC;\n  } else if (videoFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_VIDEO;\n  } else if (knownFormat.indexOf(filetype) !== -1) {\n    iconType = 'e-fe-' + filetype;\n  } else {\n    iconType = 'e-fe-unknown e-fe-' + filetype;\n  }\n\n  return iconType;\n}\n/* istanbul ignore next */\n\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getImageUrl(parent, item) {\n  const baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n  let imgUrl;\n  const fileName = getValue('name', item);\n  const fPath = getValue('filterPath', item);\n\n  if (parent.hasId) {\n    const imgId = getValue('id', item);\n    imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n  } else if (!isNullOrUndefined(fPath)) {\n    imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n  } else {\n    imgUrl = baseUrl + '?path=' + parent.path + fileName;\n  }\n\n  imgUrl = imgUrl + '&time=' + new Date().getTime().toString();\n  const eventArgs = {\n    fileDetails: [item],\n    imageUrl: imgUrl\n  };\n  parent.trigger('beforeImageLoad', eventArgs);\n  return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getFullPath(parent, data, path) {\n  const filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n  const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n\n  if (!isNullOrUndefined(fPath)) {\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return path + filePath;\n  }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getName(parent, data) {\n  let name = getValue('name', data);\n  let fPath = getValue('filterPath', data);\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNullOrUndefined(fPath)) {\n    fPath = fPath.replace(/\\\\/g, '/');\n    name = fPath.replace(parent.path, '') + name;\n  }\n\n  return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getSortedData(parent, items) {\n  if (items.length === 0) {\n    return items;\n  }\n\n  let query;\n\n  if (parent.sortOrder !== 'None') {\n    query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n  } else {\n    query = new Query().group('isFile');\n  } // eslint-disable-next-line\n\n\n  const lists = new DataManager(items).executeLocal(query);\n  return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getObject(parent, key, value) {\n  // eslint-disable-next-line\n  const currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n  const query = new Query().where(key, 'equal', value); // eslint-disable-next-line\n\n  const lists = new DataManager(currFiles).executeLocal(query);\n  return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\n\n\nfunction createEmptyElement(parent, element, args) {\n  let top;\n  const layoutElement = select('#' + parent.element.id + LAYOUT_ID, parent.element);\n  const addressBarHeight = select('#' + parent.element.id + BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n  top = layoutElement.offsetHeight - addressBarHeight;\n\n  if (parent.view === 'Details') {\n    top = top - select('.' + GRID_HEADER, layoutElement).offsetHeight;\n  }\n\n  if (isNullOrUndefined(element.querySelector('.' + EMPTY))) {\n    const emptyDiv = createElement('div', {\n      className: EMPTY\n    });\n    const emptyFolder = createElement('div', {\n      className: LARGE_EMPTY_FOLDER\n    });\n    const emptyEle = createElement('div', {\n      className: EMPTY_CONTENT\n    });\n    const dragFile = createElement('div', {\n      className: EMPTY_INNER_CONTENT\n    });\n\n    if (parent.view === 'Details') {\n      element.querySelector('.' + GRID_VIEW).appendChild(emptyDiv);\n    } else {\n      element.appendChild(emptyDiv);\n    }\n\n    emptyDiv.appendChild(emptyFolder);\n    emptyDiv.appendChild(emptyEle);\n    emptyDiv.appendChild(dragFile);\n  }\n\n  if (element.querySelector('.' + EMPTY)) {\n    if (!isNullOrUndefined(args.error)) {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n    } else if (parent.isFiltered) {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n    } else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n    } else {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n    }\n  }\n\n  const eDiv = select('.' + EMPTY, element);\n  top = (top - eDiv.offsetHeight) / 2;\n  eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getDirectories(files) {\n  return new DataManager(files).executeLocal(new Query().where(isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\n\n\nfunction setNodeId(result, rootId) {\n  // eslint-disable-next-line\n  const dirs = getDirectories(result.files);\n\n  for (let i = 0, len = dirs.length; i < len; i++) {\n    setValue('_fm_id', rootId + '_' + i, dirs[i]);\n  }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction setDateObject(args) {\n  for (let i = 0; i < args.length; i++) {\n    setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n    setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n  }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\n\n\nfunction getLocaleText(parent, text) {\n  const locale = parent.localeObj.getConstant(text);\n  return locale === '' ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\n\n\nfunction getCssClass(parent, css) {\n  let cssClass = parent.cssClass;\n  cssClass = isNullOrUndefined(cssClass) || cssClass === '' ? css : cssClass + ' ' + css;\n  return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction sortbyClickHandler(parent, args) {\n  let tick;\n\n  if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n    tick = true;\n  } else {\n    tick = false;\n  }\n\n  if (!tick) {\n    parent.sortBy = getSortField(args.item.id);\n  } else {\n    parent.sortOrder = getSortField(args.item.id);\n  }\n\n  parent.itemData = [getPathObject(parent)];\n\n  if (parent.view === 'Details') {\n    if (parent.isMobile) {\n      updateLayout(parent, 'Details');\n    } else {\n      parent.notify(sortColumn, {\n        module: 'detailsview'\n      });\n    }\n  }\n\n  if (parent.view === 'LargeIcons') {\n    updateLayout(parent, 'LargeIcons');\n  }\n\n  parent.notify(sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\n\n\nfunction getSortField(id) {\n  const text = id.substring(id.lastIndexOf('_') + 1);\n  let field = text;\n\n  switch (text) {\n    case 'date':\n      field = '_fm_modified';\n      break;\n\n    case 'ascending':\n      field = 'Ascending';\n      break;\n\n    case 'descending':\n      field = 'Descending';\n      break;\n\n    case 'none':\n      field = 'None';\n      break;\n  }\n\n  return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction setNextPath(parent, path) {\n  const currfolders = path.split('/');\n  const folders = parent.originalPath.split('/'); // eslint-disable-next-line\n\n  const root = getValue(parent.pathId[0], parent.feParent);\n  const key = isNullOrUndefined(getValue('id', root)) ? 'name' : 'id';\n\n  for (let i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n    const eventName = folders[i + 1] === '' ? finalizeEnd : initialEnd;\n    const newPath = folders[i] === '' ? '/' : parent.path + folders[i] + '/'; // eslint-disable-next-line\n\n    const data = getObject(parent, key, folders[i]);\n    const id = getValue('_fm_id', data);\n    parent.setProperties({\n      path: newPath\n    }, true);\n    parent.pathId.push(id);\n    parent.itemData = [data];\n    parent.pathNames.push(getValue('name', data));\n    read(parent, eventName, parent.path);\n    break;\n  }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction openSearchFolder(parent, data) {\n  parent.notify(clearPathInit, {\n    selectedNode: parent.pathId[parent.pathId.length - 1]\n  });\n  parent.originalPath = getFullPath(parent, data, parent.path);\n  read(parent, parent.path !== parent.originalPath ? initialEnd : finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteHandler(parent) {\n  parent.isDragDrop = false;\n\n  if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n    const path = parent.folderPath === '' ? parent.path : parent.folderPath; // eslint-disable-next-line\n\n    const subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n\n    if (!subFolder) {\n      if (parent.fileAction === 'move' && parent.targetPath !== path || parent.fileAction === 'copy') {\n        parent.notify(pasteInit, {});\n        paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n      } else {\n        parent.enablePaste = false;\n        parent.notify(hidePaste, {});\n        removeBlur(parent);\n      }\n    }\n  }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction validateSubFolder(parent, data, dropPath$$1, dragPath) {\n  let subFolder = false;\n\n  for (let i = 0; i < data.length; i++) {\n    if (!getValue('isFile', data[i])) {\n      const tempTarget = getFullPath(parent, data[i], dragPath);\n\n      if (dropPath$$1.indexOf(tempTarget) === 0) {\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Sub-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    } else {\n      const srcData = parent.dragNodes[i];\n      let len = 0;\n\n      if (srcData) {\n        len = srcData.lastIndexOf('/');\n      }\n\n      let path = '';\n\n      if (len > 0) {\n        path = dragPath + srcData.substring(0, len + 1);\n      }\n\n      if (path === dropPath$$1) {\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    }\n  }\n\n  return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction dropHandler(parent) {\n  parent.isDragDrop = true;\n\n  if (parent.dragData.length !== 0) {\n    parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n    parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n    const subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n\n    if (!subFolder && parent.dragPath !== parent.dropPath) {\n      parent.itemData = [parent.dropData];\n      paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n      parent.notify(pasteInit, {});\n    }\n  }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\n\n\nfunction getParentPath(oldPath) {\n  const path = oldPath.split('/');\n  let newPath = path[0] + '/';\n\n  for (let i = 1; i < path.length - 2; i++) {\n    newPath += path[i] + '/';\n  }\n\n  return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\n\n\nfunction getDirectoryPath(parent, args) {\n  const filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n  const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n\n  if (!isNullOrUndefined(fPath)) {\n    if (fPath === '') {\n      return parent.hasId ? filePath : '/';\n    }\n\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return parent.path + filePath;\n  }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\n\n\nfunction doPasteUpdate(parent, operation, result) {\n  if (operation === 'move') {\n    if (!parent.isDragDrop) {\n      parent.enablePaste = false;\n      parent.notify(hidePaste, {});\n      parent.notify(cutEnd, result);\n    } else {\n      parent.notify(dragEnd, result);\n    }\n  }\n\n  if (parent.duplicateItems.length === 0) {\n    parent.pasteNodes = [];\n  }\n\n  const flag = false;\n\n  for (let count = 0; count < result.files.length && !flag; count++) {\n    parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n\n    if (parent.isDragDrop) {\n      parent.droppedObjects.push(result.files[count]);\n    }\n  }\n\n  parent.duplicateItems = [];\n  parent.duplicateRecords = [];\n\n  if (parent.isDragDrop && !parent.isPasteError) {\n    parent.isDropEnd = true;\n  } else {\n    parent.isDropEnd = false;\n  }\n\n  if (!parent.isDragDrop || parent.path === parent.dragPath || parent.path === parent.dropPath || parent.isSearchDrag) {\n    parent.isPathDrag = false;\n    read(parent, pasteEnd, parent.path);\n  } else {\n    readDropPath(parent);\n  }\n\n  parent.trigger('success', {\n    action: operation,\n    result: result\n  });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction readDropPath(parent) {\n  const pathId = getValue('_fm_id', parent.dropData);\n  parent.expandedId = pathId;\n  parent.itemData = [parent.dropData];\n\n  if (parent.isPathDrag) {\n    parent.notify(pathDrag, parent.itemData);\n  } else {\n    if (parent.navigationpaneModule) {\n      const node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n      updatePath(node, parent.dropData, parent);\n    }\n\n    read(parent, dropPath, parent.dropPath);\n  }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getDuplicateData(parent, name) {\n  // eslint-disable-next-line\n  let data = null; // eslint-disable-next-line\n\n  const records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n\n  for (let i = 0; i < records.length; i++) {\n    if (getValue('name', records[i]) === name) {\n      data = records[i];\n      break;\n    }\n  }\n\n  return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction createVirtualDragElement(parent) {\n  parent.isSearchDrag = false;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n    parent.isSearchDrag = true;\n  }\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.dragNodes = [];\n    let i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.dragNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n\n    if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n      parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n    }\n  }\n\n  const cloneIcon = parent.createElement('div', {\n    className: 'e-fe-icon ' + fileType(parent.dragData[0])\n  });\n  const cloneName = parent.createElement('div', {\n    className: 'e-fe-name',\n    innerHTML: parent.dragData[0].name\n  });\n  const virtualEle = parent.createElement('div', {\n    className: 'e-fe-content'\n  });\n  virtualEle.appendChild(cloneIcon);\n  virtualEle.appendChild(cloneName);\n  const ele = parent.createElement('div', {\n    className: CLONE\n  });\n  ele.appendChild(virtualEle);\n\n  if (parent.dragNodes.length > 1) {\n    const badge = parent.createElement('span', {\n      className: 'e-fe-count',\n      innerHTML: parent.dragNodes.length.toString(10)\n    });\n    ele.appendChild(badge);\n  }\n\n  parent.virtualDragElement = ele;\n  parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction dragStopHandler(parent, args) {\n  const dragArgs = args;\n  dragArgs.cancel = false;\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeDropTarget(parent);\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  removeBlur(parent);\n  parent.uploadObj.dropArea = select('#' + parent.element.id + CONTENT_ID, parent.element);\n  const virtualEle = select('.' + CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n\n  getTargetModule(parent, args.target);\n  parent.notify(dropInit, args);\n  removeBlur(parent, 'hover');\n  dragArgs.fileDetails = parent.dragData;\n  parent.trigger('fileDragStop', dragArgs, dragArgs => {\n    if (!dragArgs.cancel && !isNullOrUndefined(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n      dropHandler(parent);\n    }\n\n    parent.dragCount = 0;\n  });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction dragStartHandler(parent, args, dragObj) {\n  const dragArgs = args;\n  dragArgs.cancel = false;\n  dragArgs.fileDetails = parent.dragData;\n  parent.dragCount = 0;\n  parent.droppedObjects = [];\n\n  if (!parent.allowDragAndDrop || parent.activeModule === 'navigationpane' && closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]) {\n    dragArgs.cancel = true;\n  }\n\n  if (parent.activeModule === 'navigationpane' && parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1) {\n    parent.isPathDrag = true;\n  } else {\n    parent.isPathDrag = false;\n  }\n\n  removeBlur(parent);\n\n  if (dragArgs.cancel) {\n    dragObj.intDestroy(args.event);\n    dragCancel(parent);\n  } else if (!dragArgs.cancel) {\n    let i = 0;\n\n    while (i < parent.activeElements.length) {\n      addBlur(parent.activeElements[i]);\n      i++;\n    }\n\n    parent.trigger('fileDragStart', dragArgs, dragArgs => {\n      if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n      } else {\n        parent.uploadObj.dropArea = null;\n      }\n    });\n  }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction dragCancel(parent) {\n  removeBlur(parent);\n  const virtualEle = select('.' + CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction removeDropTarget(parent) {\n  removeItemClass(parent, DROP_FOLDER);\n  removeItemClass(parent, DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\n\n\nfunction removeItemClass(parent, value) {\n  const ele = parent.element.querySelectorAll('.' + value);\n\n  for (let i = 0; i < ele.length; i++) {\n    ele[i].classList.remove(value);\n  }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction draggingHandler(parent, args) {\n  const dragArgs = args;\n  dragArgs.fileDetails = parent.dragData;\n  let canDrop = false;\n  getTargetModule(parent, args.target);\n  removeDropTarget(parent);\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeBlur(parent, 'hover');\n  let node = null;\n\n  if (parent.targetModule === 'navigationpane') {\n    node = closest(args.target, 'li');\n    node.classList.add(HOVER, DROP_FOLDER);\n    canDrop = true;\n    /* istanbul ignore next */\n\n    parent.treeExpandTimer = window.setTimeout(() => {\n      parent.notify(dragging, args);\n    }, 800);\n  } else if (parent.targetModule === 'detailsview') {\n    node = closest(args.target, 'tr');\n\n    if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(DROP_FOLDER);\n    } else if (node && !node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(DROP_FILE);\n    }\n\n    canDrop = true;\n  } else if (parent.targetModule === 'largeiconsview') {\n    node = closest(args.target, 'li');\n\n    if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(HOVER, DROP_FOLDER);\n    }\n\n    canDrop = true;\n    /* istanbul ignore next */\n  } else if (parent.targetModule === 'breadcrumbbar') {\n    canDrop = true;\n  }\n\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n  parent.dragCount = parent.dragCount + 1;\n  parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\n\n\nfunction objectToString(data) {\n  let str = '';\n  const keys = Object.keys(data);\n\n  for (let i = 0; i < keys.length; i++) {\n    if (keys[i] !== 'message') {\n      str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n    }\n  }\n\n  return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getItemName(parent, data) {\n  if (parent.hasId) {\n    return getValue('id', data);\n  }\n\n  return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction updateRenamingData(parent, data) {\n  parent.itemData = [data];\n  parent.currentItemText = getValue('name', data);\n  parent.isFile = getValue('isFile', data);\n  parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction doRename(parent) {\n  if (!hasEditAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], permissionEdit);\n  } else {\n    createDialog(parent, 'Rename');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction doDownload(parent) {\n  // eslint-disable-next-line\n  const items = parent.itemData;\n\n  for (let i = 0; i < items.length; i++) {\n    if (!hasDownloadAccess(items[i])) {\n      createDeniedDialog(parent, items[i], permissionDownload);\n      return;\n    }\n  }\n\n  if (parent.selectedItems.length > 0) {\n    Download(parent, parent.path, parent.selectedItems);\n  }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction doDeleteFiles(parent, data, newIds) {\n  for (let i = 0; i < data.length; i++) {\n    if (!hasEditAccess(data[i])) {\n      createDeniedDialog(parent, data[i], permissionEdit);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n  Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction doDownloadFiles(parent, data, newIds) {\n  for (let i = 0; i < data.length; i++) {\n    if (!hasDownloadAccess(data[i])) {\n      createDeniedDialog(parent, data[i], permissionDownload);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n\n  if (newIds.length > 0) {\n    Download(parent, parent.path, newIds);\n  }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction createDeniedDialog(parent, data, action) {\n  let message = getValue('message', getValue('permission', data));\n\n  if (message === '') {\n    message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n  }\n\n  const response = {\n    error: {\n      code: '401',\n      fileExists: null,\n      message: message\n    }\n  };\n  createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getAccessClass(data) {\n  return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasReadAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission && !getValue('read', permission) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasEditAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('write', permission) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasContentAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('writeContents', permission) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasUploadAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('upload', permission) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasDownloadAccess(data) {\n  // eslint-disable-next-line\n  const permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('download', permission) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction createNewFolder(parent) {\n  // eslint-disable-next-line\n  const details = parent.itemData[0];\n\n  if (!hasContentAccess(details)) {\n    createDeniedDialog(parent, details, permissionEditContents);\n  } else {\n    createDialog(parent, 'NewFolder');\n  }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction uploadItem(parent) {\n  // eslint-disable-next-line\n  const details = parent.itemData[0];\n\n  if (!hasUploadAccess(details)) {\n    createDeniedDialog(parent, details, permissionUpload);\n  } else {\n    const eleId = '#' + parent.element.id + UPLOAD_ID;\n    const uploadEle = document.querySelector(eleId);\n    uploadEle.click();\n  }\n}\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction read(parent, event, path) {\n  // eslint-disable-next-line\n  const itemData = parent.itemData;\n\n  for (let i = 0; i < itemData.length; i++) {\n    if (isNullOrUndefined(getValue('hasChild', itemData[i]))) {\n      setValue('hasChild', false, itemData[i]);\n    }\n  } // eslint-disable-next-line\n\n\n  const data = {\n    action: 'read',\n    path: path,\n    showHiddenItems: parent.showHiddenItems,\n    data: itemData\n  };\n  createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createFolder(parent, itemName) {\n  // eslint-disable-next-line\n  const data = {\n    action: 'create',\n    path: parent.path,\n    name: itemName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction filter(parent, event) {\n  // eslint-disable-next-line\n  const data = {\n    action: 'filter',\n    path: parent.path,\n    showHiddenItems: parent.showHiddenItems,\n    data: [getPathObject(parent)]\n  }; // eslint-disable-next-line\n\n  let filterData; // eslint-disable-next-line\n\n  const filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n  createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\n\n\nfunction rename(parent, path, itemNewName) {\n  let name;\n  let newName;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n    name = parent.currentItemText;\n    newName = itemNewName;\n  } else {\n    let fPath = parent.filterPath;\n\n    if (parent.hasId) {\n      name = parent.currentItemText;\n      newName = itemNewName;\n    } else {\n      fPath = fPath.replace(/\\\\/g, '/');\n      name = fPath.replace(path, '') + parent.currentItemText;\n      newName = fPath.replace(path, '') + itemNewName;\n    }\n  } // eslint-disable-next-line\n\n\n  const data = {\n    action: 'rename',\n    path: path,\n    name: name,\n    newName: newName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\n\n\nfunction paste(parent, path, names, targetPath, pasteOperation, // eslint-disable-next-line\nrenameItems, actionRecords) {\n  // eslint-disable-next-line\n  const data = {\n    action: pasteOperation,\n    path: path,\n    targetData: parent.itemData[0],\n    targetPath: targetPath,\n    names: names,\n    renameFiles: renameItems,\n    data: actionRecords\n  };\n  parent.destinationPath = targetPath;\n  createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction Delete(parent, items, path, operation) {\n  // eslint-disable-next-line\n  const data = {\n    action: operation,\n    path: path,\n    names: items,\n    data: parent.itemData\n  };\n  createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\n\n\nfunction GetDetails(parent, names, path, operation) {\n  // eslint-disable-next-line\n  const data = {\n    action: operation,\n    path: path,\n    names: names,\n    data: parent.itemData\n  };\n  createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\n\n\nfunction createAjax( // eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n  // eslint-disable-next-line\n  const ajaxSettings = {\n    url: parent.ajaxSettings.url,\n    type: 'POST',\n    mode: true,\n    dataType: 'json',\n    contentType: 'application/json',\n    data: JSON.stringify(data),\n    onSuccess: null,\n    onFailure: null,\n    beforeSend: null\n  };\n  const eventArgs = {\n    action: getValue('action', data),\n    ajaxSettings: ajaxSettings,\n    cancel: false\n  };\n  parent.trigger('beforeSend', eventArgs, beforeSendArgs => {\n    if (!beforeSendArgs.cancel) {\n      parent.notify(beforeRequest, {});\n      const ajax = new Ajax({\n        url: getValue('url', beforeSendArgs.ajaxSettings),\n        type: getValue('type', beforeSendArgs.ajaxSettings),\n        mode: getValue('mode', beforeSendArgs.ajaxSettings),\n        dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n        contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n        data: getValue('data', beforeSendArgs.ajaxSettings),\n        beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n        onSuccess: result => {\n          if (isNullOrUndefined(result)) {\n            const result = {\n              error: {\n                fileExists: null,\n                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                code: '406'\n              },\n              files: null\n            };\n            triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n            return;\n          }\n\n          if (typeof result === 'string') {\n            result = JSON.parse(result);\n          }\n\n          parent.notify(afterRequest, {\n            action: 'success'\n          });\n          const id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n\n          if (!isNullOrUndefined(result.cwd) && getValue('action', data) === 'read') {\n            result.cwd.name = parent.pathId.length === 1 ? parent.rootAliasName || result.cwd.name : result.cwd.name;\n            setValue('_fm_id', id, result.cwd);\n            setValue(id, result.cwd, parent.feParent);\n\n            if (!isNullOrUndefined(result.files) || result.error.code === '401') {\n              if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                // eslint-disable-next-line\n                const root = getValue(parent.pathId[0], parent.feParent);\n                parent.pathNames[0] = getValue('name', root);\n                parent.hasId = !isNullOrUndefined(getValue('id', root));\n              }\n\n              if (event === 'finalize-end') {\n                generatePath(parent);\n              }\n            }\n          }\n\n          if (!isNullOrUndefined(result.files)) {\n            setDateObject(result.files);\n\n            for (let i = 0, len = result.files.length; i < len; i++) {\n              // eslint-disable-next-line\n              const item = result.files[i];\n              setValue('_fm_iconClass', fileType(item), item);\n            }\n\n            if (getValue('action', data) === 'read') {\n              setNodeId(result, id);\n              setValue(id, result.files, parent.feFiles);\n            }\n          }\n\n          if (!isNullOrUndefined(result.details) && !isNullOrUndefined(parent.rootAliasName)) {\n            const rootName = parent.rootAliasName || getValue('name', result.details);\n            let location = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n\n            if (getValue('path', data) === '/' || parent.hasId && getValue('path', data).match(/[/]/g).length === 1) {\n              if (getValue('names', data).length === 0) {\n                setValue('name', rootName, result.details);\n                location = rootName;\n              } else {\n                location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n              }\n            } else {\n              location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n            }\n\n            setValue('location', location, result.details);\n          }\n\n          fn(parent, result, event, operation, targetPath);\n\n          if (!isNullOrUndefined(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n            parent.notify(searchTextChange, result);\n          }\n\n          if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n          }\n        },\n        onFailure: () => {\n          const result = {\n            files: null,\n            error: {\n              code: '404',\n              message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n              fileExists: null\n            }\n          };\n          triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n        }\n      });\n      ajax.send();\n    }\n  });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerAjaxFailure( // eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n  parent.notify(afterRequest, {\n    action: 'failure'\n  });\n  fn(parent, result, event, operation, targetPath);\n\n  if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n    getValue('onFailure', beforeSendArgs.ajaxSettings)();\n  }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction readSuccess(parent, result, event) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    parent.notify(selectionChanged, {});\n    const args = {\n      action: 'read',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    if (result.error.code === '401') {\n      result.files = [];\n      parent.notify(event, result);\n      parent.notify(selectionChanged, {});\n    }\n\n    onFailure(parent, result, 'read');\n  }\n\n  if (parent.isDragDrop && parent.isDropEnd) {\n    if (parent.droppedObjects.length !== 0) {\n      const args = {\n        fileDetails: parent.droppedObjects\n      };\n      parent.trigger('fileDropped', args);\n    }\n\n    parent.isDropEnd = parent.isDragDrop = false;\n  }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction filterSuccess(parent, result, event, action) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    const args = {\n      action: action,\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, action);\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createSuccess(parent, result, itemName) {\n  if (!isNullOrUndefined(result.files)) {\n    if (parent.dialogObj && parent.dialogObj.visible) {\n      parent.dialogObj.hide();\n    }\n\n    parent.createdItem = result.files[0];\n    parent.breadcrumbbarModule.searchObj.value = '';\n    const args = {\n      action: 'create',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, createEnd, parent.path);\n  } else {\n    if (result.error.code === '400') {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        const ele = select('#newname', parent.dialogObj.element);\n        const error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n        ele.parentElement.nextElementSibling.innerHTML = error;\n      } else {\n        const result = {\n          files: null,\n          error: {\n            code: '400',\n            message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n      }\n\n      const args = {\n        action: 'create',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'create');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\n\n\nfunction renameSuccess(parent, result, path) {\n  if (!isNullOrUndefined(result.files)) {\n    if (!isNullOrUndefined(parent.dialogObj)) {\n      parent.dialogObj.hide();\n    }\n\n    const args = {\n      action: 'rename',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.renamedItem = result.files[0];\n\n    if (parent.activeModule === 'navigationpane') {\n      parent.pathId.pop();\n      parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n      read(parent, renameEndParent, getParentPath(parent.path));\n    } else {\n      parent.itemData = [getPathObject(parent)];\n\n      if (parent.breadcrumbbarModule.searchObj.value !== '') {\n        Search(parent, renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n      } else {\n        if (parent.isFiltered) {\n          filter(parent, renameEnd);\n        } else {\n          read(parent, renameEnd, parent.path);\n        }\n      }\n    }\n  } else {\n    if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n      const ele = select('#rename', parent.dialogObj.element);\n      let error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n      error = error.replace('{1}', '\"' + ele.value + '\"');\n      ele.parentElement.nextElementSibling.innerHTML = error;\n      const args = {\n        action: 'rename',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (!isNullOrUndefined(parent.dialogObj)) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'rename');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteSuccess(parent, result, path, operation) {\n  if (result.error && result.error.fileExists) {\n    parent.fileLength = 0;\n\n    if (!isNullOrUndefined(result.files)) {\n      parent.isPasteError = true;\n      doPasteUpdate(parent, operation, result);\n    }\n\n    createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n\n    if (result.error.code === '404') {\n      createDialog(parent, 'Error', result);\n    }\n  } else if (!result.error && !isNullOrUndefined(result.files)) {\n    parent.isPasteError = false;\n    doPasteUpdate(parent, operation, result);\n  } else if (result.error && !isNullOrUndefined(result.files)) {\n    parent.isPasteError = true;\n    doPasteUpdate(parent, operation, result);\n    createDialog(parent, 'Error', result);\n  } else {\n    onFailure(parent, result, operation);\n  }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction deleteSuccess(parent, result, path) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.setProperties({\n      path: path\n    }, true);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, deleteEnd, parent.path);\n\n    if (result.error) {\n      onFailure(parent, result, 'delete');\n    } else {\n      const args = {\n        action: 'delete',\n        result: result\n      };\n      parent.trigger('success', args);\n    }\n  } else {\n    onFailure(parent, result, 'delete');\n  }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction detailsSuccess( // eslint:disable-next-line\nparent, result, path, operation) {\n  if (!isNullOrUndefined(result.details)) {\n    createDialog(parent, operation, null, result.details);\n    const args = {\n      action: 'details',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'details');\n  }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction onFailure(parent, result, action) {\n  createDialog(parent, 'Error', result);\n  const args = {\n    action: action,\n    error: result.error\n  };\n  parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\n\n\nfunction Search( // eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n  // eslint-disable-next-line\n  const data = {\n    action: 'search',\n    path: path,\n    searchString: searchString,\n    showHiddenItems: showHiddenItems,\n    caseSensitive: caseSensitive,\n    data: parent.itemData\n  };\n  createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction searchSuccess(parent, result, event) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    const args = {\n      action: 'search',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'search');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\n\n\nfunction Download(parent, path, items) {\n  const downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url; // eslint-disable-next-line\n\n  const data = {\n    'action': 'download',\n    'path': path,\n    'names': items,\n    'data': parent.itemData\n  };\n  const eventArgs = {\n    data: data,\n    cancel: false\n  };\n  parent.trigger('beforeDownload', eventArgs, downloadArgs => {\n    if (!downloadArgs.cancel) {\n      const form = createElement('form', {\n        id: parent.element.id + '_downloadForm',\n        attrs: {\n          action: downloadUrl,\n          method: 'post',\n          name: 'downloadForm',\n          'download': ''\n        }\n      });\n      const input = createElement('input', {\n        id: parent.element.id + '_hiddenForm',\n        attrs: {\n          name: 'downloadInput',\n          value: JSON.stringify(downloadArgs.data),\n          type: 'hidden'\n        }\n      });\n      form.appendChild(input);\n      parent.element.appendChild(form);\n      document.forms.namedItem('downloadForm').submit();\n      parent.element.removeChild(form);\n    }\n  });\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\n\n\nfunction createDialog(parent, text, e, details, replaceItems) {\n  const options = getOptions(parent, text, e, details, replaceItems);\n\n  if (isNullOrUndefined(parent.dialogObj)) {\n    parent.dialogObj = new Dialog({\n      beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n      beforeClose: args => {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n      },\n      header: options.header,\n      content: options.content,\n      buttons: options.buttons,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      allowDragging: true,\n      isModal: true,\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      width: '350px',\n      open: options.open,\n      close: options.close,\n      enableRtl: parent.enableRtl,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.dialogObj.isStringTemplate = true;\n    parent.dialogObj.appendTo('#' + parent.element.id + DIALOG_ID);\n  } else {\n    changeOptions(parent, options);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\n\n\nfunction createExtDialog(parent, text, replaceItems, newPath) {\n  const extOptions = getExtOptions(parent, text, replaceItems, newPath);\n  parent.isApplySame = false;\n\n  if (isNullOrUndefined(parent.extDialogObj)) {\n    parent.extDialogObj = new Dialog({\n      beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n      beforeClose: args => {\n        triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n      },\n      content: extOptions.content,\n      header: extOptions.header,\n      closeOnEscape: true,\n      allowDragging: true,\n      animationSettings: {\n        effect: 'None'\n      },\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      enableRtl: parent.enableRtl,\n      showCloseIcon: true,\n      isModal: true,\n      width: 350,\n      buttons: extOptions.buttons,\n      open: extOptions.open,\n      close: extOptions.close,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.extDialogObj.isStringTemplate = true;\n    parent.extDialogObj.appendTo('#' + parent.element.id + EXTN_DIALOG_ID);\n  } else {\n    parent.extDialogObj.header = extOptions.header;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.open = extOptions.open;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.content = extOptions.content;\n    parent.extDialogObj.buttons = extOptions.buttons;\n    parent.extDialogObj.enableRtl = parent.enableRtl;\n    parent.extDialogObj.locale = parent.locale;\n    parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n\n    parent.extDialogObj.beforeClose = args => {\n      triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n    };\n\n    parent.extDialogObj.dataBind();\n    parent.extDialogObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n  const eventArgs = {\n    cancel: args.cancel,\n    popupName: dialogName,\n    popupModule: dlgModule\n  };\n  parent.trigger('beforePopupOpen', eventArgs, eventargs => {\n    args.cancel = eventargs.cancel;\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n  const eventArgs = {\n    cancel: args.cancel,\n    popupModule: dlgModule,\n    popupName: dialogName\n  };\n  parent.trigger('beforePopupClose', eventArgs, eventargs => {\n    args.cancel = eventargs.cancel;\n\n    if (!args.cancel && args.isInteracted && (dialogName === 'Rename' || dialogName === 'Create Folder')) {\n      parent.trigger(actionFailure, {});\n    }\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n  const args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n  const args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupClose', args);\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\n\n\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n  const options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  let duplicateContent;\n  let item;\n  let index;\n\n  options.open = () => {\n    triggerPopupOpen(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  options.close = () => {\n    triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  switch (text) {\n    case 'Extension':\n      options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n      options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: () => {\n          parent.extDialogObj.hide();\n          rename(parent, newPath, parent.renameText);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: () => {\n          parent.extDialogObj.hide();\n          parent.dialogObj.hide();\n        }\n      }];\n      options.dialogName = 'Extension Change';\n      break;\n\n    case 'DuplicateItems':\n      options.dialogName = 'Duplicate Items';\n      parent.replaceItems = replaceItems;\n      item = parent.replaceItems[parent.fileLength];\n      index = item.lastIndexOf('/');\n      item = index === -1 ? item : item.substring(index);\n      options.header = getLocaleText(parent, 'Header-Duplicate');\n      duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n      options.content = duplicateContent.replace('{0}', item);\n\n      options.close = () => {\n        if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n          const args = {\n            fileDetails: parent.droppedObjects\n          };\n          parent.trigger('fileDropped', args);\n          parent.isDropEnd = parent.isDragDrop = false;\n        }\n\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: () => {\n          parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n          parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            let item = parent.replaceItems[parent.fileLength];\n            const indexval = item.lastIndexOf('/');\n            item = indexval === -1 ? item : item.substring(indexval);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n            const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n            const path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n            const action = parent.isDragDrop ? 'move' : parent.fileAction;\n            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n          }\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: () => {\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            let item = parent.replaceItems[parent.fileLength];\n            const ind = item.lastIndexOf('/');\n            item = ind === -1 ? item : item.substring(ind);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n\n            if (parent.duplicateItems.length !== 0) {\n              const action = parent.isDragDrop ? 'move' : parent.fileAction;\n              const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n              const path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n              paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n            }\n          }\n        }\n      }];\n      break;\n\n    case 'UploadRetry':\n      options.dialogName = 'Retry Upload';\n      options.header = getLocaleText(parent, 'Header-Retry');\n      options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' + getLocaleText(parent, 'Content-Retry') + '</div>';\n      options.open = onRetryOpen.bind(this, parent);\n\n      options.close = () => {\n        parent.isRetryOpened = false;\n        retryDlgClose(parent);\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Keep-Both')\n        },\n        click: () => {\n          retryDlgUpdate(parent, true);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Replace')\n        },\n        click: () => {\n          retryDlgUpdate(parent, false);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Skip')\n        },\n        click: () => {\n          let count = 0;\n\n          if (parent.isApplySame) {\n            count = parent.retryFiles.length;\n            parent.retryFiles = [];\n            retryDlgClose(parent);\n          } else {\n            count = 1;\n            parent.retryFiles.splice(0, 1);\n\n            if (parent.retryFiles.length !== 0) {\n              createExtDialog(parent, 'UploadRetry');\n            } else {\n              retryDlgClose(parent);\n            }\n          }\n\n          parent.notify(skipUpload, {\n            count: count\n          });\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgUpdate(parent, isKeepBoth) {\n  if (parent.isApplySame) {\n    if (isKeepBoth) {\n      onKeepBothAll(parent);\n    } else {\n      onReplaceAll(parent);\n    }\n\n    retryDlgClose(parent);\n  } else {\n    parent.retryArgs.push({\n      action: isKeepBoth ? 'keepboth' : 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n\n    if (parent.retryFiles.length !== 0) {\n      createExtDialog(parent, 'UploadRetry');\n    } else {\n      retryDlgClose(parent);\n    }\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgClose(parent) {\n  let flag = true;\n\n  if (parent.isRetryOpened) {\n    parent.isRetryOpened = false;\n  } else {\n    flag = false;\n  }\n\n  const ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n\n  if (ele) {\n    remove(ele);\n  }\n\n  if (flag) {\n    parent.extDialogObj.hide();\n  } else {\n    parent.retryFiles = [];\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction onRetryOpen(parent, args) {\n  parent.isRetryOpened = true;\n  const dialogEle = getValue('element', args);\n  const container = select('.e-dlg-content', dialogEle);\n  const checkContainer = parent.createElement('div', {\n    className: 'e-dlg-checkbox'\n  });\n  const checkbox = parent.createElement('input', {\n    id: parent.element.id + '_applyall'\n  });\n  checkContainer.appendChild(checkbox);\n  container.appendChild(checkContainer);\n  const checkBoxObj = new CheckBox({\n    label: getLocaleText(parent, 'ApplyAll-Label'),\n    change: args => {\n      parent.isApplySame = args.checked;\n    }\n  });\n  checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n  triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onKeepBothAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'keepboth',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReplaceAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction focusInput(parent) {\n  const ele = select('#newname', parent.dialogObj.element);\n  ele.focus();\n  ele.value = '';\n  const len = ele.value.length;\n  ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFolderDialogOpen(parent) {\n  const ele = select('#newname', parent.dialogObj.element);\n\n  if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n  }\n\n  ele.parentElement.nextElementSibling.innerHTML = '';\n\n  ele.oninput = () => {\n    onValidate(parent, ele);\n  };\n\n  ele.onkeyup = e => {\n    const code = getKeyCode(e);\n\n    if (code === 13) {\n      onSubmit(parent);\n    }\n  };\n\n  focusInput(parent);\n  triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onRenameDialogOpen(parent) {\n  const inputEle = select('#rename', parent.dialogObj.element);\n\n  if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n  }\n\n  inputEle.parentElement.nextElementSibling.innerHTML = '';\n\n  inputEle.oninput = () => {\n    onValidate(parent, inputEle);\n  };\n\n  inputEle.onkeyup = e => {\n    const code = getKeyCode(e);\n\n    if (code === 13) {\n      onReSubmit(parent);\n    }\n  };\n\n  onFocusRenameInput(parent, inputEle);\n  triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFocusRenameInput(parent, inputEle) {\n  inputEle.focus();\n  let txt = '';\n\n  if (parent.isFile && !parent.showFileExtension) {\n    const index = parent.currentItemText.lastIndexOf('.');\n    txt = index === -1 ? parent.currentItemText : parent.currentItemText.substring(0, index);\n  } else {\n    txt = parent.currentItemText;\n  }\n\n  inputEle.value = txt;\n\n  if (parent.isFile && parent.showFileExtension && inputEle.value.indexOf('.') !== -1) {\n    inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n  } else {\n    inputEle.setSelectionRange(0, inputEle.value.length);\n  }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\n\n\nfunction createInput(ele, placeholder) {\n  Input.createInput({\n    element: ele,\n    properties: {\n      placeholder: placeholder\n    }\n  });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\n\n\nfunction getOptions(parent, text, e, details, replaceItems) {\n  const options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  let permission;\n  let formattedString;\n  let intl;\n  let strArr;\n  let fileType$$1;\n  let location;\n\n  options.open = () => {\n    triggerPopupOpen(parent, parent.dialogObj, options.dialogName);\n  };\n\n  options.close = () => {\n    triggerPopupClose(parent, parent.dialogObj, options.dialogName);\n  };\n\n  text = details && details.multipleFiles === true ? 'MultipleFileDetails' : text;\n\n  switch (text) {\n    case 'NewFolder':\n      options.dialogName = 'Create Folder';\n      options.header = getLocaleText(parent, 'Header-NewFolder');\n      options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Create')\n        },\n        click: e => {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onSubmit(parent);\n        }\n      }];\n      options.open = onFolderDialogOpen.bind(this, parent);\n      break;\n\n    case 'Delete':\n      options.dialogName = 'Delete';\n\n      if (parent.selectedItems.length > 1) {\n        options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>').replace('{0}', parent.selectedItems.length.toString());\n        options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n      } else {\n        options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n        options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n      }\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: e => {\n          onDeleteSubmit(parent);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: () => {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Rename':\n      options.dialogName = 'Rename';\n      options.header = getLocaleText(parent, 'Header-Rename');\n      options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Save')\n        },\n        click: e => {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onReSubmit(parent);\n        }\n      }];\n      options.open = onRenameDialogOpen.bind(this, parent);\n      break;\n\n    case 'details':\n      options.dialogName = 'File Details';\n      intl = new Internationalization(parent.locale);\n      formattedString = intl.formatDate(new Date(details.modified), {\n        format: 'MMMM dd, yyyy HH:mm:ss'\n      });\n      permission = '';\n\n      if (!isNullOrUndefined(details.permission)) {\n        permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + VALUE + '\" >' + objectToString(details.permission) + '</td></tr>';\n      }\n\n      options.header = details.name;\n      options.content = '<table>' + '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + VALUE + '\" title=\"' + (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + VALUE + '\" title =\"' + details.size + '\">' + details.size + '</span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + VALUE + '\" title=\"' + details.location + '\">' + details.location + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + VALUE + '\" >' + formattedString + '</td></tr>' + permission + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: e => {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'MultipleFileDetails':\n      options.dialogName = 'File Details';\n      strArr = details.name.split(',').map(val => {\n        const index = val.indexOf('.') + 1;\n        return index === 0 ? 'Folder' : val.substr(index).replace(' ', '');\n      });\n      fileType$$1 = strArr.every((val, i, arr) => val === arr[0]) ? strArr[0] === 'Folder' ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type' : 'Multiple Types';\n      location = details.location;\n      options.header = details.name;\n      options.content = '<table><tr><td>' + getLocaleText(parent, 'Type') + ':</td><td class=\"' + VALUE + '\">' + fileType$$1 + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' + details.size + '<span class=\"' + VALUE + '\" title =\"' + details.size + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + ':</td><td class=\"' + VALUE + '\" title=\"' + location + '\">' + location + '</td></tr>' + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: e => {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Error':\n      parent.notify(actionFailure, {});\n      options.dialogName = 'Error';\n\n      if (e.error.code === '401') {\n        options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' + getLocaleText(parent, 'Access-Denied') + '</div>';\n      } else {\n        options.header = getLocaleText(parent, 'Error');\n      }\n\n      options.content = '<div class=\"' + ERROR_CONTENT + '\">' + e.error.message + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: e => {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction keydownAction(parent, dialogName, args) {\n  const btnElement = selectAll('.e-btn', parent.dialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction beforeExtOpen(parent, dlgName, args) {\n  const btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\n\n\nfunction preventKeydown(btnElement) {\n  for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n    btnElement[btnCount].onkeydown = e => {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n      }\n    };\n\n    btnElement[btnCount].onkeyup = e => {\n      if (e.keyCode === 13) {\n        btnElement[btnCount].click();\n      }\n    };\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\n\n\nfunction changeOptions(parent, options) {\n  parent.dialogObj.header = options.header;\n  parent.dialogObj.content = options.content;\n  parent.dialogObj.buttons = options.buttons;\n  parent.dialogObj.enableRtl = parent.enableRtl;\n  parent.dialogObj.open = options.open;\n  parent.dialogObj.close = options.close;\n  parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n\n  parent.dialogObj.beforeClose = args => {\n    triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n  };\n\n  parent.dialogObj.dataBind();\n  parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmit(parent) {\n  const ele = select('#newname', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReSubmit(parent) {\n  const ele = select('#rename', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  let text = ele.value;\n  const oIndex = parent.currentItemText.lastIndexOf('.');\n\n  if (parent.isFile && !parent.showFileExtension) {\n    const extn = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    text += extn;\n  }\n\n  parent.renameText = text;\n\n  if (parent.currentItemText === text) {\n    parent.dialogObj.hide();\n    return;\n  }\n\n  const newPath = parent.activeModule === 'navigationpane' ? getParentPath(parent.path) : parent.path;\n  parent.renamedId = getValue('id', parent.itemData[0]);\n\n  if (parent.isFile) {\n    const oldExtension = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    const nIndex = text.lastIndexOf('.');\n    const newExtension = nIndex === -1 ? '' : text.substr(nIndex);\n\n    if (parent.showFileExtension && oldExtension !== newExtension) {\n      createExtDialog(parent, 'Extension', null, newPath);\n    } else {\n      rename(parent, newPath, text);\n    }\n  } else {\n    rename(parent, newPath, text);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onDeleteSubmit(parent) {\n  parent.dialogObj.hide();\n  parent.notify(deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onValidate(parent, ele) {\n  if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n    addInvalid(parent, ele);\n  } else if (ele.value === '') {\n    ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = '';\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmitValidate(parent, ele) {\n  onValidate(parent, ele);\n  const len = ele.value.length - 1;\n\n  if (ele.value !== '' && (ele.value.lastIndexOf('.') === len || ele.value.lastIndexOf(' ') === len) && (parent.showFileExtension || parent.currentItemText.lastIndexOf('.') === -1)) {\n    addInvalid(parent, ele);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction addInvalid(parent, ele) {\n  const error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n\n  if (parent.enableHtmlSanitizer) {\n    ele.parentElement.nextElementSibling.textContent = error;\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = error;\n  }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\n\n\nfunction getKeyCode(e) {\n  let code;\n\n  if (e.keyCode) {\n    code = e.keyCode;\n  } else if (e.which) {\n    code = e.which;\n  } else {\n    code = e.charCode;\n  }\n\n  return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\n\n\nfunction createImageDialog(parent, header, imageUrl) {\n  const content = createElement('div', {\n    className: 'e-image-wrap'\n  });\n  const image = createElement('img', {\n    className: 'e-image',\n    attrs: {\n      src: imageUrl,\n      alt: header\n    }\n  });\n  content.appendChild(image);\n\n  if (isNullOrUndefined(parent.viewerObj)) {\n    parent.viewerObj = new Dialog({\n      header: header,\n      content: content,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      isModal: true,\n      width: '350px',\n      height: '350px',\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      locale: parent.locale,\n      enableResize: true,\n      allowDragging: true,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: parent.enableRtl,\n      open: openImage.bind(this, parent),\n      close: () => {\n        triggerPopupClose(parent, parent.viewerObj, 'Image Preview');\n      },\n      beforeOpen: args => {\n        triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      beforeClose: args => {\n        triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      resizing: updateImage.bind(this, parent),\n      resizeStop: updateImage.bind(this, parent)\n    });\n    parent.viewerObj.isStringTemplate = true;\n    parent.viewerObj.appendTo('#' + parent.element.id + IMG_DIALOG_ID);\n  } else {\n    parent.viewerObj.refresh();\n    parent.viewerObj.header = header;\n    parent.viewerObj.content = content;\n    parent.viewerObj.enableRtl = parent.enableRtl;\n    parent.viewerObj.dataBind();\n    parent.viewerObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction openImage(parent) {\n  setTimeout(() => {\n    if (parent.viewerObj) {\n      parent.viewerObj.element.focus();\n    }\n  });\n  updateImage(parent);\n  triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction updateImage(parent) {\n  const content = select('.e-dlg-content', parent.viewerObj.element);\n  const imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n  const cssObj = window.getComputedStyle(content, null);\n  const paddingWidth = cssObj ? 2 * parseFloat(cssObj.paddingRight) : 36;\n  const paddingHeight = cssObj ? 2 * parseFloat(cssObj.paddingBottom) : 20;\n  imgWrap.style.width = content.offsetWidth - paddingWidth + 'px';\n  imgWrap.style.height = content.offsetHeight - paddingHeight + 'px';\n}\n/**\n * File Manager common operations\n */\n\n/**\n * LargeIconsView module\n */\n\n\nclass LargeIconsView {\n  /**\n   * Constructor for the LargeIcons module.\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  constructor(parent) {\n    this.isInteraction = true;\n    this.uploadOperation = false;\n    this.count = 0;\n    this.isRendered = true;\n    this.tapCount = 0;\n    this.isPasteOperation = false;\n    this.isInteracted = true;\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n    addClass([this.element], LARGE_ICONS);\n    this.addEventListener();\n    this.keyConfigs = {\n      end: 'end',\n      home: 'home',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      ctrlUp: 'ctrl+uparrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftLeft: 'shift+leftarrow',\n      shiftRight: 'shift+rightarrow',\n      shiftUp: 'shift+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csLeft: 'ctrl+shift+leftarrow',\n      csRight: 'ctrl+shift+rightarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: 'ctrl+x',\n      ctrlC: 'ctrl+c',\n      ctrlV: 'ctrl+v',\n      f2: 'f2',\n      shiftdel: 'shift+delete',\n      back: 'backspace',\n      ctrlD: 'ctrl+d'\n    };\n  }\n\n  render(args) {\n    this.parent.visitedItem = null;\n    this.startItem = null;\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'LargeIcons') {\n      this.resetMultiSelect();\n      this.element.setAttribute('tabindex', '0');\n\n      if (this.listObj) {\n        this.unWireEvents();\n        this.removeEventListener();\n      }\n\n      this.parent.notify(hideLayout, {});\n      const iconsView = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n      const ul = select('ul', iconsView);\n\n      if (ul) {\n        remove(ul);\n      }\n\n      this.listObj = {\n        ariaAttributes: {\n          itemRole: 'option',\n          listRole: 'listbox',\n          itemText: '',\n          groupItemRole: 'group',\n          wrapperRole: ''\n        },\n        showIcon: true,\n        fields: {\n          text: 'name',\n          iconCss: '_fm_icon',\n          imageUrl: '_fm_imageUrl',\n          htmlAttributes: '_fm_htmlAttr'\n        },\n        sortOrder: this.parent.sortOrder,\n        itemCreated: this.onItemCreated.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n      };\n      this.items = [];\n      this.items = this.renderList(args);\n      this.items = getSortedData(this.parent, this.items); // eslint-disable-next-line\n\n      this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n      this.itemList = Array.prototype.slice.call(selectAll('.' + LIST_ITEM, this.listElements));\n      this.element.appendChild(this.listElements);\n      this.preventImgDrag();\n      this.createDragObj();\n      iconsView.classList.remove(DISPLAY_NONE);\n\n      if (this.itemList.length === 0) {\n        const emptyList = this.element.querySelector('.' + LIST_PARENT);\n        this.element.removeChild(emptyList);\n        createEmptyElement(this.parent, this.element, args);\n      } else if (this.itemList.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n        this.element.removeChild(this.element.querySelector('.' + EMPTY));\n      }\n\n      if (this.isPasteOperation === true) {\n        this.selectItems(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.uploadOperation === true) {\n        this.selectItems(this.parent.uploadItem);\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n        this.count++;\n\n        if (this.count === this.parent.uploadItem.length) {\n          this.uploadOperation = false;\n          this.parent.uploadItem = [];\n        }\n      }\n\n      const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.parent.activeModule = 'largeiconsview';\n      }\n\n      for (let i = 0; i < activeEle.length; i++) {\n        activeEle[i].setAttribute('aria-selected', 'true');\n      }\n\n      this.adjustHeight();\n      this.element.style.maxHeight = '100%';\n      this.getItemCount();\n      this.addEventListener();\n      this.wireEvents();\n      this.isRendered = true;\n      hideSpinner(this.parent.element);\n\n      if (this.parent.selectedItems.length) {\n        this.checkItem();\n      }\n    }\n  }\n\n  preventImgDrag() {\n    let i = 0;\n\n    while (i < this.itemList.length) {\n      if (this.itemList[i].querySelector('img')) {\n        /* istanbul ignore next */\n        this.itemList[i].ondragstart = () => {\n          return false;\n        };\n      }\n\n      i++;\n    }\n  }\n\n  createDragObj() {\n    if (!this.parent.isMobile && this.listObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.listElements, {\n          enableTailMode: true,\n          distance: 5,\n          enableAutoScroll: true,\n          dragTarget: '.' + LARGE_ICON,\n          helper: this.dragHelper.bind(this),\n          cursorAt: this.parent.dragCursorPosition,\n          dragArea: this.parent.element,\n          dragStop: dragStopHandler.bind(this, this.parent),\n          drag: draggingHandler.bind(this, this.parent),\n          clone: true,\n          dragStart: args => {\n            dragStartHandler(this.parent, args, this.dragObj);\n          }\n        });\n      } else if (this.dragObj && !this.parent.allowDragAndDrop) {\n        this.dragObj.destroy();\n      }\n    }\n  }\n\n  dragHelper(args) {\n    const dragTarget = args.sender.target;\n    const dragLi = closest(dragTarget, '.e-list-item');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    if (dragLi && !dragLi.classList.contains('e-active')) {\n      this.setFocus(dragLi);\n    }\n\n    const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n\n    for (let i = 0; i < activeEle.length; i++) {\n      // eslint-disable-next-line\n      this.parent.dragData.push(this.getItemObject(activeEle[i]));\n      this.parent.activeElements.push(activeEle[i]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.dragPath = this.parent.path;\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  }\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      const dropLi = closest(args.target, '.e-list-item'); // eslint-disable-next-line\n\n      const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (dropLi) {\n        // eslint-disable-next-line\n        const info = this.getItemObject(dropLi);\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      } else {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      }\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'largeiconsview';\n  }\n\n  adjustHeight() {\n    const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n    const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n    this.element.style.height = pane.offsetHeight - bar.offsetHeight + 'px';\n  }\n\n  onItemCreated(args) {\n    args.item.removeAttribute('aria-level');\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n      const textEle = args.item.querySelector('.' + LIST_TEXT);\n      const txt = getValue('name', args.curData);\n      const type = getValue('type', args.curData);\n      textEle.innerHTML = txt.substr(0, txt.length - type.length);\n    }\n\n    this.renderCheckbox(args);\n    const eventArgs = {\n      element: args.item,\n      fileDetails: args.curData,\n      module: 'LargeIconsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  }\n\n  renderCheckbox(args) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    const checkElement = createCheckBox(createElement, false, {\n      checked: false,\n      cssClass: 'e-small'\n    });\n    checkElement.setAttribute('role', 'checkbox');\n    checkElement.setAttribute('aria-checked', 'false');\n    args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n  }\n\n  onLayoutChange(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.destroy();\n      this.render(args);\n      /* istanbul ignore next */\n\n      if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' && this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n        const indexes = this.getIndexes(this.parent.selectedNodes);\n        let length = 0;\n\n        while (length < indexes.length) {\n          addBlur(this.itemList[indexes[length]]);\n          length++;\n        }\n      }\n\n      const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.element.focus();\n      }\n\n      this.checkItem();\n      this.parent.isLayoutChange = false;\n    } else {\n      this.element.setAttribute('tabindex', '-1');\n    }\n  }\n\n  checkItem() {\n    const checkEle = this.element.querySelectorAll('.' + ACTIVE);\n\n    if (checkEle) {\n      let checkLength = 0;\n\n      while (checkLength < checkEle.length) {\n        this.checkState(checkEle[checkLength], true);\n        checkLength++;\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  renderList(args) {\n    let i = 0; // eslint-disable-next-line\n\n    const items = JSON.parse(JSON.stringify(args.files));\n\n    while (i < items.length) {\n      const icon = fileType(items[i]);\n      const name = getValue('name', items[i]);\n      const selected = getItemName(this.parent, items[i]);\n      let className = this.parent.selectedItems && this.parent.selectedItems.indexOf(selected) !== -1 ? LARGE_ICON + ' e-active' : LARGE_ICON;\n\n      if (!hasEditAccess(items[i])) {\n        className += ' ' + getAccessClass(items[i]);\n      }\n\n      if (icon === ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n        const imgUrl = getImageUrl(this.parent, items[i]);\n        setValue('_fm_imageUrl', imgUrl, items[i]);\n        setValue('_fm_imageAttr', {\n          alt: name\n        }, items[i]);\n      } else {\n        setValue('_fm_icon', icon, items[i]);\n      }\n\n      setValue('_fm_htmlAttr', {\n        class: className,\n        title: name\n      }, items[i]);\n      i++;\n    }\n\n    return items;\n  }\n\n  onFinalizeEnd(args) {\n    this.render(args);\n  }\n\n  onCreateEnd(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.clearSelect();\n    this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n    this.parent.createdItem = null;\n    this.parent.largeiconsviewModule.element.focus();\n  }\n\n  onSelectedData() {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.updateSelectedData();\n    }\n  }\n\n  onDeleteInit() {\n    if (this.parent.activeModule === 'largeiconsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.clearSelect();\n  }\n\n  onRefreshEnd(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n  }\n\n  onRenameInit() {\n    if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  }\n\n  onPathChanged(args) {\n    this.parent.isCut = false;\n    /* istanbul ignore next */\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n      this.parent.searchedItems = [];\n    }\n\n    if (this.parent.view === 'LargeIcons') {\n      removeBlur(this.parent);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.onLayoutChange(args);\n\n      if (this.parent.renamedItem) {\n        this.clearSelect();\n        this.addSelection(this.parent.renamedItem);\n        this.parent.renamedItem = null;\n      }\n    }\n  }\n\n  onOpenInit(args) {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.doOpenAction(args.target);\n    }\n  }\n\n  onHideLayout() {\n    if (this.parent.view !== 'LargeIcons' && this.element) {\n      this.element.classList.add(DISPLAY_NONE);\n    }\n  }\n\n  onSelectAllInit() {\n    if (this.parent.view === 'LargeIcons') {\n      this.startItem = this.getFirstItem();\n      const lastItem = this.getLastItem();\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      this.doSelection(lastItem, eveArgs);\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  }\n\n  onClearAllInit() {\n    if (this.parent.view === 'LargeIcons') {\n      this.clearSelection();\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  }\n\n  onBeforeRequest() {\n    this.isRendered = false;\n  }\n\n  onAfterRequest() {\n    this.isRendered = true;\n  }\n  /* istanbul ignore next */\n\n\n  onSearch(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(selectionChanged, {});\n      this.parent.searchedItems = args.files;\n      this.onLayoutChange(args);\n    }\n  }\n\n  onLayoutRefresh() {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.adjustHeight();\n  }\n\n  onUpdateSelectionData() {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.updateSelectedData();\n  }\n\n  onPathColumn() {\n    if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(this.listObj) && this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered && this.parent.sortBy === 'filterPath') {\n      this.parent.sortBy = 'name';\n      this.parent.notify(sortByChange, {});\n    }\n  }\n\n  removeEventListener() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(pathColumn, this.onPathColumn);\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(search, this.onSearch);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(openEnd, this.onPathChanged);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(methodCall, this.onMethodCall);\n    this.parent.off(actionFailure, this.onActionFailure);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onPathChanged);\n    this.parent.off(hideLayout, this.onHideLayout);\n    this.parent.off(selectAllInit, this.onSelectAllInit);\n    this.parent.off(clearAllInit, this.onClearAllInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(beforeRequest, this.onBeforeRequest);\n    this.parent.off(afterRequest, this.onAfterRequest);\n    this.parent.off(splitterResize, this.splitterResizeHandler);\n    this.parent.off(resizeEnd, this.resizeHandler);\n    this.parent.off(pasteInit, this.onpasteInit);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n    this.parent.off(filterEnd, this.onPathChanged);\n  }\n\n  addEventListener() {\n    this.parent.on(pathColumn, this.onPathColumn, this);\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(pasteInit, this.onpasteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(search, this.onSearch, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onPathChanged, this);\n    this.parent.on(openEnd, this.onPathChanged, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(methodCall, this.onMethodCall, this);\n    this.parent.on(actionFailure, this.onActionFailure, this);\n    this.parent.on(hideLayout, this.onHideLayout, this);\n    this.parent.on(selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(clearAllInit, this.onClearAllInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(afterRequest, this.onAfterRequest, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(splitterResize, this.splitterResizeHandler, this);\n    this.parent.on(resizeEnd, this.resizeHandler, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n    this.parent.on(filterEnd, this.onPathChanged, this);\n  }\n\n  onActionFailure() {\n    this.isInteraction = true;\n    this.isInteracted = true;\n  } // eslint-disable-next-line\n\n\n  onMenuItemData(args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      const ele = closest(args.target, 'li');\n      this.parent.itemData = [this.getItemObject(ele)];\n    }\n  }\n\n  onDetailsInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.updateSelectedData();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  }\n\n  onpasteInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath === '' ? [getPathObject(this.parent)] : [this.getItemObject(select('.e-active', this.element))];\n    }\n  }\n\n  oncutCopyInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n      this.parent.activeRecords = [];\n      this.parent.activeElements = [];\n\n      for (let i = 0; i < activeEle.length; i++) {\n        this.parent.activeElements.push(activeEle[i]);\n        this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n      }\n    }\n  }\n\n  onpasteEnd(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  }\n\n  onDropPath(args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  }\n\n  onPropertyChanged(e) {\n    let currentSelected;\n\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'selectedItems':\n          this.isInteraction = false;\n          this.isInteracted = false;\n          currentSelected = isNullOrUndefined(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n          currentSelected = this.parent.allowMultiSelection ? currentSelected : currentSelected.slice(currentSelected.length - 1);\n          this.parent.setProperties({\n            selectedItems: []\n          }, true);\n          this.onClearAllInit();\n\n          if (currentSelected.length) {\n            this.selectItems(currentSelected);\n          }\n\n          this.parent.setProperties({\n            selectedItems: this.parent.selectedItems\n          }, true);\n          this.isInteraction = true;\n          this.isInteracted = true;\n          break;\n\n        case 'showThumbnail':\n          refresh(this.parent);\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (this.parent.view !== 'LargeIcons') {\n            break;\n          }\n\n          refresh(this.parent);\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'LargeIcons');\n          break;\n      }\n    }\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.listObj) {\n      this.unWireEvents();\n    }\n  }\n\n  wireEvents() {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n  }\n\n  unWireEvents() {\n    this.wireClickEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n  }\n  /* istanbul ignore next */\n\n\n  onMouseOver(e) {\n    const targetEle = closest(e.target, '.e-list-item');\n    removeBlur(this.parent, 'hover');\n\n    if (targetEle !== null) {\n      targetEle.classList.add(HOVER);\n    }\n  }\n\n  wireClickEvent(toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      const proxy = this;\n      this.clickObj = new Touch(this.element, {\n        tap: eve => {\n          eve.originalEvent.preventDefault();\n\n          if (proxy.parent.isDevice) {\n            proxy.tapCount = eve.tapCount;\n            proxy.tapEvent = eve;\n            setTimeout(() => {\n              if (proxy.tapCount > 0) {\n                proxy.doTapAction(proxy.tapEvent);\n              }\n\n              proxy.tapCount = 0;\n            }, 350);\n          } else {\n            if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n              proxy.dblClickHandler(eve);\n            } else {\n              proxy.clickHandler(eve);\n            }\n          }\n        },\n        tapHold: e => {\n          if (proxy.parent.isDevice) {\n            proxy.multiSelect = proxy.parent.allowMultiSelection ? true : false;\n\n            if (proxy.parent.allowMultiSelection) {\n              addClass([proxy.parent.element], MULTI_SELECT);\n            }\n\n            proxy.clickHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  }\n\n  doTapAction(eve) {\n    const target = eve.originalEvent.target;\n    const item = closest(target, '.' + LIST_ITEM);\n\n    if (this.multiSelect || target.classList.contains(LIST_PARENT) || isNullOrUndefined(item)) {\n      this.clickHandler(eve);\n    } else {\n      this.parent.isFile = false;\n      this.updateType(item);\n\n      if (!this.parent.isFile) {\n        this.dblClickHandler(eve);\n      } else if (eve.tapCount === 2) {\n        this.clickHandler(eve);\n        this.dblClickHandler(eve);\n      } else {\n        this.clickHandler(eve);\n      }\n    }\n  }\n\n  clickHandler(e) {\n    const target = e.originalEvent.target;\n    removeBlur(this.parent, 'hover');\n    this.doSelection(target, e.originalEvent);\n    this.parent.activeModule = 'largeiconsview';\n  }\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  doSelection(target, e) {\n    const item = closest(target, '.' + LIST_ITEM);\n    const cList = target.classList;\n    this.parent.isFile = false;\n    let action = 'select';\n\n    if (e.which === 3 && !isNullOrUndefined(item) && item.classList.contains(ACTIVE)) {\n      this.updateType(item);\n      return;\n    } else if (!isNullOrUndefined(item)) {\n      if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE) && (e.ctrlKey || target.classList.contains(CHECK))) {\n        action = 'unselect';\n      }\n\n      const fileSelectionArgs = this.triggerSelection(action, item);\n\n      if (fileSelectionArgs.cancel !== true) {\n        if ((!this.parent.allowMultiSelection || !this.multiSelect && e && !e.ctrlKey) && !cList.contains(FRAME)) {\n          this.updateType(item);\n          this.clearSelect();\n        }\n\n        if (this.parent.allowMultiSelection && e.shiftKey) {\n          if (!(e && e.ctrlKey)) {\n            this.clearSelect();\n          }\n\n          if (!this.startItem) {\n            this.startItem = item;\n          }\n\n          const startIndex = this.itemList.indexOf(this.startItem);\n          const endIndex = this.itemList.indexOf(item);\n\n          if (startIndex > endIndex) {\n            for (let i = startIndex; i >= endIndex; i--) {\n              this.addActive(this.itemList[i]);\n            }\n          } else {\n            for (let i = startIndex; i <= endIndex; i++) {\n              this.addActive(this.itemList[i]);\n            }\n          }\n\n          this.addFocus(this.itemList[endIndex]);\n        } else {\n          this.startItem = item;\n\n          if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)) {\n            this.removeActive(item);\n          } else {\n            this.addActive(item);\n          }\n\n          this.addFocus(item);\n        }\n\n        if (this.parent.selectedItems.length === 0) {\n          this.resetMultiSelect();\n        }\n\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect(action, item);\n      }\n    } else {\n      this.clearSelection();\n    }\n\n    if (!isNullOrUndefined(item)) {\n      this.updateType(item);\n    }\n  }\n\n  dblClickHandler(e) {\n    this.parent.activeModule = 'largeiconsview';\n    const target = e.originalEvent.target;\n    this.doOpenAction(target);\n  }\n\n  clearSelection() {\n    this.clearSelect();\n    this.resetMultiSelect();\n    this.parent.notify(selectionChanged, {});\n  }\n\n  resetMultiSelect() {\n    this.multiSelect = false;\n    removeClass([this.parent.element], MULTI_SELECT);\n  }\n\n  doOpenAction(target) {\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    const item = closest(target, '.' + LIST_ITEM);\n    this.parent.isFile = false;\n\n    if (!isNullOrUndefined(item)) {\n      this.updateType(item); // eslint-disable-next-line\n\n      const details = this.getItemObject(item);\n\n      if (!hasReadAccess(details)) {\n        createDeniedDialog(this.parent, details, permissionRead);\n        return;\n      }\n\n      const eventArgs = {\n        cancel: false,\n        fileDetails: details,\n        module: 'LargeIconsView'\n      };\n      this.parent.trigger('fileOpen', eventArgs, fileOpenArgs => {\n        if (!fileOpenArgs.cancel) {\n          const text = getValue('name', details);\n\n          if (!this.parent.isFile) {\n            const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n\n            if (val === '' && !this.parent.isFiltered) {\n              const id = getValue('id', details);\n              const newPath = this.parent.path + (isNullOrUndefined(id) ? text : id) + '/';\n              this.parent.setProperties({\n                path: newPath\n              }, true);\n              this.parent.pathNames.push(text);\n              this.parent.pathId.push(getValue('_fm_id', details));\n              this.parent.itemData = [details];\n              openAction(this.parent);\n            } else {\n              openSearchFolder(this.parent, details);\n            }\n\n            this.parent.isFiltered = false;\n            this.parent.setProperties({\n              selectedItems: []\n            }, true);\n          } else {\n            const icon = fileType(details);\n\n            if (icon === ICON_IMAGE) {\n              const imgUrl = getImageUrl(this.parent, details);\n              createImageDialog(this.parent, text, imgUrl);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  updateType(item) {\n    const folder = select('.' + FOLDER, item);\n    this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keydownActionHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'moveDown':\n      case 'moveLeft':\n      case 'moveRight':\n      case 'moveUp':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keyActionHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    const fItem = this.getFocusedItem();\n    const firstItem = this.getFirstItem();\n    const lastItem = this.getLastItem();\n\n    switch (e.action) {\n      case 'end':\n        this.navigateItem(lastItem);\n        break;\n\n      case 'home':\n        this.navigateItem(firstItem);\n        break;\n\n      case 'tab':\n        if (!isNullOrUndefined(fItem)) {\n          this.addFocus(fItem);\n        } else if (!isNullOrUndefined(firstItem)) {\n          this.addFocus(firstItem);\n        }\n\n        break;\n\n      case 'moveDown':\n        this.navigateDown(fItem, true);\n        break;\n\n      case 'moveLeft':\n        this.navigateRight(fItem, false);\n        break;\n\n      case 'moveRight':\n        this.navigateRight(fItem, true);\n        break;\n\n      case 'moveUp':\n        this.navigateDown(fItem, false);\n        break;\n\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n        this.csEndKey(lastItem, e);\n        break;\n\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n        this.csHomeKey(firstItem, e);\n        break;\n\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n        this.csDownKey(fItem, e);\n        break;\n\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n        this.csLeftKey(fItem, e);\n        break;\n\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n        this.csRightKey(fItem, e);\n        break;\n\n      case 'ctrlUp':\n      case 'shiftUp':\n      case 'csUp':\n        this.csUpKey(fItem, e);\n        break;\n\n      case 'space':\n        this.spaceKey(fItem);\n        break;\n\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n        if (!isNullOrUndefined(fItem)) {\n          this.doSelection(fItem, e);\n        }\n\n        break;\n\n      case 'ctrlA':\n        this.ctrlAKey(firstItem, lastItem);\n        break;\n\n      case 'enter':\n        this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n        break;\n\n      case 'altEnter':\n        this.parent.notify(detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n    }\n  }\n\n  doDownload() {\n    this.updateSelectedData();\n    doDownload(this.parent);\n  }\n\n  performDelete() {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.updateSelectedData(); // eslint-disable-next-line\n\n      const data = this.parent.itemData;\n\n      for (let i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n          createDeniedDialog(this.parent, data[i], permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  }\n\n  performRename() {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  }\n\n  updateRenameData() {\n    const item = select('.' + LIST_ITEM + '.' + ACTIVE, this.element); // eslint-disable-next-line\n\n    const data = this.getItemObject(item);\n    updateRenamingData(this.parent, data);\n  }\n\n  getVisitedItem() {\n    const item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n    const indexes = this.getIndexes([item], this.parent.hasId);\n    return this.itemList[indexes[0]];\n  }\n\n  getFocusedItem() {\n    return select('.' + LIST_ITEM + '.' + FOCUS, this.element);\n  }\n\n  getActiveItem() {\n    return select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n  }\n\n  getFirstItem() {\n    return this.itemList[0];\n  }\n\n  getLastItem() {\n    return this.itemList[this.itemList.length - 1];\n  }\n\n  navigateItem(item) {\n    this.setFocus(item);\n  }\n\n  navigateDown(fItem, isTowards) {\n    const nItem = this.getNextItem(fItem, isTowards, this.perRow);\n    this.setFocus(nItem);\n  }\n\n  navigateRight(fItem, isTowards) {\n    const nItem = this.getNextItem(fItem, isTowards);\n    this.setFocus(nItem);\n  }\n\n  getNextItem(li, isTowards, perRow) {\n    if (isNullOrUndefined(li)) {\n      return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n    }\n\n    let index = this.itemList.indexOf(li);\n    let nextItem;\n\n    do {\n      if (isTowards) {\n        index = perRow ? index + perRow : index + 1;\n      } else {\n        index = perRow ? index - perRow : index - 1;\n      }\n\n      nextItem = this.itemList[index];\n\n      if (isNullOrUndefined(nextItem)) {\n        return li;\n      }\n    } while (!isVisible(nextItem));\n\n    return nextItem;\n  }\n\n  setFocus(nextItem) {\n    if (!isNullOrUndefined(nextItem)) {\n      const fileSelectionArgs = this.triggerSelection('select', nextItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.startItem = nextItem;\n        this.clearSelect();\n        this.addActive(nextItem);\n        this.addFocus(nextItem);\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('select', nextItem);\n      }\n    }\n  }\n\n  spaceKey(fItem) {\n    if (!isNullOrUndefined(fItem) && !fItem.classList.contains(ACTIVE)) {\n      const fileSelectionArgs = this.triggerSelection('select', fItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.addActive(fItem);\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('select', fItem);\n      }\n    }\n  }\n\n  ctrlAKey(firstItem, lastItem) {\n    if (this.parent.allowMultiSelection && !isNullOrUndefined(firstItem)) {\n      this.startItem = firstItem;\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      const liParent = this.element.querySelector('.' + LIST_PARENT);\n      const liScrPos = liParent.scrollTop;\n      const getCurFocusedItem = this.getFocusedItem();\n      this.doSelection(lastItem, eveArgs);\n      liParent.scrollTop = liScrPos;\n\n      if (!isNullOrUndefined(getCurFocusedItem)) {\n        this.addFocus(getCurFocusedItem);\n      }\n    }\n  }\n\n  csEndKey(lastItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(lastItem);\n    } else if (!isNullOrUndefined(lastItem)) {\n      if (e.action === 'ctrlEnd') {\n        this.addFocus(lastItem);\n      } else {\n        this.doSelection(lastItem, e);\n      }\n    }\n  }\n\n  csHomeKey(firstItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(firstItem);\n    } else if (!isNullOrUndefined(firstItem)) {\n      if (e.action === 'ctrlHome') {\n        this.addFocus(firstItem);\n      } else {\n        this.doSelection(firstItem, e);\n      }\n    }\n  }\n\n  csDownKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, true);\n    } else {\n      const dItem = this.getNextItem(fItem, true, this.perRow);\n\n      if (!isNullOrUndefined(dItem)) {\n        if (e.action === 'ctrlDown') {\n          this.addFocus(dItem);\n        } else {\n          this.doSelection(dItem, e);\n        }\n      }\n    }\n  }\n\n  csLeftKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, false);\n    } else {\n      const lItem = this.getNextItem(fItem, false);\n\n      if (!isNullOrUndefined(lItem)) {\n        if (e.action === 'ctrlLeft') {\n          this.addFocus(lItem);\n        } else {\n          this.doSelection(lItem, e);\n        }\n      }\n    }\n  }\n\n  csRightKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, true);\n    } else {\n      const rItem = this.getNextItem(fItem, true);\n\n      if (!isNullOrUndefined(rItem)) {\n        if (e.action === 'ctrlRight') {\n          this.addFocus(rItem);\n        } else {\n          this.doSelection(rItem, e);\n        }\n      }\n    }\n  }\n\n  csUpKey(fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, false);\n    } else {\n      const uItem = this.getNextItem(fItem, false, this.perRow);\n\n      if (!isNullOrUndefined(uItem)) {\n        if (e.action === 'ctrlUp') {\n          this.addFocus(uItem);\n        } else {\n          this.doSelection(uItem, e);\n        }\n      }\n    }\n  }\n\n  addActive(nextItem) {\n    if (!isNullOrUndefined(nextItem)) {\n      if (!nextItem.classList.contains(ACTIVE)) {\n        this.parent.selectedItems.push(this.getDataName(nextItem));\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n        addClass([nextItem], [ACTIVE]);\n        nextItem.setAttribute('aria-selected', 'true');\n        this.checkState(nextItem, true);\n      }\n\n      this.parent.visitedItem = nextItem;\n    }\n  }\n\n  removeActive(preItem) {\n    if (!isNullOrUndefined(preItem)) {\n      removeClass([preItem], [ACTIVE]);\n\n      if (this.parent.allowMultiSelection) {\n        preItem.setAttribute('aria-selected', 'false');\n      } else {\n        preItem.removeAttribute('aria-selected');\n      }\n\n      this.checkState(preItem, false);\n      const index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n\n      if (index > -1) {\n        this.parent.selectedItems.splice(index, 1);\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n      }\n\n      this.parent.visitedItem = null;\n    }\n  }\n\n  getDataName(item) {\n    // eslint-disable-next-line\n    const data = this.getItemObject(item);\n    return getItemName(this.parent, data);\n  }\n\n  addFocus(item) {\n    this.element.setAttribute('tabindex', '-1');\n    const fItem = this.getFocusedItem();\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [FOCUS]);\n    }\n\n    addClass([item], [FOCUS]);\n    item.setAttribute('tabindex', '0');\n    item.focus();\n  }\n\n  checkState(item, toCheck) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    const checkEle = select('.' + FRAME, item);\n\n    if (isNullOrUndefined(checkEle)) {\n      return;\n    }\n\n    if (toCheck) {\n      if (!checkEle.classList.contains(CHECK)) {\n        addClass([checkEle], CHECK);\n        closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'true');\n      }\n    } else {\n      if (checkEle.classList.contains(CHECK)) {\n        removeClass([checkEle], CHECK);\n        closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'false');\n      }\n    }\n  }\n\n  clearSelect() {\n    const eles = Array.prototype.slice.call(selectAll('.' + ACTIVE, this.listElements));\n    let fileSelectionArgs;\n\n    if (eles.length !== 0) {\n      fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n\n      if (fileSelectionArgs.cancel !== true) {\n        for (let i = 0, len = eles.length; i < len; i++) {\n          this.removeActive(eles[i]);\n        }\n      }\n\n      this.triggerSelect('unselect', eles[0]);\n    }\n  }\n\n  resizeHandler() {\n    this.getItemCount();\n\n    if (!isNullOrUndefined(this.listObj)) {\n      this.adjustHeight();\n    }\n  }\n\n  splitterResizeHandler() {\n    this.getItemCount();\n  }\n\n  getItemCount() {\n    let perRow = 1;\n\n    if (this.itemList) {\n      for (let i = 0, len = this.itemList.length - 1; i < len; i++) {\n        if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n          perRow++;\n        } else {\n          break;\n        }\n      }\n    }\n\n    this.perRow = perRow;\n  }\n\n  triggerSelection(action, item) {\n    // eslint-disable-next-line\n    const data = this.getItemObject(item);\n    const eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteraction,\n      cancel: false,\n      target: item\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    this.isInteraction = true;\n    return eventArgs;\n  }\n\n  triggerSelect(action, item) {\n    // eslint-disable-next-line\n    const data = this.getItemObject(item);\n    this.parent.visitedData = data;\n    const eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteracted\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.isInteracted = true;\n  }\n\n  selectItems(items) {\n    const indexes = this.getIndexes(items, this.parent.hasId);\n\n    for (let j = 0, len = indexes.length; j < len; j++) {\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[indexes[j]], eveArgs);\n    }\n  }\n\n  getIndexes(items, byId) {\n    const indexes = [];\n    const filter$$1 = byId ? 'id' : 'name';\n\n    for (let i = 0, len = this.items.length; i < len; i++) {\n      if (items.indexOf(getValue(filter$$1, this.items[i])) !== -1) {\n        indexes.push(i);\n      }\n    }\n\n    return indexes;\n  } // eslint-disable-next-line\n\n\n  getItemObject(item) {\n    const index = this.itemList.indexOf(item);\n    return this.items[index];\n  } // eslint-disable-next-line\n\n\n  addSelection(data) {\n    // eslint-disable-next-line\n    let resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      const newData = new DataManager(this.items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (newData.length > 0) {\n        resultData = new DataManager(newData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      const index = this.items.indexOf(resultData[0]);\n      const eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[index], eveArgs);\n    }\n  }\n\n  updateSelectedData() {\n    // eslint-disable-next-line\n    const data = [];\n    const items = selectAll('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n\n    for (let i = 0; i < items.length; i++) {\n      data[i] = this.getItemObject(items[i]);\n    }\n\n    this.parent.itemData = data;\n  } // eslint-disable-next-line\n\n\n  onMethodCall(args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    const action = getValue('action', args);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', args));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', args));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', args));\n        break;\n\n      case 'renameFile':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.renameFile(getValue('id', args), getValue('newName', args));\n        break;\n\n      case 'createFolder':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        break;\n\n      case 'clearSelection':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onClearAllInit();\n        break;\n\n      case 'selectAll':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onSelectAllInit();\n        break;\n    }\n  }\n\n  getItemsIndex(items) {\n    const indexes = [];\n    const isFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    const filterName = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !isFilter) {\n      for (let i = 0, len = this.items.length; i < len; i++) {\n        if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (let i = 0, len = this.items.length; i < len; i++) {\n        const name = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n\n        if (items.indexOf(name) !== -1) {\n          indexes.push(i);\n        }\n      }\n    }\n\n    return indexes;\n  }\n\n  deleteFiles(ids) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNullOrUndefined(ids)) {\n      this.performDelete();\n      return;\n    }\n\n    const indexes = this.getItemsIndex(ids);\n\n    if (indexes.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < indexes.length; i++) {\n      data[i] = this.items[indexes[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  }\n\n  downloadFiles(ids) {\n    if (isNullOrUndefined(ids)) {\n      this.doDownload();\n      return;\n    }\n\n    const index = this.getItemsIndex(ids);\n\n    if (index.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < index.length; i++) {\n      data[i] = this.items[index[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  }\n\n  openFile(id) {\n    if (isNullOrUndefined(id)) {\n      return;\n    }\n\n    const indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      this.doOpenAction(this.itemList[indexes[0]]);\n    }\n  }\n\n  renameFile(id, name) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNullOrUndefined(id)) {\n      this.performRename();\n      return;\n    }\n\n    const indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      updateRenamingData(this.parent, this.items[indexes[0]]);\n\n      if (isNullOrUndefined(name)) {\n        doRename(this.parent);\n      } else {\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        } else {\n          rename(this.parent, this.parent.path, name);\n        }\n      }\n    }\n  }\n\n}\n/**\n * BreadCrumbBar module\n */\n\n\nclass BreadCrumbBar {\n  /**\n   * constructor for addressbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies parent element.\n   * @private\n   *\n   */\n  constructor(parent) {\n    this.addressPath = '';\n    this.addressBarLink = '';\n    this.searchTimer = null;\n    this.searchWrapWidth = null;\n    this.parent = parent;\n    this.keyConfigs = {\n      enter: 'enter'\n    };\n    this.render();\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      const value = e.newProp.searchSettings;\n\n      switch (prop) {\n        case 'searchSettings':\n          if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n            this.searchEventBind(value.allowSearchOnTyping);\n          }\n\n          if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' && !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) && isNullOrUndefined(value.ignoreCase))) {\n            searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n          }\n\n          break;\n      }\n    }\n  }\n\n  render() {\n    this.addEventListener();\n  }\n\n  onPathChange() {\n    const pathNames = this.parent.pathNames;\n    const paths = this.parent.path.split('/');\n    const addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    let addressbarLI = null;\n    const pathNamesLen = pathNames.length;\n\n    if (pathNames.length > 0) {\n      let id = '';\n\n      for (let i = 0; i < pathNamesLen; i++) {\n        let addressATag = null;\n        addressbarLI = this.parent.createElement('li', {\n          className: 'e-address-list-item'\n        });\n\n        for (let j = 0; j <= i; j++) {\n          id = id + paths[j] + '/';\n        }\n\n        addressbarLI.setAttribute('data-utext', id);\n\n        if (i !== 0) {\n          const icon = createElement('span', {\n            className: ICONS\n          });\n          addressbarLI.appendChild(icon);\n        }\n\n        if (pathNamesLen - i !== 1) {\n          addressATag = createElement('a', {\n            className: LIST_TEXT\n          });\n          addressbarLI.setAttribute('tabindex', '0');\n        } else {\n          addressATag = createElement('span', {\n            className: LIST_TEXT\n          });\n        }\n\n        id = '';\n        addressATag.innerText = pathNames[i];\n        addressbarLI.appendChild(addressATag);\n        addressbarUL.appendChild(addressbarLI);\n      }\n\n      const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n\n      if (!isNullOrUndefined(ulElement)) {\n        if (!isNullOrUndefined(this.subMenuObj)) {\n          this.subMenuObj.destroy();\n        }\n\n        remove(ulElement);\n      }\n\n      const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n\n      if (!searchWrap) {\n        this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n      } else {\n        this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n      }\n\n      this.updateBreadCrumbBar(addressbarUL);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  updateBreadCrumbBar(addresBarUL) {\n    const liElements = addresBarUL.querySelectorAll('li');\n    const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n    const style = window.getComputedStyle(ulElement, null);\n    const pRight = parseFloat(style.getPropertyValue('padding-right'));\n    const pLeft = parseFloat(style.getPropertyValue('padding-left'));\n    let breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n    const addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    let liElementsWidth = 0;\n    const liElementsWidths = [];\n\n    for (let i = 0; i < liElements.length; i++) {\n      const width = liElements[i].clientWidth;\n      liElementsWidths.push(width);\n      liElementsWidth = liElementsWidth + width;\n    }\n\n    if (!isNullOrUndefined(ulElement)) {\n      remove(ulElement);\n    }\n\n    const searchContainer = this.parent.createElement('div');\n    searchContainer.setAttribute('class', 'e-search-wrap');\n    const id = this.parent.element.id + SEARCH_ID;\n    const searchInput = createElement('input', {\n      id: id,\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': getLocaleText(this.parent, 'Search')\n      }\n    });\n    searchContainer.appendChild(searchInput);\n    const searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n\n    if (isNullOrUndefined(searchEle)) {\n      this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n      const span = createElement('span', {\n        className: 'e-icons e-fe-search'\n      });\n      EventHandler.add(span, 'click', this.onShowInput, this);\n      searchInput.parentElement.insertBefore(span, searchInput);\n      this.searchObj = new TextBox({\n        value: '',\n        showClearButton: true,\n        placeholder: getLocaleText(this.parent, 'Search'),\n        focus: this.onFocus.bind(this),\n        blur: this.onBlur.bind(this)\n      });\n      this.searchObj.appendTo('#' + this.parent.element.id + SEARCH_ID);\n      this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n      const search$$1 = this.searchObj.element.nextElementSibling;\n      EventHandler.add(search$$1, 'mousedown', this.searchChangeHandler.bind(this), this);\n      EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n    }\n\n    const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n    breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n\n    if (liElementsWidth > breadCrumbBarWidth) {\n      let i = liElements.length;\n\n      while (i--) {\n        const diff = breadCrumbBarWidth - liElementsWidths[i];\n\n        if (diff > 40) {\n          addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n          breadCrumbBarWidth = diff;\n        } else {\n          // eslint-disable-next-line\n          const items = [];\n\n          for (let j = 0; j <= i; j++) {\n            const liElement = liElements[j];\n            items.push({\n              text: liElement.innerText,\n              utext: liElement.getAttribute('data-utext')\n            });\n          }\n\n          const subMenuLi = this.parent.createElement('li', {\n            className: 'e-breadcrumb-menu'\n          }); // eslint-disable-next-line\n\n          const attributes = {\n            className: 'e-breadcrumb-submenu'\n          };\n          const subMenuSpan = this.parent.createElement('button', attributes);\n          subMenuLi.appendChild(subMenuSpan);\n          addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n          this.subMenuObj = new DropDownButton({\n            items: items,\n            cssClass: 'e-caret-hide e-submenu',\n            iconCss: ICON_BREADCRUMB,\n            iconPosition: 'Top',\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.addSubMenuAttributes.bind(this),\n            select: this.subMenuSelectOperations.bind(this)\n          });\n          this.subMenuObj.isStringTemplate = true;\n          this.subMenuObj.appendTo(subMenuSpan);\n          break;\n        }\n      }\n\n      this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n    } else {\n      this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onFocus() {\n    const wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.add('e-focus');\n  }\n  /* istanbul ignore next */\n\n\n  onKeyUp() {\n    this.parent.notify(pathColumn, {\n      args: this.parent\n    });\n  }\n  /* istanbul ignore next */\n\n\n  onBlur() {\n    const wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.remove('e-focus');\n  }\n  /* istanbul ignore next */\n\n\n  subMenuSelectOperations(event) {\n    // eslint-disable-next-line\n    const args = {\n      target: event.element\n    };\n    this.addressPathClickHandler(args);\n  }\n  /* istanbul ignore next */\n\n\n  addSubMenuAttributes(args) {\n    args.element.setAttribute('data-utext', getValue('utext', args.item));\n    const anchor = this.parent.createElement('a', {\n      className: 'e-list-text'\n    });\n    args.element.appendChild(anchor);\n  }\n\n  searchEventBind(allow) {\n    if (allow) {\n      this.searchObj.input = this.searchChangeHandler.bind(this);\n      this.searchObj.change = null;\n    } else {\n      this.searchObj.change = this.searchChangeHandler.bind(this);\n      this.searchObj.input = null;\n    }\n  }\n\n  searchChangeHandler(args) {\n    if (!isNullOrUndefined(args.value)) {\n      this.parent.isFiltered = false;\n\n      if (this.parent.searchSettings.allowSearchOnTyping) {\n        window.clearTimeout(this.searchTimer);\n        this.searchTimer = window.setTimeout(() => {\n          searchWordHandler(this.parent, args.value, false);\n        }, 300);\n      } else {\n        searchWordHandler(this.parent, args.value, false);\n      }\n    }\n  }\n\n  addressPathClickHandler(e) {\n    const li = e.target;\n\n    if (li.nodeName === 'LI' || li.nodeName === 'A') {\n      const node = li.nodeName === 'LI' ? li.children[0] : li;\n\n      if (!isNullOrUndefined(node)) {\n        this.parent.isFiltered = false;\n        const currentPath = this.updatePath(node);\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n        this.triggerFileOpen(this.parent.itemData[0]);\n        read(this.parent, pathChanged, currentPath);\n        const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.parent.notify(updateTreeSelection, {\n          module: 'treeview',\n          selectedNode: treeNodeId\n        });\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  triggerFileOpen(data) {\n    const eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'BreadCrumbBar'\n    };\n    delete eventArgs.cancel;\n    this.parent.trigger('fileOpen', eventArgs);\n  }\n  /* istanbul ignore next */\n\n\n  onShowInput() {\n    if (this.parent.isMobile) {\n      if (this.parent.element.classList.contains(FILTER)) {\n        removeClass([this.parent.element], FILTER);\n        this.searchWrapWidth = null;\n      } else {\n        const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        this.searchWrapWidth = searchWrap.offsetWidth;\n        addClass([this.parent.element], FILTER);\n        this.searchObj.element.focus();\n      }\n    }\n  }\n\n  updatePath(list) {\n    const li = closest(list, 'li');\n    const liElementId = li.getAttribute('data-utext');\n    this.addressBarLink = liElementId;\n    const link = this.addressBarLink.split('/');\n    const ids = this.parent.pathId;\n    const names = this.parent.pathNames;\n    this.parent.pathId = [];\n    this.parent.pathNames = [];\n    let newpath = '';\n\n    for (let i = 0, len = link.length - 1; i < len; i++) {\n      this.parent.pathId.push(ids[i]);\n      this.parent.pathNames.push(names[i]);\n      newpath += link[i] + '/';\n    }\n\n    this.parent.setProperties({\n      path: newpath\n    }, true);\n    return newpath;\n  }\n\n  onUpdatePath() {\n    this.onPathChange();\n    this.removeSearchValue();\n  }\n\n  onCreateEnd() {\n    this.onPathChange();\n  }\n\n  onRenameEnd() {\n    this.onPathChange();\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd() {\n    this.onUpdatePath();\n  }\n  /* istanbul ignore next */\n\n\n  removeSearchValue() {\n    this.parent.isFiltered = false;\n\n    if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n      this.searchObj.value = '';\n      this.searchObj.element.value = '';\n      this.searchObj.dataBind();\n    }\n  }\n\n  onResize() {\n    this.onPathChange();\n  }\n\n  onPasteEnd() {\n    this.onPathChange();\n  }\n\n  addEventListener() {\n    this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(pathChanged, this.onUpdatePath, this);\n    this.parent.on(finalizeEnd, this.onUpdatePath, this);\n    this.parent.on(refreshEnd, this.onUpdatePath, this);\n    this.parent.on(openEnd, this.onUpdatePath, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(renameEnd, this.onRenameEnd, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(splitterResize, this.onResize, this);\n    this.parent.on(pasteEnd, this.onPasteEnd, this);\n    this.parent.on(resizeEnd, this.onResize, this);\n    this.parent.on(searchTextChange, this.onSearchTextChange, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(layoutRefresh, this.onResize, this);\n    this.parent.on(dropPath, this.onPathChange, this);\n  }\n\n  keyActionHandler(e) {\n    switch (e.action) {\n      case 'enter':\n        this.addressPathClickHandler(e);\n        break;\n    }\n  }\n\n  removeEventListener() {\n    this.keyboardModule.destroy();\n    this.parent.off(pathChanged, this.onUpdatePath);\n    this.parent.off(finalizeEnd, this.onUpdatePath);\n    this.parent.off(refreshEnd, this.onUpdatePath);\n    this.parent.off(openEnd, this.onUpdatePath);\n    this.parent.off(pasteEnd, this.onPasteEnd);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(renameEnd, this.onRenameEnd);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(splitterResize, this.onResize);\n    this.parent.off(resizeEnd, this.onResize);\n    this.parent.off(searchTextChange, this.onSearchTextChange);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(layoutRefresh, this.onResize);\n    this.parent.off(dropPath, this.onPathChange);\n  }\n  /* istanbul ignore next */\n\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      const liEle = args.target.closest('li');\n      this.parent.dropPath = this.updatePath(liEle.children[0]);\n      this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      this.triggerFileOpen(this.parent.dropData);\n      const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n      this.parent.notify(updateTreeSelection, {\n        module: 'treeview',\n        selectedNode: treeNodeId\n      });\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'breadcrumbbar';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    /* istanbul ignore next */\n\n    if (!isNullOrUndefined(this.subMenuObj)) {\n      this.subMenuObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.searchObj)) {\n      this.searchObj.destroy();\n    }\n  }\n\n  onSearchTextChange(args) {\n    this.searchObj.element.placeholder = this.parent.searchSettings.placeholder != null ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n  }\n\n}\n/**\n * ContextMenu module\n */\n\n\nclass ContextMenu$2 {\n  /**\n   * Constructor for the ContextMenu module\n   *\n   * @param {IFileManager} parent - Specifies the parent element.\n   * @hidden\n   */\n  constructor(parent) {\n    this.currentItems = [];\n    this.currentElement = null;\n    this.disabledItems = [];\n    this.parent = parent;\n    this.render();\n  }\n\n  render() {\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      uparrow: 'uparrown'\n    };\n    this.contextMenu = new ContextMenu({\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      target: '#' + this.parent.element.id,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      beforeItemRender: this.onBeforeItemRender.bind(this),\n      select: this.onSelect.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this),\n      cssClass: getCssClass(this.parent, ROOT_POPUP)\n    });\n    this.contextMenu.isStringTemplate = true;\n    this.contextMenu.appendTo('#' + this.parent.element.id + CONTEXT_MENU_ID);\n    this.addEventListener();\n  }\n  /* istanbul ignore next */\n\n\n  onBeforeItemRender(args) {\n    if (args.item.id === this.getMenuId('largeiconsview')) {\n      const iconSpan = createElement('span');\n      const element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', ICON_LARGE + ' ' + MENU_ICON);\n    }\n\n    if (args.item.id === this.getMenuId('detailsview')) {\n      const iconSpan = createElement('span');\n      const element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', ICON_GRID + ' ' + MENU_ICON);\n    }\n  }\n\n  onBeforeClose() {\n    this.menuTarget = null;\n  }\n  /* istanbul ignore next */\n\n\n  onBeforeOpen(args) {\n    this.disabledItems = [];\n    let selected = false;\n    let uid; // eslint-disable-next-line\n\n    let data;\n    let treeFolder = false;\n    let target = args.event.target;\n    this.menuTarget = target;\n    this.currentElement = args.element;\n\n    if (target.classList.contains('e-spinner-pane')) {\n      target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(FULLROW)[0];\n      this.menuTarget = target;\n    }\n\n    if (target.classList.contains(FULLROW)) {\n      this.parent.selectedItems.length = 0;\n    }\n\n    this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n    const view = this.getTargetView(target);\n    this.updateActiveModule();\n    /* istanbul ignore next */\n\n    if (target.classList.contains(TREE_VIEW) || closest(target, 'th') || closest(target, '#' + this.parent.element.id + BREADCRUMBBAR_ID) || closest(target, '#' + this.parent.element.id + TOOLBAR_ID)) {\n      args.cancel = true; // eslint:disable-next-line\n    } else if (!(this.parent.view === 'LargeIcons') && this.targetElement && this.targetElement.classList.contains('e-emptyrow')) {\n      this.setLayoutItem(target);\n      /* istanbul ignore next */\n    } else if (closest(target, '.' + EMPTY)) {\n      this.setLayoutItem(target); // eslint:disable-next-line\n    } else if (!target.classList.contains(MENU_ITEM) && !target.classList.contains(MENU_ICON) && !target.classList.contains(SUBMENU_ICON)) {\n      /* istanbul ignore next */\n      // eslint:disable-next-line\n      if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + TREE_ID)) {\n        const eveArgs = {\n          ctrlKey: true,\n          shiftKey: true\n        };\n\n        if (!closest(target, 'li').classList.contains('e-active')) {\n          this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n        } // eslint-disable-next-line\n\n\n        data = this.parent.visitedData;\n        selected = true;\n      } else if (!isNullOrUndefined(closest(target, 'tr.e-row'))) {\n        uid = this.targetElement.getAttribute('data-uid'); // eslint-disable-next-line\n\n        data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n\n        if (isNullOrUndefined(this.targetElement.getAttribute('aria-selected'))) {\n          /* istanbul ignore next */\n          this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('aria-rowindex'), 10)]);\n        }\n\n        selected = true;\n        /* istanbul ignore next */\n      } else if (closest(target, '#' + this.parent.element.id + TREE_ID)) {\n        uid = closest(target, 'li').getAttribute('data-uid');\n        treeFolder = true;\n      }\n      /* istanbul ignore next */\n\n\n      if (selected) {\n        if (getValue('isFile', data) === true) {\n          this.setFileItem();\n        } else {\n          this.setFolderItem(false);\n        }\n        /* istanbul ignore next */\n\n      } else if (treeFolder) {\n        this.setFolderItem(true);\n\n        if (uid === this.parent.pathId[0]) {\n          this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n        }\n        /* istanbul ignore next */\n        // eslint:disable-next-line\n\n      } else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n        this.setLayoutItem(target);\n        /* istanbul ignore next */\n      } else {\n        args.cancel = true;\n      }\n    }\n\n    const pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n\n    if (!args.cancel && !this.parent.enablePaste && pasteEle && !pasteEle.classList.contains('e-disabled')) {\n      this.disabledItems.push('Paste');\n    }\n\n    if (args.cancel) {\n      this.menuTarget = this.currentElement = null;\n      return;\n    }\n\n    this.contextMenu.dataBind();\n    let isSubMenu = false;\n\n    if (target.classList.contains(MENU_ITEM) || target.classList.contains(MENU_ICON) || target.classList.contains(SUBMENU_ICON)) {\n      isSubMenu = true;\n    }\n\n    this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n    const eventArgs = {\n      fileDetails: [this.menuItemData],\n      element: args.element,\n      target: target,\n      items: isSubMenu ? args.items : this.contextMenu.items,\n      menuModule: this.contextMenu,\n      cancel: false,\n      menuType: this.menuType,\n      isSubMenu: isSubMenu\n    };\n    this.currentItems = eventArgs.items;\n    this.parent.trigger('menuOpen', eventArgs, menuOpenArgs => {\n      if (!isSubMenu) {\n        this.contextMenu.dataBind();\n        this.contextMenu.items = menuOpenArgs.items;\n        this.contextMenu.dataBind();\n      }\n\n      this.enableItems(this.disabledItems, false, true);\n      args.cancel = menuOpenArgs.cancel;\n\n      if (menuOpenArgs.cancel) {\n        this.menuTarget = this.currentElement = null;\n      }\n    });\n  }\n\n  updateActiveModule() {\n    this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + TREE_ID) ? 'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + GRID_ID) ? 'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + LARGEICON_ID) ? 'largeiconsview' : this.parent.activeModule;\n  }\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @returns {string} -returns the target view.\n   * @hidden\n   */\n\n\n  getTargetView(target) {\n    return target.classList.contains(TREE_VIEW) ? 'TreeView' : target.classList.contains(GRID_VIEW) ? 'GridView' : target.classList.contains(ICON_VIEW) ? 'LargeIcon' : target.classList.contains(LARGE_ICONS) ? 'LargeIcon' : '';\n  }\n\n  getItemIndex(item) {\n    const itemId = this.getMenuId(item);\n\n    for (let i = 0; i < this.currentItems.length; i++) {\n      if (this.currentItems[i].id === itemId || this.currentItems[i].id === item) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  disableItem(items) {\n    if (items.length !== 0) {\n      this.disabledItems = this.disabledItems.concat(items);\n    }\n  }\n\n  enableItems(items, enable, isUniqueId) {\n    for (let i = 0; i < items.length; i++) {\n      if (this.checkValidItem(items[i]) === 1) {\n        this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n      } else if (this.checkValidItem(items[i]) === 2) {\n        this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n      }\n    }\n  }\n\n  setFolderItem(isTree) {\n    this.menuType = 'folder';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(item => item.trim()));\n    this.contextMenu.dataBind();\n\n    if (isTree) {\n      this.disabledItems.push('Open');\n    } else if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename', 'Paste');\n    }\n  }\n\n  setFileItem() {\n    this.menuType = 'file';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(item => item.trim()));\n    this.contextMenu.dataBind();\n\n    if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename');\n    }\n  }\n\n  setLayoutItem(target) {\n    this.menuType = 'layout';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(item => item.trim()));\n    this.contextMenu.dataBind();\n\n    if (!this.parent.allowMultiSelection || this.parent.view === 'LargeIcons' && closest(target, '#' + this.parent.element.id + LARGEICON_ID).getElementsByClassName(EMPTY).length !== 0 || this.parent.view === 'Details' && closest(target, '#' + this.parent.element.id + GRID_ID).getElementsByClassName(EMPTY).length !== 0) {\n      this.disabledItems.push('SelectAll');\n    }\n\n    if (this.parent.selectedNodes.length === 0) {\n      this.disabledItems.push('Paste');\n    }\n\n    this.contextMenu.dataBind();\n  }\n\n  checkValidItem(nameEle) {\n    if (!isNullOrUndefined(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n      return 1;\n    } else if (!isNullOrUndefined(select('#' + nameEle, this.currentElement))) {\n      return 2;\n    } else {\n      return -1;\n    }\n  } // eslint-disable-next-line\n\n\n  getMenuItemData() {\n    if (this.menuType === 'layout') {\n      return getPathObject(this.parent);\n    } else {\n      // eslint-disable-next-line\n      const args = {\n        target: this.menuTarget\n      };\n      this.parent.notify(menuItemData, args);\n      return this.parent.itemData[0];\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSelect(args) {\n    if (isNullOrUndefined(args.item) || !args.item.id) {\n      return;\n    }\n\n    const itemText = args.item.id.substr((this.parent.element.id + '_cm_').length); // eslint-disable-next-line\n\n    let details;\n\n    if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(selectedData, {});\n      details = this.parent.itemData;\n    }\n\n    const eventArgs = {\n      cancel: false,\n      element: args.element,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('menuClick', eventArgs, menuClickArgs => {\n      let sItems;\n\n      if (!menuClickArgs.cancel) {\n        // eslint:disable-next-line\n        switch (itemText) {\n          case 'cut':\n            cutFiles(this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(this.parent);\n            break;\n\n          case 'paste':\n            if (this.menuType === 'folder') {\n              if (this.parent.activeModule === 'largeiconsview' || this.parent.activeModule === 'detailsview') {\n                this.parent.folderPath = getFullPath(this.parent, this.menuItemData, this.parent.path);\n              } else {\n                this.parent.folderPath = '';\n              }\n            } else {\n              this.parent.folderPath = '';\n            }\n\n            pasteHandler(this.parent);\n            break;\n\n          case 'delete':\n            for (let j = 0; j < details.length; j++) {\n              if (!hasEditAccess(details[j])) {\n                createDeniedDialog(this.parent, details[j], permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(this.parent, 'Delete');\n            break;\n\n          /* istanbul ignore next */\n\n          case 'download':\n            for (let i = 0; i < details.length; i++) {\n              if (!hasDownloadAccess(details[i])) {\n                createDeniedDialog(this.parent, details[i], permissionDownload);\n                return;\n              }\n            }\n\n            if (this.parent.activeModule === 'navigationpane') {\n              this.parent.notify(downloadInit, {});\n            } else if (this.parent.selectedItems.length > 0) {\n              Download(this.parent, this.parent.path, this.parent.selectedItems);\n            }\n\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(this.parent, details[0], permissionEdit);\n            } else {\n              this.parent.notify(renameInit, {});\n              createDialog(this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'selectall':\n            /* istanbul ignore next */\n            this.parent.notify(selectAllInit, {});\n            break;\n\n          case 'refresh':\n            refresh(this.parent);\n            break;\n\n          case 'open':\n            if (this.parent.visitedItem) {\n              this.parent.notify(openInit, {\n                target: this.parent.visitedItem\n              });\n            }\n\n            break;\n\n          case 'details':\n            this.parent.notify(detailsInit, {});\n            sItems = this.parent.selectedItems;\n\n            if (this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(this.parent, sItems, this.parent.path, 'details');\n            break;\n\n          case 'newfolder':\n            createNewFolder(this.parent);\n            break;\n\n          case 'upload':\n            uploadItem(this.parent);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'name':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'size':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'date':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'ascending':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'descending':\n            /* istanbul ignore next */\n            sortbyClickHandler(this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'none':\n            /* istanbul ignore next */\n            sortbyClickHandler(this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'largeiconsview':\n            updateLayout(this.parent, 'LargeIcons');\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'detailsview':\n            updateLayout(this.parent, 'Details');\n            break;\n        }\n      }\n    });\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'cssClass':\n          this.contextMenu.cssClass = getCssClass(this.parent, ROOT_POPUP);\n          break;\n      }\n    }\n  }\n\n  addEventListener() {\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  }\n\n  removeEventListener() {\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.keyboardModule.destroy();\n  }\n\n  keyActionHandler(e) {\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n        e.preventDefault();\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'contextmenu';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    this.contextMenu.destroy();\n  }\n  /* istanbul ignore next */\n\n\n  getItemData(data) {\n    const items = [];\n\n    for (let i = 0; i < data.length; i++) {\n      let item;\n      const itemId = this.getMenuId(data[i]);\n      const itemText = getLocaleText(this.parent, data[i]);\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            separator: true\n          };\n          break;\n\n        case 'Open':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_OPEN\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_UPLOAD\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_CUT\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_COPY\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_PASTE\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DELETE\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_RENAME\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_NEWFOLDER\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DETAILS\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_SHORTBY,\n            items: [{\n              id: this.getMenuId('Name'),\n              text: getLocaleText(this.parent, 'Name'),\n              iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Size'),\n              text: getLocaleText(this.parent, 'Size'),\n              iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Date'),\n              text: getLocaleText(this.parent, 'DateModified'),\n              iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : null\n            }, {\n              separator: true\n            }, {\n              id: this.getMenuId('Ascending'),\n              text: getLocaleText(this.parent, 'Ascending'),\n              iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('Descending'),\n              text: getLocaleText(this.parent, 'Descending'),\n              iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('None'),\n              text: getLocaleText(this.parent, 'None'),\n              iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'View':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n            items: [{\n              id: this.getMenuId('largeiconsview'),\n              text: getLocaleText(this.parent, 'View-LargeIcons'),\n              iconCss: this.parent.view === 'Details' ? null : TB_OPTION_TICK\n            }, {\n              id: this.getMenuId('detailsview'),\n              text: getLocaleText(this.parent, 'View-Details'),\n              iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_REFRESH\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_SELECTALL\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DOWNLOAD\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  }\n\n  getMenuId(id) {\n    return this.parent.element.id + '_cm_' + id.toLowerCase();\n  }\n\n}\n/**\n * Specifies the default locale of FileManager component\n */\n// eslint-disable-next-line\n\n\nconst defaultLocale = {\n  'NewFolder': 'New folder',\n  'Upload': 'Upload',\n  'Delete': 'Delete',\n  'Rename': 'Rename',\n  'Download': 'Download',\n  'Cut': 'Cut',\n  'Copy': 'Copy',\n  'Paste': 'Paste',\n  'SortBy': 'Sort by',\n  'Refresh': 'Refresh',\n  'Item-Selection': 'item selected',\n  'Items-Selection': 'items selected',\n  'View': 'View',\n  'Details': 'Details',\n  'SelectAll': 'Select all',\n  'Open': 'Open',\n  'Tooltip-NewFolder': 'New folder',\n  'Tooltip-Upload': 'Upload',\n  'Tooltip-Delete': 'Delete',\n  'Tooltip-Rename': 'Rename',\n  'Tooltip-Download': 'Download',\n  'Tooltip-Cut': 'Cut',\n  'Tooltip-Copy': 'Copy',\n  'Tooltip-Paste': 'Paste',\n  'Tooltip-SortBy': 'Sort by',\n  'Tooltip-Refresh': 'Refresh',\n  'Tooltip-Selection': 'Clear selection',\n  'Tooltip-View': 'View',\n  'Tooltip-Details': 'Details',\n  'Tooltip-SelectAll': 'Select all',\n  'Name': 'Name',\n  'Size': 'Size',\n  'DateModified': 'Modified',\n  'DateCreated': 'Date created',\n  'Path': 'Path',\n  'Modified': 'Modified',\n  'Created': 'Created',\n  'Location': 'Location',\n  'Type': 'Type',\n  'Permission': 'Permission',\n  'Ascending': 'Ascending',\n  'Descending': 'Descending',\n  'None': 'None',\n  'View-LargeIcons': 'Large icons',\n  'View-Details': 'Details',\n  'Search': 'Search',\n  'Button-Ok': 'OK',\n  'Button-Cancel': 'Cancel',\n  'Button-Yes': 'Yes',\n  'Button-No': 'No',\n  'Button-Create': 'Create',\n  'Button-Save': 'Save',\n  'Header-NewFolder': 'Folder',\n  'Content-NewFolder': 'Enter your folder name',\n  'Header-Rename': 'Rename',\n  'Content-Rename': 'Enter your new name',\n  'Header-Rename-Confirmation': 'Rename Confirmation',\n  'Content-Rename-Confirmation': 'If you change a file name extension, the file might become unstable. ' + 'Are you sure you want to change it?',\n  'Header-Delete': 'Delete File',\n  'Content-Delete': 'Are you sure you want to delete this file?',\n  'Header-Folder-Delete': 'Delete Folder',\n  'Content-Folder-Delete': 'Are you sure you want to delete this folder?',\n  'Header-Multiple-Delete': 'Delete Multiple Items',\n  'Content-Multiple-Delete': 'Are you sure you want to delete these {0} items?',\n  'Header-Duplicate': 'File/Folder exists',\n  'Content-Duplicate': '{0} already exists. Do you want to rename and paste?',\n  'Header-Upload': 'Upload Files',\n  'Error': 'Error',\n  'Validation-Empty': 'The file or folder name cannot be empty.',\n  'Validation-Invalid': 'The file or folder name {0} contains invalid characters. Please use a different name. ' + // eslint-disable-next-line no-useless-escape\n  'Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\\\/:*?\\\"<>|',\n  'Validation-NewFolder-Exists': 'A file or folder with the name {0} already exists.',\n  'Validation-Rename-Exists': 'Cannot rename {0} to {1}: destination already exists.',\n  'Folder-Empty': 'This folder is empty',\n  'File-Upload': 'Drag files here to upload',\n  'Search-Empty': 'No results found',\n  'Search-Key': 'Try with different keywords',\n  'Filter-Empty': 'No results found',\n  'Filter-Key': 'Try with different filter',\n  'Sub-Folder-Error': 'The destination folder is the subfolder of the source folder.',\n  'Same-Folder-Error': 'The destination folder is the same as the source folder.',\n  'Access-Denied': 'Access Denied',\n  'Access-Details': 'You don\"t have permission to access this folder.',\n  'Header-Retry': 'File Already Exists',\n  'Content-Retry': 'A file with this name already exists in this folder. What would you like to do?',\n  'Button-Keep-Both': 'Keep both',\n  'Button-Replace': 'Replace',\n  'Button-Skip': 'Skip',\n  'ApplyAll-Label': 'Do this for all current items',\n  'KB': 'KB',\n  'Access-Message': '{0} is not accessible. You need permission to perform the {1} action.',\n  'Network-Error': 'NetworkError: Failed to send on XMLHTTPRequest: Failed to load',\n  'Server-Error': 'ServerError: Invalid response from'\n};\n\nvar __decorate$8 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar FileManager_1;\n/**\n * The FileManager component allows users to access and manage the file system through the web  browser. It can performs the\n * functionalities like add, rename, search, sort, upload and delete files or folders. And also it\n * provides an easy way of  dynamic injectable modules like toolbar, navigationpane, detailsview, largeiconsview.\n * ```html\n *  <div id=\"file\"></div>\n * ```\n * ```typescript,\n *  let feObj: FileManager = new FileManager();\n *  feObj.appendTo('#file');\n * ```\n */\n\nlet FileManager = FileManager_1 = class FileManager extends Component {\n  constructor(options, element) {\n    super(options, element); // eslint-disable-next-line\n\n    this.filterData = null;\n    this.selectedNodes = [];\n    this.duplicateItems = []; // eslint-disable-next-line\n\n    this.duplicateRecords = [];\n    this.previousPath = [];\n    this.nextPath = [];\n    this.isLayoutChange = false;\n    this.layoutSelectedItems = [];\n    this.renamedId = null;\n    this.uploadItem = [];\n    this.deleteRecords = [];\n    this.isFile = false;\n    this.sortBy = 'name';\n    this.isCut = false;\n    this.isSearchCut = false;\n    this.isSearchDrag = false;\n    this.isPasteError = false;\n    this.folderPath = '';\n    this.isSameAction = false;\n    this.isFiltered = false;\n    this.enablePaste = false;\n    this.persistData = false;\n    this.retryArgs = [];\n    this.isOpened = false;\n    this.isRetryOpened = false;\n    this.isPathDrag = false; // eslint-disable-next-line\n\n    this.searchedItems = [];\n    this.retryFiles = [];\n    this.isApplySame = false; // eslint-disable-next-line\n\n    this.dragData = [];\n    this.dragNodes = [];\n    this.dragPath = '';\n    this.dropPath = '';\n    this.isDragDrop = false;\n    this.treeExpandTimer = null;\n    this.dragCursorPosition = {\n      left: 44,\n      top: 18\n    };\n    this.isDropEnd = false;\n    this.dragCount = 0; // eslint-disable-next-line\n\n    this.droppedObjects = [];\n    this.uploadingCount = 0;\n    this.uploadedCount = 0;\n    FileManager_1.Inject(BreadCrumbBar, LargeIconsView, ContextMenu$2);\n  }\n  /**\n   * Get component name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'filemanager';\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   */\n\n\n  preRender() {\n    this.ensurePath();\n    this.feParent = [];\n    this.feFiles = [];\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.isDevice = Browser.isDevice;\n    this.isMobile = this.checkMobile();\n\n    if (this.isMobile) {\n      this.setProperties({\n        navigationPaneSettings: {\n          visible: false\n        }\n      }, true);\n    }\n\n    const ele = closest(this.element, '.e-bigger');\n    this.isBigger = ele ? true : false;\n    this.activeModule = this.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n    createSpinner({\n      target: this.element\n    }, createElement);\n    this.addWrapper();\n    this.keyConfigs = {\n      altN: 'alt+n',\n      f5: 'f5',\n      ctrlShift1: 'ctrl+shift+1',\n      ctrlShift2: 'ctrl+shift+2',\n      ctrlU: 'ctrl+u'\n    };\n    this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n  }\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string} - returns the persisted data.\n   * @hidden\n   */\n\n\n  getPersistData() {\n    const keyEntity = ['view', 'path', 'selectedItems'];\n    return this.addOnPersist(keyEntity);\n  }\n  /**\n   * To provide the array of modules needed for component rendering\n   *\n   * @returns {ModuleDeclaration[]} - returns module declaration.\n   * @hidden\n   */\n\n\n  requiredModules() {\n    const modules = [];\n    modules.push({\n      member: 'breadcrumbbar',\n      args: [this]\n    });\n    modules.push({\n      member: 'largeiconsview',\n      args: [this]\n    });\n\n    if (this.toolbarSettings.visible) {\n      modules.push({\n        member: 'toolbar',\n        args: [this]\n      });\n    }\n\n    if (this.navigationPaneSettings.visible) {\n      modules.push({\n        member: 'navigationpane',\n        args: [this]\n      });\n    }\n\n    if (this.view) {\n      modules.push({\n        member: 'detailsview',\n        args: [this]\n      });\n    }\n\n    if (this.contextMenuSettings.visible && !this.isDevice) {\n      modules.push({\n        member: 'contextmenu',\n        args: [this]\n      });\n    }\n\n    return modules;\n  }\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  render() {\n    this.initialize();\n    const slItems = isNullOrUndefined(this.selectedItems) ? [] : this.allowMultiSelection ? this.selectedItems : this.selectedItems.slice(this.selectedItems.length - 1);\n    this.setProperties({\n      selectedItems: slItems\n    }, true);\n    this.fileView = this.view;\n    this.setRtl(this.enableRtl);\n    this.addEventListeners();\n    read(this, this.path !== this.originalPath ? initialEnd : finalizeEnd, this.path);\n    this.adjustHeight();\n\n    if (isNullOrUndefined(this.navigationpaneModule)) {\n      this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n      const bar = select('.' + SPLIT_BAR, this.element);\n      bar.classList.add(DISPLAY_NONE);\n    }\n\n    this.wireEvents();\n    this.renderComplete();\n  }\n\n  ensurePath() {\n    let currentPath = this.path;\n\n    if (isNullOrUndefined(currentPath)) {\n      currentPath = '/';\n    }\n\n    if (currentPath.lastIndexOf('/') !== currentPath.length - 1) {\n      currentPath = currentPath + '/';\n    }\n\n    this.originalPath = currentPath;\n    const paths = currentPath.split('/');\n    this.setProperties({\n      path: paths[0] + '/'\n    }, true);\n    this.pathNames = [];\n    this.pathId = ['fe_tree'];\n    this.itemData = [];\n  }\n\n  initialize() {\n    if (this.isMobile) {\n      addClass([this.element], MOBILE);\n    }\n\n    if (this.allowMultiSelection) {\n      addClass([this.element], CHECK_SELECT);\n    }\n\n    this.addCssClass(null, this.cssClass);\n    this.renderFileUpload();\n  }\n\n  addWrapper() {\n    const headerWrap = this.createElement('div', {\n      id: this.element.id + TOOLBAR_ID\n    });\n    this.element.appendChild(headerWrap);\n    const layoutWrap = this.createElement('div', {\n      id: this.element.id + LAYOUT_ID,\n      className: LAYOUT\n    });\n    this.element.appendChild(layoutWrap);\n    const navigationWrap = this.createElement('div', {\n      id: this.element.id + NAVIGATION_ID,\n      className: NAVIGATION\n    });\n    const treeWrap = this.createElement('div', {\n      id: this.element.id + TREE_ID\n    });\n    navigationWrap.appendChild(treeWrap);\n    const contentWrap = this.createElement('div', {\n      id: this.element.id + CONTENT_ID,\n      className: LAYOUT_CONTENT\n    });\n    this.breadCrumbBarNavigation = this.createElement('div', {\n      id: this.element.id + BREADCRUMBBAR_ID,\n      className: BREADCRUMBS\n    });\n    contentWrap.appendChild(this.breadCrumbBarNavigation);\n    const gridWrap = this.createElement('div', {\n      id: this.element.id + GRID_ID\n    });\n    contentWrap.appendChild(gridWrap);\n    const largeiconWrap = this.createElement('div', {\n      id: this.element.id + LARGEICON_ID,\n      className: LARGE_ICONS,\n      attrs: {\n        'role': 'group'\n      }\n    });\n    contentWrap.appendChild(largeiconWrap);\n    const overlay = this.createElement('span', {\n      className: OVERLAY\n    });\n    contentWrap.appendChild(overlay);\n    let paneSettings;\n\n    if (!this.enableRtl) {\n      layoutWrap.appendChild(navigationWrap);\n      layoutWrap.appendChild(contentWrap);\n      paneSettings = [{\n        size: '25%',\n        min: this.navigationPaneSettings.minWidth.toString(),\n        max: this.navigationPaneSettings.maxWidth.toString()\n      }, {\n        size: '75%',\n        min: '270px'\n      }];\n    } else {\n      layoutWrap.appendChild(contentWrap);\n      layoutWrap.appendChild(navigationWrap);\n      paneSettings = [{\n        size: '75%',\n        min: '270px'\n      }, {\n        size: '25%',\n        min: this.navigationPaneSettings.minWidth.toString(),\n        max: this.navigationPaneSettings.maxWidth.toString()\n      }];\n    }\n\n    this.splitterObj = new Splitter({\n      paneSettings: paneSettings,\n      width: '100%',\n      enableRtl: false,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      resizing: this.splitterResize.bind(this)\n    });\n    this.splitterObj.isStringTemplate = true;\n    this.splitterObj.appendTo(layoutWrap);\n    const dialogWrap = this.createElement('div', {\n      id: this.element.id + DIALOG_ID\n    });\n    this.element.appendChild(dialogWrap);\n    const menuWrap = this.createElement('ul', {\n      id: this.element.id + CONTEXT_MENU_ID\n    });\n    this.element.appendChild(menuWrap);\n    const dialogImgWrap = this.createElement('div', {\n      id: this.element.id + IMG_DIALOG_ID\n    });\n    this.element.appendChild(dialogImgWrap);\n    const extnDialogWrap = this.createElement('div', {\n      id: this.element.id + EXTN_DIALOG_ID\n    });\n    this.element.appendChild(extnDialogWrap);\n    const uploadDialogWrap = this.createElement('div', {\n      id: this.element.id + UPLOAD_DIALOG_ID\n    });\n    this.element.appendChild(uploadDialogWrap);\n  }\n\n  adjustHeight() {\n    const toolbar = select('#' + this.element.id + TOOLBAR_ID, this.element);\n    const toolBarHeight = toolbar ? toolbar.offsetHeight : 0;\n\n    if (this.splitterObj) {\n      this.splitterObj.height = (this.element.clientHeight - toolBarHeight).toString();\n      this.splitterObj.dataBind();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  splitterResize() {\n    this.notify(splitterResize, {});\n  }\n\n  splitterAdjust() {\n    const bar = select('.' + SPLIT_BAR, this.element);\n\n    if (this.navigationPaneSettings.visible) {\n      this.splitterObj.expand(this.enableRtl ? 1 : 0);\n      bar.classList.remove(DISPLAY_NONE);\n    } else {\n      this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n      bar.classList.add(DISPLAY_NONE);\n    }\n  }\n\n  addCssClass(oldOne, newOne) {\n    if (!isNullOrUndefined(oldOne) && oldOne !== '') {\n      removeClass([this.element], oldOne.split(' '));\n    }\n\n    if (!isNullOrUndefined(newOne) && newOne !== '') {\n      addClass([this.element], newOne.split(' '));\n    }\n  }\n\n  showSpinner() {\n    showSpinner(this.element);\n  }\n\n  hideSpinner() {\n    hideSpinner(this.element);\n  }\n\n  onContextMenu(e) {\n    e.preventDefault();\n  }\n\n  checkMobile() {\n    return /iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(Browser.userAgent.toLowerCase()) && /mobile/i.test(Browser.userAgent.toLowerCase());\n  }\n\n  renderFileUpload() {\n    const id = this.element.id + UPLOAD_ID;\n    const uploadEle = this.createElement('input', {\n      id: id,\n      attrs: {\n        name: 'uploadFiles',\n        type: 'file'\n      }\n    });\n    this.element.appendChild(uploadEle);\n    this.uploadDialogObj = new Dialog({\n      header: getLocaleText(this, 'Header-Upload'),\n      content: uploadEle,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: false,\n      isModal: true,\n      width: '350px',\n      target: this.popupTarget ? this.popupTarget : '#' + this.element.id,\n      cssClass: getCssClass(this, this.isMobile ? MOB_POPUP : ROOT_POPUP),\n      locale: this.locale,\n      allowDragging: true,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: this.enableRtl,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      open: this.onOpen.bind(this),\n      close: this.onClose.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this)\n    });\n    this.uploadDialogObj.appendTo('#' + this.element.id + UPLOAD_DIALOG_ID);\n    this.renderUploadBox();\n  }\n\n  renderUploadBox() {\n    const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n    this.uploadObj = new Uploader({\n      dropArea: select('#' + this.element.id + CONTENT_ID, this.element),\n      asyncSettings: {\n        saveUrl: uploadUrl,\n        removeUrl: uploadUrl\n      },\n      locale: this.locale,\n      enableRtl: this.enableRtl,\n      uploading: this.onUploading.bind(this),\n      removing: this.onRemoving.bind(this),\n      clearing: this.onClearing.bind(this),\n      selected: this.onSelected.bind(this),\n      success: this.onUploadSuccess.bind(this),\n      failure: this.onUploadFailure.bind(this),\n      autoUpload: this.uploadSettings.autoUpload,\n      minFileSize: this.uploadSettings.minFileSize,\n      maxFileSize: this.uploadSettings.maxFileSize,\n      allowedExtensions: this.uploadSettings.allowedExtensions,\n      fileListRendering: this.onFileListRender.bind(this)\n    });\n    this.uploadObj.appendTo('#' + this.element.id + UPLOAD_ID);\n  }\n\n  onFileListRender(args) {\n    this.trigger('uploadListCreate', args);\n  }\n\n  updateUploader() {\n    this.uploadObj.autoUpload = this.uploadSettings.autoUpload;\n    this.uploadObj.minFileSize = this.uploadSettings.minFileSize;\n    this.uploadObj.maxFileSize = this.uploadSettings.maxFileSize;\n    this.uploadObj.allowedExtensions = this.uploadSettings.allowedExtensions;\n    this.uploadObj.dataBind();\n  }\n\n  onBeforeOpen(args) {\n    const eventArgs = {\n      cancel: args.cancel,\n      popupName: 'Upload',\n      popupModule: this.uploadDialogObj\n    };\n    this.trigger('beforePopupOpen', eventArgs, eventargs => {\n      args.cancel = eventargs.cancel;\n    });\n  }\n\n  onBeforeClose(args) {\n    const eventArgs = {\n      cancel: args.cancel,\n      popupName: 'Upload',\n      popupModule: this.uploadDialogObj\n    };\n    this.trigger('beforePopupClose', eventArgs, eventargs => {\n      args.cancel = eventargs.cancel;\n    });\n  }\n\n  onOpen() {\n    this.isOpened = true;\n    this.uploadDialogObj.element.focus();\n    const args = {\n      popupModule: this.uploadDialogObj,\n      popupName: 'Upload',\n      element: this.uploadDialogObj.element\n    };\n    this.trigger('popupOpen', args);\n  }\n\n  onClose() {\n    this.isOpened = false;\n    this.uploadObj.clearAll();\n    const args = {\n      popupModule: this.uploadDialogObj,\n      popupName: 'Upload',\n      element: this.uploadDialogObj.element\n    };\n    this.trigger('popupClose', args);\n  }\n  /* istanbul ignore next */\n\n\n  onUploading(args) {\n    let action = 'save';\n\n    if (this.retryArgs.length !== 0) {\n      for (let i = 0; i < this.retryArgs.length; i++) {\n        if (args.fileData.name === this.retryArgs[i].file.name) {\n          action = this.retryArgs[i].action;\n          this.retryArgs.splice(i, 1);\n          i = this.retryArgs.length;\n        }\n      }\n    }\n\n    const data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n    args.customFormData = [{\n      'path': this.path\n    }, {\n      'action': action\n    }, {\n      'data': data\n    }];\n    const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url; // eslint-disable-next-line\n\n    const ajaxSettings = {\n      url: uploadUrl,\n      type: 'POST',\n      mode: true,\n      dataType: null,\n      contentType: null,\n      data: JSON.stringify(args.customFormData),\n      onSuccess: null,\n      onFailure: null,\n      beforeSend: null\n    };\n    this.uploadEventArgs = {\n      action: 'Upload',\n      ajaxSettings: ajaxSettings,\n      cancel: false\n    };\n    this.trigger('beforeSend', this.uploadEventArgs, uploadEventArgs => {\n      args.customFormData = JSON.parse(getValue('data', uploadEventArgs.ajaxSettings));\n      args.cancel = uploadEventArgs.cancel; // eslint-disable-next-line\n\n      const eventArgs = {\n        cancel: false,\n        httpRequest: args.currentRequest\n      };\n\n      if (typeof getValue('beforeSend', uploadEventArgs.ajaxSettings) === 'function') {\n        getValue('beforeSend', uploadEventArgs.ajaxSettings)(eventArgs);\n\n        if (getValue('cancel', eventArgs)) {\n          args.cancel = getValue('cancel', eventArgs);\n        }\n      }\n    });\n  }\n\n  onRemoving() {\n    this.onFileUploadSuccess({\n      count: 1\n    });\n\n    if (this.uploadObj.getFilesData().length === 1) {\n      this.uploadDialogObj.hide();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onClearing() {\n    if (this.isOpened) {\n      this.uploadDialogObj.hide();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSelected(args) {\n    if (args.filesData.length === 0) {\n      return;\n    }\n\n    this.uploadingCount = args.filesData.length;\n    this.uploadedCount = 0; // eslint-disable-next-line\n\n    const details = getPathObject(this);\n\n    if (!hasUploadAccess(details)) {\n      args.cancel = true;\n      createDeniedDialog(this, details, permissionUpload);\n      return;\n    }\n\n    this.uploadDialogObj.show();\n  } // eslint-disable-next-line\n\n\n  onFileUploadSuccess(args) {\n    this.uploadedCount = this.uploadedCount + args.count;\n\n    if (this.uploadSettings.autoClose && this.uploadingCount === this.uploadedCount) {\n      this.uploadDialogObj.hide();\n    }\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  onUploadSuccess(files) {\n    const args = {\n      action: 'Upload',\n      result: files\n    };\n    this.trigger('success', args);\n    this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n    read(this, pathChanged, this.path);\n    this.onFileUploadSuccess({\n      count: 1\n    });\n\n    if (typeof getValue('onSuccess', this.uploadEventArgs.ajaxSettings) === 'function') {\n      getValue('onSuccess', this.uploadEventArgs.ajaxSettings)();\n    }\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  onUploadFailure(files) {\n    // eslint-disable-next-line\n    const response = getValue('response', files);\n    const statusText = getValue('statusText', response);\n\n    if (statusText !== '') {\n      setValue('statusText', statusText, files);\n    }\n\n    const args = {\n      action: 'Upload',\n      error: files\n    };\n    this.trigger('failure', args);\n\n    if (getValue('statusCode', response) === 400) {\n      this.retryFiles.push(getValue('file', files));\n\n      if (!this.isRetryOpened) {\n        createExtDialog(this, 'UploadRetry');\n      }\n    }\n\n    if (typeof getValue('onFailure', this.uploadEventArgs.ajaxSettings) === 'function') {\n      getValue('onFailure', this.uploadEventArgs.ajaxSettings)();\n    }\n  }\n\n  onInitialEnd() {\n    setNextPath(this, this.path);\n  }\n\n  addEventListeners() {\n    this.on(beforeRequest, this.showSpinner, this);\n    this.on(afterRequest, this.hideSpinner, this);\n    this.on(initialEnd, this.onInitialEnd, this);\n    this.on(detailsInit, this.onDetailsInit, this);\n    this.on(skipUpload, this.onFileUploadSuccess, this);\n    EventHandler.add(this.element, 'contextmenu', this.onContextMenu, this);\n  }\n\n  removeEventListeners() {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    this.off(beforeRequest, this.showSpinner);\n    this.off(afterRequest, this.hideSpinner);\n    this.off(initialEnd, this.onInitialEnd);\n    this.off(detailsInit, this.onDetailsInit);\n    this.off(skipUpload, this.onFileUploadSuccess);\n    EventHandler.remove(this.element, 'contextmenu', this.onContextMenu);\n  }\n\n  onDetailsInit() {\n    if (isNullOrUndefined(this.activeModule)) {\n      this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n    }\n  }\n\n  resizeHandler() {\n    this.adjustHeight();\n    this.notify(resizeEnd, {});\n  }\n\n  keyActionHandler(e) {\n    let uploadEle;\n\n    switch (e.action) {\n      case 'altN':\n        e.preventDefault();\n        this.itemData = [getPathObject(this)];\n\n        if (!hasContentAccess(this.itemData[0])) {\n          createDeniedDialog(this, this.itemData[0], permissionEditContents);\n        } else {\n          createDialog(this, 'NewFolder');\n        }\n\n        break;\n\n      case 'f5':\n        e.preventDefault();\n        refresh(this);\n        break;\n\n      /* istanbul ignore next */\n\n      case 'ctrlShift1':\n        e.preventDefault();\n        this.fileView = 'Details';\n        this.setProperties({\n          view: 'Details'\n        }, true);\n        showSpinner(this.element);\n        updateLayout(this, 'Details');\n        break;\n\n      /* istanbul ignore next */\n\n      case 'ctrlShift2':\n        e.preventDefault();\n        this.fileView = 'LargeIcons';\n        this.setProperties({\n          view: 'LargeIcons'\n        }, true);\n        showSpinner(this.element);\n        updateLayout(this, 'LargeIcons');\n        break;\n\n      case 'ctrlU':\n        e.preventDefault();\n        uploadEle = select('#' + this.element.id + UPLOAD_ID, this.element);\n        uploadEle.click();\n        break;\n    }\n  }\n\n  wireEvents() {\n    EventHandler.add(window, 'resize', this.resizeHandler, this);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  }\n\n  unWireEvents() {\n    EventHandler.remove(window, 'resize', this.resizeHandler);\n    this.keyboardModule.destroy();\n  }\n\n  setPath() {\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    this.ensurePath();\n    this.notify(clearPathInit, {\n      selectedNode: this.pathId[0]\n    });\n    read(this, this.path !== this.originalPath ? initialEnd : finalizeEnd, this.path);\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {FileManager} newProp\n   * @param  {FileManager} oldProp\n   * @returns void\n   * @private\n   */\n\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  onPropertyChanged(newProp, oldProp) {\n    let height;\n\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'ajaxSettings':\n          this.ajaxSettingSetModel(newProp);\n          break;\n\n        case 'allowDragAndDrop':\n          this.allowDragAndDrop = newProp.allowDragAndDrop;\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'allowMultiSelection':\n          if (this.allowMultiSelection) {\n            addClass([this.element], CHECK_SELECT);\n          } else {\n            if (this.selectedItems.length > 1) {\n              this.setProperties({\n                selectedItems: this.selectedItems.slice(this.selectedItems.length - 1)\n              }, true);\n            }\n\n            removeClass([this.element], CHECK_SELECT);\n          }\n\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'cssClass':\n          this.addCssClass(oldProp.cssClass, newProp.cssClass);\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'detailsViewSettings':\n          this.notify(modelChanged, {\n            module: 'detailsview',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'enableRtl':\n          this.enableRtl = newProp.enableRtl;\n          this.refresh();\n          break;\n\n        case 'rootAliasName':\n          this.rootAliasName = newProp.rootAliasName;\n          this.refresh();\n          break;\n\n        case 'height':\n          height = !isNullOrUndefined(newProp.height) ? formatUnit(newProp.height) : newProp.height;\n          setStyleAttribute(this.element, {\n            'height': height\n          });\n          this.adjustHeight();\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'locale':\n          if (!isNullOrUndefined(newProp.enableRtl)) {\n            this.setProperties({\n              enableRtl: newProp.enableRtl\n            }, true);\n          }\n\n          this.localeSetModelOption(newProp);\n          break;\n\n        case 'navigationPaneSettings':\n          this.splitterAdjust();\n          this.notify(modelChanged, {\n            module: 'navigationpane',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'path':\n          this.setPath();\n          break;\n\n        case 'searchSettings':\n          if (!isNullOrUndefined(newProp.searchSettings.allowSearchOnTyping)) {\n            this.setProperties({\n              searchSettings: {\n                allowSearchOnTyping: newProp.searchSettings.allowSearchOnTyping\n              }\n            }, true);\n          }\n\n          if (isNullOrUndefined(newProp.searchSettings.ignoreCase)) {\n            this.setProperties({\n              searchSettings: {\n                ignoreCase: newProp.searchSettings.ignoreCase\n              }\n            }, true);\n          }\n\n          if (isNullOrUndefined(newProp.searchSettings.filterType)) {\n            this.setProperties({\n              searchSettings: {\n                filterType: newProp.searchSettings.filterType\n              }\n            }, true);\n          }\n\n          this.notify(modelChanged, {\n            module: 'breadcrumbbar',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'selectedItems':\n          if (this.view === 'Details') {\n            this.notify(modelChanged, {\n              module: 'detailsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          } else if (this.view === 'LargeIcons') {\n            this.notify(modelChanged, {\n              module: 'largeiconsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          }\n\n          break;\n\n        case 'showFileExtension':\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'showHiddenItems':\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'showThumbnail':\n          this.notify(modelChanged, {\n            module: 'largeiconsview',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'toolbarSettings':\n          this.adjustHeight();\n          this.notify(modelChanged, {\n            module: 'toolbar',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'uploadSettings':\n          this.updateUploader();\n          break;\n\n        case 'view':\n          if (newProp.view === 'Details') {\n            this.notify(modelChanged, {\n              module: 'detailsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          } else if (newProp.view === 'LargeIcons') {\n            this.notify(modelChanged, {\n              module: 'largeiconsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': !isNullOrUndefined(newProp.width) ? formatUnit(newProp.width) : newProp.width\n          });\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'sortOrder':\n          refresh(this);\n          this.notify(sortByChange, {});\n          break;\n\n        case 'popupTarget':\n          if (this.uploadDialogObj) {\n            this.uploadDialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.dialogObj) {\n            this.dialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.extDialogObj) {\n            this.extDialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.viewerObj) {\n            this.viewerObj.target = newProp.popupTarget;\n          }\n\n          break;\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  ajaxSettingSetModel(newProp) {\n    if (!isNullOrUndefined(newProp.ajaxSettings.url)) {\n      this.setProperties({\n        ajaxSettings: {\n          url: newProp.ajaxSettings.url\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.uploadUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          uploadUrl: newProp.ajaxSettings.uploadUrl\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.downloadUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          downloadUrl: newProp.ajaxSettings.downloadUrl\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.getImageUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          getImageUrl: newProp.ajaxSettings.getImageUrl\n        }\n      }, true);\n    }\n\n    this.setProperties({\n      path: '/'\n    }, true);\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    super.refresh();\n  }\n  /* istanbul ignore next */\n\n\n  localeSetModelOption(newProp) {\n    this.uploadObj.locale = newProp.locale;\n    super.refresh();\n  }\n  /**\n   * Triggers when the component is destroyed.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    if (!this.refreshing) {\n      this.notify(destroy, {});\n    }\n\n    this.uploadObj.destroy();\n    this.uploadObj = null;\n    this.uploadDialogObj.destroy();\n    this.uploadDialogObj = null;\n    this.splitterObj.destroy();\n    this.splitterObj = null;\n\n    if (this.dialogObj) {\n      this.dialogObj.destroy();\n      this.dialogObj = null;\n    }\n\n    if (this.viewerObj) {\n      this.viewerObj.destroy();\n      this.viewerObj = null;\n    }\n\n    if (this.extDialogObj) {\n      this.extDialogObj.destroy();\n      this.extDialogObj = null;\n    }\n\n    this.element.removeAttribute('style');\n    this.element.removeAttribute('tabindex');\n    this.removeEventListeners();\n    this.unWireEvents();\n    this.addCssClass(this.cssClass, null);\n    removeClass([this.element], [RTL, MOBILE, CHECK_SELECT]);\n    this.element.innerHTML = '';\n    super.destroy();\n  }\n  /**\n   * Creates a new folder in file manager.\n   *\n   * @param {string} name – Specifies the name of new folder in current path.\n   * If it is not specified, then the default new folder dialog will be opened.\n   * @returns {void}\n   */\n\n\n  createFolder(name) {\n    this.notify(methodCall, {\n      action: 'createFolder'\n    }); // eslint-disable-next-line\n\n    const details = [getPathObject(this)];\n    this.itemData = details;\n\n    if (name) {\n      if (/[/\\\\|*?\"<>:]/.test(name)) {\n        const result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(this, 'Validation-Invalid').replace('{0}', '\"' + name + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(this, 'Error', result);\n      } else {\n        if (!hasContentAccess(details[0])) {\n          createDeniedDialog(this, details[0], permissionEditContents);\n        } else {\n          createFolder(this, name);\n        }\n      }\n    } else {\n      createNewFolder(this);\n    }\n  }\n  /**\n   * Deletes the folders or files from the given unique identifiers.\n   *\n   * @param {string} ids - Specifies the name of folders or files in current path. If you want to delete the nested level folders or\n   * files, then specify the filter path along with name of the folders or files when performing the search or custom filtering.\n   * For ID based file provider, specify the unique identifier of folders or files.\n   * If it is not specified, then delete confirmation dialog will be opened for selected item.\n   *\n   * @returns {void}\n   */\n\n\n  deleteFiles(ids) {\n    this.notify(methodCall, {\n      action: 'deleteFiles',\n      ids: ids\n    });\n  }\n  /**\n   * Disables the specified toolbar items of the file manager.\n   *\n   * @param {string[]} items - Specifies an array of items to be disabled.\n   * @returns {void}\n   */\n\n\n  disableToolbarItems(items) {\n    if (!isNullOrUndefined(items)) {\n      this.toolbarModule.enableItems(items, false);\n    }\n  }\n  /**\n   * Downloads the folders or files from the given unique identifiers.\n   *\n   * @param {string} ids - Specifies the name of folders or files in current path. If you want to download the nested level folders\n   * or files, then specify the filter path along with name of the folders or files when performing search or custom filtering.\n   * For ID based file provider, specify the unique identifier of folders or files.\n   * If it is not specified, then the selected items will be downloaded.\n   *\n   * @returns {void}\n   */\n\n\n  downloadFiles(ids) {\n    this.notify(methodCall, {\n      action: 'downloadFiles',\n      ids: ids\n    });\n  }\n  /**\n   * Enables the specified toolbar items of the file manager.\n   *\n   * @param {string[]} items - Specifies an array of items to be enabled.\n   * @returns {void}\n   */\n\n\n  enableToolbarItems(items) {\n    if (!isNullOrUndefined(items)) {\n      this.toolbarModule.enableItems(items, true);\n    }\n  }\n  /**\n   * Disables the specified context menu items in file manager. This method is used only in the menuOpen event.\n   *\n   * @param {string[]} items - Specifies an array of items to be disabled.\n   * @returns {void}\n   */\n\n\n  disableMenuItems(items) {\n    if (!isNullOrUndefined(items) && !isNullOrUndefined(this.contextmenuModule.contextMenu)) {\n      this.contextmenuModule.disableItem(items);\n    }\n  }\n  /**\n   * Returns the index position of given current context menu item in file manager.\n   *\n   * @param {string} item - Specifies an item to get the index position.\n   * @returns {number} - returns menu item index.\n   */\n\n\n  getMenuItemIndex(item) {\n    if (this.contextmenuModule) {\n      return this.contextmenuModule.getItemIndex(item);\n    } else {\n      return -1;\n    }\n  }\n  /**\n   * Returns the index position of given toolbar item in file manager.\n   *\n   * @param {string} item - Specifies an item to get the index position.\n   * @returns {number} - returns toolbar item index.\n   */\n\n\n  getToolbarItemIndex(item) {\n    if (this.toolbarModule) {\n      return this.toolbarModule.getItemIndex(item);\n    } else {\n      return -1;\n    }\n  }\n  /**\n   * Display the custom filtering files in file manager.\n   *\n   * @param {Object} filterData - Specifies the custom filter details along with custom file action name,\n   * which needs to be sent to the server side. If you do not specify the details, then default action name will be `filter`.\n   *\n   * @returns {void}\n   */\n  // eslint-disable-next-line\n\n\n  filterFiles(filterData) {\n    this.filterData = filterData ? filterData : null;\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    this.notify(selectionChanged, {});\n    this.isFiltered = true;\n\n    if (this.breadcrumbbarModule.searchObj.element.value !== '') {\n      this.breadcrumbbarModule.searchObj.element.value = '';\n    }\n\n    filter(this, filterEnd);\n  }\n  /**\n   * Gets the details of the selected files in the file manager.\n   *\n   * @returns {Object[]} - returns selected files.\n   */\n  // eslint-disable-next-line\n\n\n  getSelectedFiles() {\n    this.notify(updateSelectionData, {});\n    return this.itemData;\n  }\n  /**\n   * Opens the corresponding file or folder from the given unique identifier.\n   *\n   * @param {string} id - Specifies the name of folder or file in current path. If you want to open the nested level folder or\n   * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n   * file provider, specify the unique identifier of folder or file.\n   *\n   * @returns {void}\n   */\n\n\n  openFile(id) {\n    this.notify(methodCall, {\n      action: 'openFile',\n      id: id\n    });\n  }\n  /**\n   * Refreshes the folder files of the file manager.\n   *\n   * @returns {void}\n   */\n\n\n  refreshFiles() {\n    refresh(this);\n  }\n  /**\n   * Refreshes the layout of the file manager.\n   *\n   * @returns {void}\n   */\n\n\n  refreshLayout() {\n    this.adjustHeight();\n    this.notify(layoutRefresh, {});\n  }\n  /**\n   * Selects the entire folders and files in current path.\n   *\n   * @returns {void}\n   */\n\n\n  selectAll() {\n    this.notify(methodCall, {\n      action: 'selectAll'\n    });\n  }\n  /**\n   * Deselects the currently selected folders and files in current path.\n   *\n   * @returns {void}\n   */\n\n\n  clearSelection() {\n    this.notify(methodCall, {\n      action: 'clearSelection'\n    });\n  }\n  /**\n   * Renames the file or folder with given new name in file manager.\n   *\n   * @param {string} id - Specifies the name of folder or file in current path. If you want to rename the nested level folder or\n   * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n   * file provider, specify the unique identifier of folder or file.\n   * If it is not specified, then rename dialog will be opened for selected item.\n   *\n   * @param {string} name – Specifies the new name of the file or folder in current path. If it is not specified, then rename dialog\n   * will be opened for given identifier.\n   *\n   * @returns {void}\n   */\n\n\n  renameFile(id, name) {\n    this.notify(methodCall, {\n      action: 'renameFile',\n      id: id,\n      newName: name\n    });\n  }\n  /**\n   * Opens the upload dialog in file manager.\n   *\n   * @returns {void}\n   */\n\n\n  uploadFiles() {\n    // eslint-disable-next-line\n    const details = [getPathObject(this)];\n    this.itemData = details;\n    uploadItem(this);\n  }\n  /**\n   * Specifies the direction of FileManager\n   *\n   * @param {boolean} rtl - specifies rtl parameter.\n   * @returns {void}\n   */\n\n\n  setRtl(rtl) {\n    if (rtl) {\n      this.addCssClass(null, RTL);\n    } else {\n      this.addCssClass(RTL, null);\n    }\n\n    if (this.uploadObj) {\n      this.uploadDialogObj.enableRtl = rtl;\n      this.uploadObj.enableRtl = rtl;\n    }\n  }\n\n};\n\n__decorate$8([Complex({}, AjaxSettings)], FileManager.prototype, \"ajaxSettings\", void 0);\n\n__decorate$8([Property(false)], FileManager.prototype, \"allowDragAndDrop\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"allowMultiSelection\", void 0);\n\n__decorate$8([Complex({}, ContextMenuSettings)], FileManager.prototype, \"contextMenuSettings\", void 0);\n\n__decorate$8([Property('')], FileManager.prototype, \"cssClass\", void 0);\n\n__decorate$8([Complex({}, DetailsViewSettings)], FileManager.prototype, \"detailsViewSettings\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$8([Property(false)], FileManager.prototype, \"enablePersistence\", void 0);\n\n__decorate$8([Property('400px')], FileManager.prototype, \"height\", void 0);\n\n__decorate$8([Property('LargeIcons')], FileManager.prototype, \"view\", void 0);\n\n__decorate$8([Complex({}, NavigationPaneSettings)], FileManager.prototype, \"navigationPaneSettings\", void 0);\n\n__decorate$8([Property('/')], FileManager.prototype, \"path\", void 0);\n\n__decorate$8([Property(null)], FileManager.prototype, \"popupTarget\", void 0);\n\n__decorate$8([Complex({}, SearchSettings)], FileManager.prototype, \"searchSettings\", void 0);\n\n__decorate$8([Property()], FileManager.prototype, \"selectedItems\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"showFileExtension\", void 0);\n\n__decorate$8([Property(null)], FileManager.prototype, \"rootAliasName\", void 0);\n\n__decorate$8([Property(false)], FileManager.prototype, \"showHiddenItems\", void 0);\n\n__decorate$8([Property(true)], FileManager.prototype, \"showThumbnail\", void 0);\n\n__decorate$8([Property('Ascending')], FileManager.prototype, \"sortOrder\", void 0);\n\n__decorate$8([Complex({}, ToolbarSettings)], FileManager.prototype, \"toolbarSettings\", void 0);\n\n__decorate$8([Complex({}, UploadSettings)], FileManager.prototype, \"uploadSettings\", void 0);\n\n__decorate$8([Property('100%')], FileManager.prototype, \"width\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileLoad\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforeDownload\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforeImageLoad\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforePopupClose\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforePopupOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"beforeSend\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"created\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"destroyed\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDragStart\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDragging\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDragStop\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileDropped\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileSelection\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"fileSelect\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"menuClick\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"menuOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"failure\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"popupClose\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"popupOpen\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"success\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"toolbarClick\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"toolbarCreate\", void 0);\n\n__decorate$8([Event()], FileManager.prototype, \"uploadListCreate\", void 0);\n\nFileManager = FileManager_1 = __decorate$8([NotifyPropertyChanges], FileManager);\n/**\n * File Manager base modules\n */\n\n/**\n * Toolbar module\n */\n\nclass Toolbar$1 {\n  /**\n   * Constructor for the Toolbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies the parent element.\n   * @private\n   */\n  constructor(parent) {\n    this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n    this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n    this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n    this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n    this.parent = parent;\n    this.render();\n    this.addEventListener();\n  }\n\n  render() {\n    this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map(item => item.trim())));\n    const eventArgs = {\n      items: this.items\n    };\n    this.parent.trigger('toolbarCreate', eventArgs, toolbarCreateArgs => {\n      this.items = toolbarCreateArgs.items;\n      this.toolbarObj = new Toolbar({\n        items: this.items,\n        created: this.toolbarCreateHandler.bind(this),\n        overflowMode: 'Popup',\n        clicked: this.onClicked.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        enableRtl: this.parent.enableRtl\n      });\n      this.toolbarObj.isStringTemplate = true;\n      this.toolbarObj.appendTo('#' + this.parent.element.id + TOOLBAR_ID);\n    });\n  }\n\n  getItemIndex(item) {\n    const itemId = this.getId(item);\n\n    for (let i = 0; i < this.items.length; i++) {\n      if (this.items[i].id === itemId) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  getItems(items) {\n    const currItems = items.slice();\n\n    if (this.parent.isDevice && this.parent.allowMultiSelection) {\n      currItems.push('SelectAll');\n    }\n\n    return currItems;\n  }\n  /* istanbul ignore next */\n\n\n  onClicked(args) {\n    if (isNullOrUndefined(args.item) || !args.item.id) {\n      return;\n    }\n\n    const tool = args.item.id.substr((this.parent.element.id + '_tb_').length); // eslint-disable-next-line\n\n    let details;\n\n    if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(selectedData, {});\n      details = this.parent.itemData;\n    }\n\n    const eventArgs = {\n      cancel: false,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('toolbarClick', eventArgs, toolbarClickArgs => {\n      let sItems;\n      let target;\n\n      if (!toolbarClickArgs.cancel) {\n        switch (tool) {\n          case 'sortby':\n            target = closest(args.originalEvent.target, '.' + TB_ITEM);\n\n            if (target && target.classList.contains('e-toolbar-popup')) {\n              args.cancel = true;\n            }\n\n            break;\n\n          case 'newfolder':\n            createNewFolder(this.parent);\n            break;\n\n          case 'cut':\n            cutFiles(this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(this.parent);\n            break;\n\n          case 'delete':\n            for (let i = 0; i < details.length; i++) {\n              if (!hasEditAccess(details[i])) {\n                createDeniedDialog(this.parent, details[i], permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(this.parent, 'Delete');\n            break;\n\n          case 'details':\n            this.parent.notify(detailsInit, {});\n            sItems = this.parent.selectedItems;\n\n            if (this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(this.parent, sItems, this.parent.path, 'details');\n            break;\n\n          case 'paste':\n            this.parent.folderPath = '';\n            pasteHandler(this.parent);\n            break;\n\n          case 'refresh':\n            refresh(this.parent);\n            break;\n\n          case 'download':\n            doDownload(this.parent);\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(this.parent, details[0], permissionEdit);\n            } else {\n              this.parent.notify(renameInit, {});\n              createDialog(this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'upload':\n            uploadItem(this.parent);\n            break;\n\n          case 'selectall':\n            this.parent.notify(selectAllInit, {});\n            break;\n\n          case 'selection':\n            this.parent.notify(clearAllInit, {});\n            break;\n        }\n      }\n    });\n  }\n\n  toolbarCreateHandler() {\n    if (!isNullOrUndefined(select('#' + this.getId('SortBy'), this.parent.element))) {\n      const items = [{\n        id: this.getPupupId('name'),\n        text: getLocaleText(this.parent, 'Name'),\n        iconCss: TB_OPTION_DOT\n      }, {\n        id: this.getPupupId('size'),\n        text: getLocaleText(this.parent, 'Size')\n      }, {\n        id: this.getPupupId('date'),\n        text: getLocaleText(this.parent, 'DateModified')\n      }, {\n        separator: true\n      }, {\n        id: this.getPupupId('ascending'),\n        text: getLocaleText(this.parent, 'Ascending'),\n        iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('descending'),\n        text: getLocaleText(this.parent, 'Descending'),\n        iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('none'),\n        text: getLocaleText(this.parent, 'None'),\n        iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : ''\n      }];\n      this.buttonObj = new DropDownButton({\n        items: items,\n        cssClass: getCssClass(this.parent, ROOT_POPUP),\n        select: sortbyClickHandler.bind(this, this.parent),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        enableRtl: this.parent.enableRtl,\n        iconCss: ICON_SHORTBY\n      });\n      this.buttonObj.isStringTemplate = true;\n      this.buttonObj.appendTo('#' + this.getId('SortBy'));\n    }\n\n    if (!isNullOrUndefined(select('#' + this.getId('View'), this.parent.element))) {\n      const gridSpan = '<span class=\"' + ICON_GRID + ' ' + MENU_ICON + '\"></span>';\n      const largeIconSpan = '<span class=\"' + ICON_LARGE + ' ' + MENU_ICON + '\"></span>';\n      const layoutItems = [{\n        id: this.getPupupId('large'),\n        text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n        iconCss: this.parent.view === 'Details' ? '' : TB_OPTION_TICK\n      }, {\n        id: this.getPupupId('details'),\n        text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n        iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : ''\n      }];\n      this.layoutBtnObj = new DropDownButton({\n        iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n        cssClass: getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP),\n        items: layoutItems,\n        select: this.layoutChange.bind(this),\n        enableRtl: this.parent.enableRtl,\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n      });\n      this.layoutBtnObj.isStringTemplate = true;\n      this.layoutBtnObj.appendTo('#' + this.getId('View'));\n    }\n\n    this.hideItems(this.default, true);\n    this.hideStatus();\n    const btnElement = selectAll('.e-btn', this.toolbarObj.element);\n\n    for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n      /* istanbul ignore next */\n      btnElement[btnCount].onkeydown = e => {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          e.preventDefault();\n        }\n      };\n\n      btnElement[btnCount].onkeyup = e => {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          btnElement[btnCount].click();\n        }\n      };\n    }\n\n    this.parent.refreshLayout();\n  }\n\n  updateSortByButton() {\n    if (this.buttonObj) {\n      const items = this.buttonObj.items;\n\n      for (let itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('name')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'name' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('size')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'size' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('date')) {\n          items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('ascending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('descending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('none')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '';\n        }\n      }\n    }\n  }\n\n  getPupupId(id) {\n    return this.parent.element.id + '_ddl_' + id.toLowerCase();\n  }\n\n  layoutChange(args) {\n    if (this.parent.view === 'Details') {\n      if (args.item.id === this.getPupupId('large')) {\n        updateLayout(this.parent, 'LargeIcons');\n      }\n    } else {\n      if (args.item.id === this.getPupupId('details')) {\n        updateLayout(this.parent, 'Details');\n      }\n    }\n  }\n\n  toolbarItemData(data) {\n    const items = [];\n    let mode = 'Both';\n\n    if (this.parent.isMobile) {\n      mode = 'Overflow';\n    }\n\n    for (let i = 0; i < data.length; i++) {\n      let item;\n      const itemId = this.getId(data[i]);\n      const itemText = getLocaleText(this.parent, data[i]);\n      const itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n      const spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            type: 'Separator'\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_UPLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_REFRESH,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Selection':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            suffixIcon: ICON_CLEAR,\n            overflow: 'Show',\n            align: 'Right'\n          };\n          break;\n\n        case 'View':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow',\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' + getLocaleText(this.parent, 'View') + '></button>'\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DETAILS,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow'\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_NEWFOLDER,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_CUT,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_COPY,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_PASTE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DELETE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_RENAME,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DOWNLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_SELECTALL,\n            showTextOn: mode\n          };\n          break;\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  }\n\n  getId(id) {\n    return this.parent.element.id + '_tb_' + id.toLowerCase();\n  }\n\n  addEventListener() {\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(showPaste, this.showPaste, this);\n    this.parent.on(hidePaste, this.hidePaste, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(sortByChange, this.updateSortByButton, this);\n  }\n\n  reRenderToolbar(e) {\n    if (e.newProp.toolbarSettings.items !== undefined) {\n      this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map(item => item.trim())));\n      const eventArgs = {\n        items: this.items\n      };\n      this.parent.trigger('toolbarCreate', eventArgs, toolbarCreateArgs => {\n        if (this.buttonObj) {\n          this.buttonObj.destroy();\n        }\n\n        if (this.layoutBtnObj) {\n          this.layoutBtnObj.destroy();\n        }\n\n        this.items = toolbarCreateArgs.items;\n        this.toolbarObj.items = this.items;\n        this.toolbarObj.dataBind();\n        this.toolbarCreateHandler();\n      });\n    }\n  }\n\n  onSelectionChanged() {\n    this.hideStatus();\n    this.hideItems(this.single, true);\n    this.hideItems(this.selection, false);\n\n    if (this.parent.selectedItems.length === 1) {\n      this.hideItems(this.single, false);\n      this.hideItems(this.selection, true);\n    } else if (this.parent.selectedItems.length > 1) {\n      this.hideItems(this.multiple, false);\n      this.hideItems(this.selection, true);\n    }\n\n    const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (this.parent.selectedItems.length > 0 && ele) {\n      let txt;\n\n      if (this.parent.selectedItems.length === 1) {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n      } else {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n      }\n\n      select('.e-tbar-btn-text', ele).textContent = txt;\n      this.toolbarObj.hideItem(ele.parentElement, false);\n    }\n  }\n\n  hideItems(tools, toHide) {\n    for (let i = 0; i < tools.length; i++) {\n      const ele = select('#' + this.getId(tools[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.hideItem(ele.parentElement, toHide);\n      }\n    }\n  }\n\n  hideStatus() {\n    const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (ele) {\n      this.toolbarObj.hideItem(ele.parentElement, true);\n    }\n  }\n\n  showPaste() {\n    this.hideItems(['Paste'], false);\n  }\n\n  hidePaste() {\n    this.hideItems(['Paste'], true);\n  }\n\n  onLayoutChange() {\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE;\n      const items = this.layoutBtnObj.items;\n\n      for (let itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('large')) {\n          items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('details')) {\n          items[itemCount].iconCss = this.parent.view === 'Details' ? TB_OPTION_TICK : '';\n        }\n      }\n    }\n  }\n\n  removeEventListener() {\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(selectionChanged, this.onSelectionChanged);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(showPaste, this.showPaste);\n    this.parent.off(hidePaste, this.hidePaste);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(sortByChange, this.updateSortByButton);\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'toolbar';\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'cssClass':\n          if (this.buttonObj) {\n            this.buttonObj.cssClass = getCssClass(this.parent, ROOT_POPUP);\n          }\n\n          if (this.layoutBtnObj) {\n            this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP);\n          }\n\n          break;\n\n        case 'height':\n        case 'width':\n          this.toolbarObj.refreshOverflow();\n          break;\n\n        case 'toolbarSettings':\n          this.reRenderToolbar(e);\n          break;\n      }\n    }\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.buttonObj) {\n      this.buttonObj.destroy();\n    }\n\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.destroy();\n    }\n\n    this.toolbarObj.destroy();\n    this.parent.refreshLayout();\n  }\n\n  enableItems(items, isEnable) {\n    for (let i = 0; i < items.length; i++) {\n      const ele = select('#' + this.getId(items[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.enableItems(ele.parentElement, isEnable);\n      }\n    }\n  }\n\n}\n/**\n * File Manager actions modules\n */\n\n/**\n * NavigationPane module\n */\n\n\nclass NavigationPane {\n  /**\n   * Constructor for the TreeView module\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  constructor(parent) {\n    this.removeNodes = [];\n    this.moveNames = [];\n    this.expandTree = false;\n    this.isDrag = false;\n    this.isPathDragged = false;\n    this.isRenameParent = false;\n    this.isRightClick = false;\n    this.renameParent = null;\n    this.parent = parent;\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: 'ctrl+x',\n      ctrlC: 'ctrl+c',\n      ctrlV: 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftF10: 'shift+F10',\n      f2: 'f2'\n    };\n  }\n\n  onInit() {\n    if (!isNullOrUndefined(this.treeObj)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n    setValue('_fm_icon', 'e-fe-folder', rootData); // eslint-disable-next-line\n\n    const attr = {};\n    const id = getValue('id', rootData);\n\n    if (!isNullOrUndefined(id)) {\n      setValue('data-id', id, attr);\n    }\n\n    if (!hasEditAccess(rootData)) {\n      setValue('class', getAccessClass(rootData), attr);\n    }\n\n    if (!isNullOrUndefined(attr)) {\n      setValue('_fm_htmlAttr', attr, rootData);\n    }\n\n    this.treeObj = new TreeView({\n      fields: {\n        dataSource: [rootData],\n        id: '_fm_id',\n        parentID: '_fm_pId',\n        expanded: '_fm_expanded',\n        selected: '_fm_selected',\n        text: 'name',\n        hasChildren: 'hasChild',\n        iconCss: '_fm_icon',\n        htmlAttributes: '_fm_htmlAttr',\n        tooltip: 'name'\n      },\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeExpanding: this.onNodeExpand.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      allowEditing: true,\n      nodeEditing: this.onNodeEditing.bind(this),\n      drawNode: this.onDrowNode.bind(this),\n      enableRtl: this.parent.enableRtl,\n      dataBound: this.addDragDrop.bind(this)\n    });\n    this.treeObj.isStringTemplate = true;\n    this.treeObj.appendTo('#' + this.parent.element.id + TREE_ID);\n    this.wireEvents();\n  }\n\n  addDragDrop() {\n    if (!this.parent.isMobile && this.treeObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.treeObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          dragTarget: '.' + FULLROW,\n          distance: 5,\n          dragArea: this.parent.element,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: args => {\n            dragStartHandler(this.parent, args, this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableTailMode: true,\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  }\n\n  dragHelper(args) {\n    const dragTarget = args.sender.target;\n\n    if (!dragTarget.classList.contains(FULLROW)) {\n      return null;\n    }\n\n    const dragLi = closest(dragTarget, 'li');\n    this.parent.dragPath = '';\n    this.parent.dragData = [];\n    this.parent.activeElements = [];\n    this.parent.activeElements = [dragLi];\n    this.parent.dragNodes = [];\n    getModule(this.parent, dragLi); // eslint-disable-next-line\n\n    this.parent.dragData = this.getTreeData(dragLi);\n    this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n    this.parent.dragNodes.push(this.parent.dragData[0].name);\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  }\n\n  getDragPath(dragLi, text) {\n    const path = this.getDropPath(dragLi, text);\n    return getParentPath(path);\n  }\n\n  getDropPath(node, text) {\n    const id = node.getAttribute('data-id');\n    const newText = this.parent.hasId ? id : text;\n    return getPath(node, newText, this.parent.hasId);\n  }\n\n  onDrowNode(args) {\n    const eventArgs = {\n      element: args.node,\n      fileDetails: args.nodeData,\n      module: 'NavigationPane'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  } // eslint-disable-next-line\n\n\n  addChild(files, target, prevent) {\n    // eslint-disable-next-line\n    const directories = getDirectories(files);\n\n    if (directories.length > 0) {\n      let length = 0; // eslint-disable-next-line\n\n      const folders = directories;\n\n      while (length < directories.length) {\n        // eslint-disable-next-line\n        folders[length]._fm_icon = 'e-fe-folder'; // eslint-disable-next-line\n\n        const attr = {};\n        const id = getValue('id', folders[length]);\n\n        if (!isNullOrUndefined(id)) {\n          setValue('data-id', id, attr);\n        }\n\n        if (!hasEditAccess(folders[length])) {\n          setValue('class', getAccessClass(folders[length]), attr);\n        }\n\n        if (!isNullOrUndefined(attr)) {\n          setValue('_fm_htmlAttr', attr, folders[length]);\n        }\n\n        length++;\n      } // eslint-disable-next-line\n\n\n      this.treeObj.addNodes(directories, target, null, prevent);\n    }\n  }\n\n  onNodeSelected(args) {\n    if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n      this.parent.breadcrumbbarModule.searchObj.element.value = '';\n      this.parent.isFiltered = false;\n    }\n\n    this.parent.searchedItems = [];\n\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n      return;\n    }\n\n    this.activeNode = args.node;\n    this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n    const nodeData = this.getTreeData(getValue('id', args.nodeData));\n\n    if (!this.renameParent) {\n      const eventArgs = {\n        cancel: false,\n        fileDetails: nodeData[0],\n        module: 'NavigationPane'\n      };\n      delete eventArgs.cancel;\n      this.parent.trigger('fileOpen', eventArgs);\n    }\n\n    this.parent.selectedItems = [];\n    this.parent.itemData = nodeData;\n    updatePath(args.node, this.parent.itemData[0], this.parent);\n    this.expandNodeTarget = null;\n\n    if (args.node.querySelector('.' + ICONS) && args.node.querySelector('.' + LIST_ITEM) === null) {\n      this.expandNodeTarget = 'add';\n    }\n\n    read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n    this.parent.visitedItem = args.node;\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  onPathDrag(args) {\n    this.isPathDragged = true;\n    this.selectResultNode(args[0]);\n  }\n  /* istanbul ignore next */\n\n\n  onNodeExpand(args) {\n    if (!args.isInteracted && !this.isDrag) {\n      return;\n    }\n\n    if (args.node.querySelector('.' + LIST_ITEM) === null) {\n      const text = getValue('text', args.nodeData);\n      const id = args.node.getAttribute('data-id');\n      const isId = isNullOrUndefined(id) ? false : true;\n      const newText = isNullOrUndefined(id) ? text : id;\n      const path = getPath(args.node, newText, isId);\n      this.expandNodeTarget = args.node.getAttribute('data-uid');\n      this.parent.expandedId = this.expandNodeTarget;\n      this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n      read(this.parent, nodeExpand, path);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onNodeExpanded(args) {\n    this.addChild(args.files, this.expandNodeTarget, false);\n    this.parent.expandedId = null;\n  }\n\n  onNodeClicked(args) {\n    this.parent.activeModule = 'navigationpane';\n    this.activeNode = args.node;\n\n    if (args.event.which === 3 && args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0]) {\n      this.isRightClick = true;\n      this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n    } else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      const layout = this.parent.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n      this.parent.notify(modelChanged, {\n        module: layout,\n        newProp: {\n          selectedItems: []\n        }\n      });\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onNodeEditing(args) {\n    if (!isNullOrUndefined(args.innerHtml)) {\n      args.cancel = true;\n    }\n  }\n\n  onPathChanged(args) {\n    this.parent.isCut = false; // eslint-disable-next-line\n\n    const currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n\n    if (this.expandNodeTarget === 'add') {\n      const sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n      const ul = select('.' + LIST_PARENT, sNode);\n\n      if (isNullOrUndefined(ul)) {\n        this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n      }\n\n      this.expandNodeTarget = '';\n    }\n\n    this.expandTree = false;\n\n    if (isNullOrUndefined(currFiles)) {\n      setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n    }\n  }\n\n  updateTree(args) {\n    if (this.treeObj) {\n      const id = this.treeObj.selectedNodes[0];\n      this.updateTreeNode(args, id);\n    }\n  }\n\n  updateTreeNode(args, id) {\n    const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, !toExpand);\n  }\n\n  removeChildNodes(id) {\n    const sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n    const parent = select('.' + LIST_PARENT, sNode);\n    const childs = parent ? Array.prototype.slice.call(parent.children) : null;\n\n    if (childs) {\n      this.treeObj.removeNodes(childs);\n    }\n  }\n\n  onOpenEnd(args) {\n    const sleId = this.parent.pathId[this.parent.pathId.length - 1];\n    this.treeObj.expandAll(this.treeObj.selectedNodes);\n    this.treeObj.selectedNodes = [sleId];\n    this.expandNodeTarget = 'add';\n    this.onPathChanged(args);\n  }\n\n  onOpenInit(args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      if (args.target.querySelector('.' + ICONS)) {\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n      }\n    }\n  }\n\n  onInitialEnd(args) {\n    this.onInit();\n    this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n  }\n\n  onFinalizeEnd(args) {\n    this.onInit();\n    const id = getValue('_fm_id', args.cwd);\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, false);\n    this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n  }\n\n  onCreateEnd(args) {\n    this.updateTree(args);\n  }\n\n  onSelectedData() {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateItemData();\n    }\n  }\n\n  onDeleteInit() {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateActionData();\n      const name = getValue('name', this.parent.itemData[0]);\n      Delete(this.parent, [name], this.parent.path, 'delete');\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd(args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      const selectedNode = this.treeObj.selectedNodes[0];\n      const selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n      const selectedNodeEle = closest(selcetedEle, '.' + LIST_PARENT).parentElement;\n      this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n      this.treeObj.dataBind();\n    }\n\n    this.updateTree(args);\n  }\n\n  onRefreshEnd(args) {\n    this.updateTree(args);\n  }\n\n  onRenameInit() {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateRenameData();\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onRenameEndParent(args) {\n    const id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n    this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n    this.updateTreeNode(args, id);\n    this.parent.expandedId = null;\n\n    if (this.renameParent) {\n      this.renameParent = null;\n    } else {\n      // eslint-disable-next-line\n      let resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        const nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.isRenameParent = true;\n        const id = getValue(this.treeObj.fields.id, resultData[0]);\n        this.treeObj.selectedNodes = [id];\n        this.treeObj.dataBind();\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onRenameEnd(args) {\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n      this.updateTree(args);\n    } else {\n      // eslint-disable-next-line\n      const data = this.treeObj.getTreeData(); // eslint-disable-next-line\n\n      let resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(data).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        const nData = new DataManager(data).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n        this.parent.expandedId = this.renameParent;\n        this.parent.itemData = this.getTreeData(this.renameParent);\n        read(this.parent, renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n      }\n    }\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.addDragDrop();\n          break;\n\n        case 'navigationPaneSettings':\n          read(this.parent, finalizeEnd, '/');\n          break;\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDownLoadInit() {\n    this.doDownload();\n  }\n\n  onSelectionChanged(e) {\n    this.treeObj.selectedNodes = [e.selectedNode];\n  }\n\n  onClearPathInit(e) {\n    this.removeChildNodes(e.selectedNode);\n  }\n\n  onDragEnd(args) {\n    let moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchDrag) {\n      moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  } // eslint-disable-next-line\n\n\n  getMoveNames(files, flag, path) {\n    const moveNames = [];\n\n    for (let i = 0; i < files.length; i++) {\n      if (!files[i].isFile) {\n        if (!this.parent.hasId) {\n          let name = files[i].previousName;\n\n          if (flag) {\n            path = path + files[i].previousName;\n            const index = path.lastIndexOf('/');\n            name = path.substring(index + 1);\n            path = path.substring(0, index + 1);\n          } // eslint-disable-next-line\n\n\n          const resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name, false));\n\n          for (let j = 0; j < resultData.length; j++) {\n            let fPath = getValue('filterPath', resultData[j]);\n            fPath = fPath.replace(/\\\\/g, '/');\n\n            if (fPath === path) {\n              moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return moveNames;\n  }\n\n  onCutEnd(args) {\n    let moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchCut) {\n      this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  }\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  selectResultNode(resultObj) {\n    if (!this.parent.hasId) {\n      const path = getValue('filterPath', resultObj);\n      const itemname = getValue('name', resultObj); // eslint-disable-next-line\n\n      const data = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n\n      if (data.length > 0) {\n        // eslint-disable-next-line\n        const resultData = new DataManager(data).executeLocal(new Query().where('filterPath', 'equal', path, false));\n\n        if (resultData.length > 0) {\n          const id = getValue(this.treeObj.fields.id, resultData[0]);\n          this.treeObj.selectedNodes = [id];\n          this.treeObj.dataBind();\n        }\n      }\n    } else {\n      this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n      this.treeObj.dataBind();\n    }\n  }\n\n  onDropPath(args) {\n    this.onpasteEnd(args);\n    this.selectResultNode(this.parent.dropData);\n    this.parent.isDropEnd = !this.parent.isPasteError;\n  }\n\n  onpasteEnd(args) {\n    // eslint-disable-next-line\n    let resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n    } else {\n      // eslint-disable-next-line\n      const nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n\n      if (nData.length > 0) {\n        resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      const id = getValue(this.treeObj.fields.id, resultData[0]);\n      const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n      this.removeChildNodes(id);\n      this.addChild(args.files, id, toExpand);\n    }\n\n    this.parent.expandedId = null;\n    this.onPathChanged(args);\n\n    if (this.parent.isDragDrop) {\n      this.checkDropPath(args);\n    }\n  }\n  /* istanbul ignore next */\n\n\n  checkDropPath(args) {\n    if (this.parent.hasId) {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n      readDropPath(this.parent);\n      return;\n    }\n\n    if (this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1) {\n      this.parent.isDropEnd = false;\n      readDropPath(this.parent);\n    } else {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n  }\n\n  onpasteInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.updateItemData();\n    }\n\n    this.moveNames = []; // eslint-disable-next-line\n\n    const obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n\n    for (let i = 0; i < obj.length; i++) {\n      if (getValue('isFile', obj[i]) === false) {\n        this.moveNames.push(getValue('_fm_id', obj[i]));\n      }\n    }\n  }\n\n  oncutCopyInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.activeElements = [this.activeNode];\n    }\n  }\n\n  addEventListener() {\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(downloadInit, this.onDownLoadInit, this);\n    this.parent.on(initialEnd, this.onInitialEnd, this);\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutEnd, this.onCutEnd, this);\n    this.parent.on(pasteInit, this.onpasteInit, this);\n    this.parent.on(nodeExpand, this.onNodeExpanded, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(updateTreeSelection, this.onSelectionChanged, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(openEnd, this.onOpenEnd, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onRenameEnd, this);\n    this.parent.on(renameEndParent, this.onRenameEndParent, this);\n    this.parent.on(clearPathInit, this.onClearPathInit, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(dragEnd, this.onDragEnd, this);\n    this.parent.on(dragging, this.onDragging, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(pathDrag, this.onPathDrag, this);\n  }\n\n  removeEventListener() {\n    this.parent.off(initialEnd, this.onInitialEnd);\n    this.parent.off(downloadInit, this.onDownLoadInit);\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutEnd, this.onCutEnd);\n    this.parent.off(pasteInit, this.onpasteInit);\n    this.parent.off(updateTreeSelection, this.onSelectionChanged);\n    this.parent.off(nodeExpand, this.onNodeExpanded);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(openEnd, this.onOpenEnd);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onRenameEnd);\n    this.parent.off(renameEndParent, this.onRenameEndParent);\n    this.parent.off(clearPathInit, this.onClearPathInit);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(dragEnd, this.onDragEnd);\n    this.parent.off(dragging, this.onDragging);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(pathDrag, this.onPathDrag);\n  }\n  /* istanbul ignore next */\n\n\n  onDetailsInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      // eslint-disable-next-line\n      const dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.itemData = dataobj;\n    }\n  } // eslint-disable-next-line\n\n\n  onMenuItemData(args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      const liEle = closest(args.target, 'li');\n      this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDragging(args) {\n    const ele = closest(args.target, 'li');\n\n    if (ele.classList.contains('e-node-collapsed')) {\n      this.isDrag = true;\n      const level = parseInt(ele.getAttribute('aria-level'), 10);\n      this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n      this.isDrag = false;\n    }\n  }\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      const dropLi = closest(args.target, 'li');\n      this.parent.dropData = this.getTreeData(dropLi)[0];\n      this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'navigationpane';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.treeObj) {\n      this.unWireEvents();\n      this.treeObj.destroy();\n    }\n  }\n\n  wireEvents() {\n    this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n      keyAction: this.keyDown.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  }\n\n  unWireEvents() {\n    this.keyboardModule.destroy();\n  }\n  /* istanbul ignore next */\n\n\n  keyDown(e) {\n    const action = e.action;\n\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(detailsInit, {});\n        GetDetails(this.parent, [], this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n        this.updateItemData();\n\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        } else {\n          this.removeNodes = [];\n          createDialog(this.parent, 'Delete');\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'shiftF10':\n        this.updateItemData();\n\n        if (!hasDownloadAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionDownload);\n          return;\n        }\n\n        if (this.parent.selectedItems.length !== 0) {\n          this.doDownload();\n        }\n\n        break;\n\n      case 'f2':\n        if (this.parent.selectedItems.length === 0) {\n          // eslint-disable-next-line\n          const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n\n          if (!hasEditAccess(data)) {\n            createDeniedDialog(this.parent, data, permissionEdit);\n          } else {\n            this.updateRenameData();\n            createDialog(this.parent, 'Rename');\n          }\n        }\n\n        break;\n    }\n  } // eslint-disable-next-line\n\n\n  getTreeData(args) {\n    // eslint-disable-next-line\n    const data = this.treeObj.getTreeData(args);\n\n    for (let i = 0; i < data.length; i++) {\n      if (isNullOrUndefined(getValue('hasChild', data[i]))) {\n        setValue('hasChild', false, data[i]);\n      }\n    }\n\n    return data;\n  }\n\n  updateRenameData() {\n    this.updateItemData();\n    this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n  }\n\n  updateItemData() {\n    // eslint-disable-next-line\n    const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n    this.parent.itemData = [data];\n    this.parent.isFile = false;\n  }\n\n  updateActionData() {\n    this.updateItemData();\n    const newPath = getParentPath(this.parent.path);\n    this.parent.setProperties({\n      path: newPath\n    }, true);\n    this.parent.pathId.pop();\n    this.parent.pathNames.pop();\n  }\n  /* istanbul ignore next */\n\n\n  doDownload() {\n    const newPath = getParentPath(this.parent.path);\n    const itemId = this.treeObj.selectedNodes[0];\n    const name = itemId === this.parent.pathId[0] ? '' : getValue('name', this.parent.itemData[0]);\n    Download(this.parent, newPath, [name]);\n  }\n\n}\n/**\n * DetailsView module\n */\n\n\nclass DetailsView {\n  /**\n   * Constructor for the GridView module\n   *\n   * @param {FileManager} parent - specifies the parent.\n   * @hidden\n   */\n  constructor(parent) {\n    this.isInteracted = true;\n    this.interaction = true;\n    this.isPasteOperation = false;\n    this.isColumnRefresh = false;\n    this.dragObj = null;\n    this.startIndex = null;\n    this.firstItemIndex = null;\n    this.isSelectionUpdate = false;\n    this.currentSelectedItem = [];\n    this.count = 0;\n    this.isRendered = true;\n    this.isLoaded = false;\n    this.isNameWidth = false;\n    this.pasteOperation = false;\n    this.uploadOperation = false;\n    Grid.Inject(Resize, ContextMenu$1, Sort, VirtualScroll);\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + GRID_ID, this.parent.element);\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      ctrlUp: 'ctrl+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      end: 'end',\n      home: 'home',\n      moveUp: 'uparrow',\n      del: 'delete',\n      ctrlX: 'ctrl+x',\n      ctrlC: 'ctrl+c',\n      ctrlV: 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftdel: 'shift+delete',\n      ctrlD: 'ctrl+d',\n      f2: 'f2',\n      ctrlA: 'ctrl+a',\n      enter: 'enter'\n    };\n  }\n  /* istanbul ignore next */\n\n\n  render(args) {\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'Details') {\n      removeClass([this.parent.element], MULTI_SELECT); // eslint-disable-next-line\n\n      const items = getSortedData(this.parent, args.files);\n      this.checkNameWidth();\n      const columns = this.getColumns();\n      let sortSettings;\n\n      if (this.parent.isMobile) {\n        sortSettings = [];\n      } else {\n        if (this.parent.sortOrder !== 'None') {\n          sortSettings = [{\n            direction: this.parent.sortOrder,\n            field: this.parent.sortBy\n          }];\n        }\n      }\n\n      this.gridObj = new Grid({\n        dataSource: items,\n        allowSorting: true,\n        rowSelecting: this.onSelection.bind(this, 'select'),\n        rowDeselecting: this.onSelection.bind(this, 'unselect'),\n        rowSelected: this.onSelected.bind(this),\n        rowDeselected: this.onDeSelection.bind(this),\n        allowResizing: this.parent.detailsViewSettings.columnResizing,\n        selectionSettings: {\n          type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n          checkboxMode: 'ResetOnRowClick'\n        },\n        enableRtl: this.parent.enableRtl,\n        pageSettings: {\n          pageSize: 20\n        },\n        sortSettings: {\n          allowUnsort: false,\n          columns: sortSettings\n        },\n        columns: columns,\n        recordDoubleClick: this.DblClickEvents.bind(this),\n        beforeDataBound: this.onBeforeDataBound.bind(this),\n        dataBound: this.onDataBound.bind(this),\n        rowDataBound: this.onRowDataBound.bind(this),\n        actionBegin: this.onActionBegin.bind(this),\n        headerCellInfo: this.onHeaderCellInfo.bind(this),\n        width: '100%',\n        beforeCopy: args => {\n          args.cancel = true;\n        },\n        // eslint-disable-next-line\n        load: function (args) {\n          this.focusModule.destroy();\n        },\n        locale: this.parent.locale\n      });\n      this.gridObj.isStringTemplate = true;\n      this.gridObj.appendTo('#' + this.parent.element.id + GRID_ID);\n      this.wireEvents();\n      this.adjustHeight();\n      this.emptyArgs = args;\n    }\n  }\n\n  checkNameWidth() {\n    const initialColumn = this.parent.detailsViewSettings.columns;\n    this.isNameWidth = false;\n\n    for (let i = 0; i < initialColumn.length; i++) {\n      if (initialColumn[i].field === 'name') {\n        this.isNameWidth = !isNullOrUndefined(initialColumn[i].width);\n        return;\n      }\n    }\n  }\n\n  adjustWidth(columns, fieldName) {\n    if (this.isNameWidth && fieldName === 'name') {\n      return;\n    }\n\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].field === fieldName) {\n        let nameWidth;\n\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n          nameWidth = this.element.clientWidth <= 500 ? '120px' : 'auto';\n        } else {\n          nameWidth = this.element.clientWidth <= 680 ? fieldName === 'name' ? '120px' : '180px' : 'auto';\n        }\n\n        columns[i].width = nameWidth;\n      }\n    }\n  }\n\n  getColumns() {\n    let columns;\n\n    if (this.parent.isMobile) {\n      columns = [{\n        field: 'name',\n        headerText: getLocaleText(this.parent, 'Name'),\n        width: 'auto',\n        minWidth: 120,\n        headerTextAlign: 'Left',\n        template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' + '<span class=\"e-fe-size\">${size}</span>'\n      }];\n    } else {\n      columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n      this.adjustWidth(columns, 'name');\n\n      for (let i = 0, len = columns.length; i < len; i++) {\n        columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n      }\n    }\n\n    const iWidth = this.parent.isMobile || this.parent.isBigger ? '54' : '46';\n    const icon = {\n      field: 'type',\n      width: iWidth,\n      minWidth: iWidth,\n      template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n      allowResizing: false,\n      allowSorting: true,\n      customAttributes: {\n        class: 'e-fe-grid-icon'\n      },\n      headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n    };\n    columns.unshift(icon);\n\n    if (this.parent.allowMultiSelection) {\n      const cWidth = this.parent.isBigger ? '36' : '26';\n      const cBox = {\n        type: 'checkbox',\n        width: cWidth,\n        minWidth: cWidth,\n        customAttributes: {\n          class: 'e-fe-checkbox'\n        },\n        allowResizing: false,\n        allowSorting: false\n      };\n\n      if (this.parent.isMobile) {\n        columns.push(cBox);\n      } else {\n        columns.unshift(cBox);\n      }\n    }\n\n    for (let i = 0, len = columns.length; i < len; i++) {\n      columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n    }\n\n    return columns;\n  }\n\n  adjustHeight() {\n    if (!this.gridObj) {\n      return;\n    }\n\n    const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n    const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n    const gridHeader = select('.' + GRID_HEADER, this.parent.element);\n    const height = pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight;\n    this.gridObj.height = height;\n    this.gridObj.dataBind();\n  }\n\n  renderCheckBox() {\n    this.gridObj.columns = this.getColumns();\n    this.isColumnRefresh = true;\n    this.gridObj.refreshColumns();\n  }\n\n  onRowDataBound(args) {\n    let td = select('.e-fe-grid-name', args.row);\n\n    if (!td) {\n      const columns = this.parent.detailsViewSettings.columns;\n\n      for (let i = 0; i < columns.length; i++) {\n        if (columns[i].field === 'name') {\n          td = args.row.children[this.parent.allowMultiSelection ? i + 2 : i + 1];\n          break;\n        }\n      }\n    }\n\n    if (td) {\n      td.setAttribute('title', getValue('name', args.data));\n    }\n\n    if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n      if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n        addBlur(args.row);\n      }\n    }\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n      const textEle = args.row.querySelector('.e-fe-text');\n\n      if (textEle) {\n        const name = getValue('name', args.data);\n        const type = getValue('type', args.data);\n        textEle.innerHTML = name.substr(0, name.length - type.length);\n      }\n    }\n\n    if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n      const sizeEle = args.row.querySelector('.e-fe-size');\n      let modifiedSize;\n\n      if (!getValue('isFile', args.data)) {\n        modifiedSize = '';\n      } else {\n        const sizeValue = getValue('size', args.data);\n        const intl = new Internationalization(this.parent.locale);\n        const value = intl.formatNumber(sizeValue / 1024, {\n          format: 'n'\n        });\n        modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n      }\n\n      sizeEle.innerHTML = modifiedSize;\n    }\n\n    if (this.parent.isMobile) {\n      if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n        const dateEle = args.row.querySelector('.e-fe-date');\n        const intl = new Internationalization(this.parent.locale);\n        const columns = this.parent.detailsViewSettings.columns; // eslint-disable-next-line\n\n        let format;\n\n        for (let i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'dateModified') {\n            format = columns[i].format;\n            break;\n          }\n        }\n\n        const formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n        dateEle.innerHTML = formattedString;\n      }\n    }\n\n    const checkWrap = args.row.querySelector('.' + CB_WRAP);\n\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n\n    if (!hasEditAccess(args.data)) {\n      args.row.className += ' ' + getAccessClass(args.data);\n    }\n\n    const eventArgs = {\n      element: args.row,\n      fileDetails: args.data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  }\n\n  onActionBegin(args) {\n    if (args.requestType === 'sorting') {\n      this.parent.setProperties({\n        sortOrder: args.direction\n      }, true);\n      this.parent.setProperties({\n        sortBy: args.columnName\n      }, true);\n\n      if (this.parent.selectedItems.length !== 0) {\n        this.sortItem = true;\n        const rows = this.gridObj.getSelectedRowIndexes();\n        let len = rows.length;\n        this.sortSelectedNodes = [];\n\n        while (len > 0) {\n          // eslint-disable-next-line\n          const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n          this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n          len--;\n        }\n      }\n\n      this.parent.notify(sortByChange, {});\n    }\n  }\n\n  onHeaderCellInfo(args) {\n    const checkWrap = args.node.querySelector('.' + CB_WRAP);\n\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n  }\n\n  onBeforeDataBound(args) {\n    showSpinner(this.parent.element); // eslint-disable-next-line\n\n    const items = getSortedData(this.parent, this.gridObj.dataSource);\n    args.result = items;\n  }\n  /* istanbul ignore next */\n\n\n  onDataBound() {\n    this.createDragObj();\n\n    if (this.parent.selectedItems.length !== 0) {\n      this.selectRecords(this.parent.selectedItems);\n    }\n\n    if (this.isPasteOperation === true) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n\n    if (this.parent.createdItem) {\n      this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n      this.parent.createdItem = null;\n    }\n\n    if (this.parent.layoutSelectedItems.length) {\n      this.selectRecords(this.parent.layoutSelectedItems);\n    }\n\n    if (this.parent.renamedItem) {\n      this.addSelection(this.parent.renamedItem);\n      this.parent.renamedItem = null;\n    }\n\n    if (this.sortItem === true) {\n      this.selectRecords(this.sortSelectedNodes);\n      this.sortItem = false;\n    }\n\n    if (this.isSelectionUpdate) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.currentSelectedItem);\n        this.isSelectionUpdate = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n\n    if (this.uploadOperation === true) {\n      this.count++;\n      this.selectRecords(this.parent.uploadItem);\n\n      if (this.count === this.parent.uploadItem.length) {\n        this.uploadOperation = false;\n        this.parent.uploadItem = [];\n      }\n    }\n\n    if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n      const hdTable = this.gridObj.getHeaderContent();\n      hdTable.style.paddingRight = '';\n      hdTable.style.paddingLeft = '';\n      const hdContent = select('.e-headercontent', hdTable);\n      hdContent.style.borderRightWidth = '0';\n      const cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.style.overflowY = '';\n      cnTable.classList.add('e-scrollShow');\n    } else {\n      const hdTable = this.gridObj.getHeaderContent();\n\n      if (!this.parent.enableRtl) {\n        hdTable.style.paddingRight = '16px';\n      } else {\n        hdTable.style.paddingLeft = '16px';\n      }\n\n      const cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.classList.remove('e-scrollShow');\n    }\n\n    this.isRendered = true;\n    this.parent.isLayoutChange = false;\n    hideSpinner(this.parent.element);\n    this.checkEmptyDiv(this.emptyArgs);\n    this.isInteracted = this.isLoaded ? true : this.isInteracted;\n    this.isLoaded = false;\n  }\n\n  selectRecords(nodes) {\n    // eslint-disable-next-line\n    const gridRecords = this.gridObj.getCurrentViewRecords();\n    const sRecords = [];\n\n    for (let i = 0, len = gridRecords.length; i < len; i++) {\n      const node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n\n      if (nodes.indexOf(node) !== -1) {\n        sRecords.push(i);\n      }\n    }\n\n    if (sRecords.length !== 0) {\n      this.gridObj.selectRows(sRecords);\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n  } // eslint-disable-next-line\n\n\n  addSelection(data) {\n    // eslint-disable-next-line\n    const items = this.gridObj.getCurrentViewRecords(); // eslint-disable-next-line\n\n    let rData = [];\n\n    if (this.parent.hasId) {\n      rData = new DataManager(items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      const nData = new DataManager(items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (nData.length > 0) {\n        rData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (rData.length > 0) {\n      const index = items.indexOf(rData[0]);\n      this.gridObj.selectRows([index]);\n    }\n  }\n\n  onSortColumn() {\n    if (this.parent.sortOrder !== 'None') {\n      this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n    } else {\n      // eslint-disable-next-line\n      this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n    }\n  }\n\n  onPropertyChanged(e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (const prop of Object.keys(e.newProp)) {\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'detailsViewSettings':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.checkNameWidth();\n            const columns = this.getColumns();\n            this.gridObj.columns = columns;\n            this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n            this.gridObj.dataBind();\n            this.gridObj.refreshColumns();\n          }\n\n          break;\n\n        case 'selectedItems':\n          this.interaction = false;\n\n          if (this.parent.selectedItems.length !== 0) {\n            if (!this.parent.allowMultiSelection) {\n              const slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n              this.parent.setProperties({\n                selectedItems: slItems\n              }, true);\n            }\n\n            this.selectRecords(this.parent.selectedItems);\n            this.parent.setProperties({\n              selectedItems: this.parent.selectedItems\n            }, true);\n          } else if (!isNullOrUndefined(this.gridObj)) {\n            this.gridObj.clearSelection();\n          }\n\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.currentSelectedItem = this.parent.selectedItems;\n            this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n            this.isSelectionUpdate = true;\n            this.renderCheckBox();\n          }\n\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'Details');\n          break;\n\n        case 'width':\n          this.onDetailsResize();\n      }\n    }\n  }\n\n  onPathChanged(args) {\n    this.parent.isCut = false;\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n      this.parent.searchedItems = [];\n\n      if (!this.parent.isFiltered) {\n        this.removePathColumn(false);\n      } else {\n        this.updatePathColumn();\n      }\n    }\n\n    removeBlur(this.parent);\n\n    if (this.parent.view === 'Details') {\n      /* istanbul ignore next */\n      this.isInteracted = false;\n      showSpinner(this.parent.element);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    }\n\n    this.emptyArgs = args;\n  }\n\n  updatePathColumn() {\n    const len = this.gridObj.columns.length;\n    const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n\n    if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n      const pathColumn$$1 = {\n        field: 'filterPath',\n        headerText: getLocaleText(this.parent, 'Path'),\n        minWidth: 180,\n        width: 'auto'\n      };\n      this.gridObj.columns.push(pathColumn$$1);\n      this.adjustWidth(this.gridObj.columns, 'filterPath');\n      this.adjustWidth(this.gridObj.columns, 'name');\n      this.isColumnRefresh = true;\n      this.gridObj.refreshColumns();\n    }\n  }\n\n  checkEmptyDiv(args) {\n    // eslint-disable-next-line\n    const items = getSortedData(this.parent, args.files);\n\n    if (items.length === 0 && !isNullOrUndefined(this.element.querySelector('.' + GRID_VIEW))) {\n      createEmptyElement(this.parent, this.element, args);\n    } else if (items.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n      if (this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY)) {\n        const emptyDiv = this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY);\n        this.element.querySelector('.' + GRID_VIEW).removeChild(emptyDiv);\n      } else {\n        this.element.removeChild(this.element.querySelector('.' + EMPTY));\n      }\n    }\n  }\n\n  onOpenInit() {\n    if (this.parent.activeModule === 'detailsview') {\n      // eslint-disable-next-line\n      const data = this.gridObj.getSelectedRecords()[0];\n      this.openContent(data);\n    }\n  }\n\n  DblClickEvents(args) {\n    this.gridObj.selectRows([args.rowIndex]); // eslint-disable-next-line\n\n    let data;\n\n    if (args.rowData) {\n      data = JSON.parse(JSON.stringify(args.rowData));\n      this.openContent(data);\n    }\n  } // eslint-disable-next-line\n\n\n  openContent(data) {\n    if (!hasReadAccess(data)) {\n      createDeniedDialog(this.parent, data, permissionRead);\n      return;\n    }\n\n    const eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileOpen', eventArgs, fileOpenArgs => {\n      if (!fileOpenArgs.cancel) {\n        const name = getValue('name', data);\n\n        if (getValue('isFile', data)) {\n          const icon = fileType(data);\n\n          if (icon === ICON_IMAGE) {\n            const imgUrl = getImageUrl(this.parent, data);\n            createImageDialog(this.parent, name, imgUrl);\n          }\n        } else {\n          const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n\n          if (val === '' && !this.parent.isFiltered) {\n            const id = getValue('id', data);\n            const newPath = this.parent.path + (isNullOrUndefined(id) ? name : id) + '/';\n            this.parent.setProperties({\n              path: newPath\n            }, true);\n            this.parent.pathNames.push(name);\n            this.parent.pathId.push(getValue('_fm_id', data));\n            this.parent.itemData = [data];\n            openAction(this.parent);\n          } else {\n            openSearchFolder(this.parent, data);\n          }\n\n          this.parent.isFiltered = false;\n        }\n\n        this.element.focus();\n      }\n    });\n  }\n  /* istanbul ignore next */\n\n\n  onLayoutChange(args) {\n    if (this.parent.view === 'Details') {\n      if (!this.gridObj) {\n        this.render(args);\n      } else {\n        this.isLoaded = true;\n      }\n\n      if (this.parent.isFiltered) {\n        this.updatePathColumn();\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.parent.notify(hideLayout, {});\n      this.gridObj.element.classList.remove(DISPLAY_NONE);\n      this.isInteracted = false;\n      this.gridObj.clearSelection();\n\n      if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n        this.onSearchFiles(args);\n      }\n\n      this.adjustHeight();\n\n      if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSearchFiles(args) {\n    if (this.parent.view === 'Details') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(selectionChanged, {});\n\n      if (!this.parent.isLayoutChange) {\n        this.parent.layoutSelectedItems = [];\n      }\n\n      this.updatePathColumn();\n      this.parent.searchedItems = args.files;\n      this.onPathChanged(args);\n    }\n  }\n\n  removePathColumn(isRefresh) {\n    const len = this.gridObj.columns.length;\n    const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n\n    if (columnData[len - 1].field && columnData[len - 1].field === 'filterPath') {\n      /* istanbul ignore next */\n      if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn('name', this.parent.sortOrder);\n        } else {\n          // eslint-disable-next-line\n          this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n\n        this.parent.notify(sortByChange, {});\n      }\n\n      this.gridObj.columns.pop();\n\n      if (!isRefresh) {\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n      }\n    }\n  }\n\n  onFinalizeEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    if (!this.gridObj) {\n      this.render(args);\n    } else {\n      this.onPathChanged(args);\n    }\n  }\n\n  onCreateEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.onPathChanged(args);\n  }\n\n  onRenameInit() {\n    if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  }\n\n  onSelectedData() {\n    if (this.parent.activeModule === 'detailsview') {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n  }\n\n  onDeleteInit() {\n    if (this.parent.activeModule === 'detailsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onDeleteEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.onPathChanged(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n  }\n\n  onRefreshEnd(args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.isInteracted = false;\n    this.removePathColumn(false);\n    this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    this.emptyArgs = args;\n  }\n\n  onHideLayout() {\n    if (this.parent.view !== 'Details' && this.gridObj) {\n      this.gridObj.element.classList.add(DISPLAY_NONE);\n    }\n  }\n\n  onSelectAllInit() {\n    if (this.parent.view === 'Details') {\n      this.isInteracted = false;\n\n      if (this.parent.allowMultiSelection) {\n        this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n      } else {\n        this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n      }\n\n      this.isInteracted = true;\n      this.interaction = true;\n    }\n  }\n\n  onClearAllInit() {\n    if (this.parent.view === 'Details') {\n      this.removeSelection();\n      this.interaction = true;\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onSelectionChanged() {\n    removeClass([this.element], HEADER_CHECK);\n\n    if (this.parent.selectedItems.length > 0) {\n      addClass([this.element], HEADER_CHECK);\n    }\n  }\n\n  onLayoutRefresh() {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.adjustHeight();\n  }\n\n  onBeforeRequest() {\n    this.isRendered = false;\n  }\n\n  onAfterRequest() {\n    this.isRendered = true;\n  }\n\n  onUpdateSelectionData() {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.parent.itemData = this.gridObj.getSelectedRecords();\n  }\n\n  addEventListener() {\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(search, this.onSearchFiles, this);\n    this.parent.on(methodCall, this.onMethodCall, this);\n    this.parent.on(actionFailure, this.onActionFailure, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onPathChanged, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(sortColumn, this.onSortColumn, this);\n    this.parent.on(openEnd, this.onPathChanged, this);\n    this.parent.on(filterEnd, this.onPathChanged, this);\n    this.parent.on(pasteInit, this.onPasteInit, this);\n    this.parent.on(hideLayout, this.onHideLayout, this);\n    this.parent.on(selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(clearAllInit, this.onClearAllInit, this);\n    this.parent.on(pathColumn, this.onPathColumn, this);\n    this.parent.on(selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(afterRequest, this.onAfterRequest, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(resizeEnd, this.onDetailsResizeHandler, this);\n    this.parent.on(splitterResize, this.onDetailsResize, this);\n    this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n  }\n\n  removeEventListener() {\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(pasteInit, this.onPasteInit);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(search, this.onSearchFiles);\n    this.parent.off(methodCall, this.onMethodCall);\n    this.parent.off(actionFailure, this.onActionFailure);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onPathChanged);\n    this.parent.off(filterEnd, this.onPathChanged);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(sortColumn, this.onSortColumn);\n    this.parent.off(openEnd, this.onPathChanged);\n    this.parent.off(hideLayout, this.onHideLayout);\n    this.parent.off(selectAllInit, this.onSelectAllInit);\n    this.parent.off(clearAllInit, this.onClearAllInit);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(pathColumn, this.onPathColumn);\n    this.parent.off(selectionChanged, this.onSelectionChanged);\n    this.parent.off(beforeRequest, this.onBeforeRequest);\n    this.parent.off(afterRequest, this.onAfterRequest);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(resizeEnd, this.onDetailsResizeHandler);\n    this.parent.off(splitterResize, this.onDetailsResize);\n    this.parent.off(layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n  }\n\n  onActionFailure() {\n    this.interaction = true;\n  } // eslint-disable-next-line\n\n\n  onMenuItemData(args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n    }\n  }\n\n  onPasteInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath !== '' ? this.gridObj.getSelectedRecords() : [getPathObject(this.parent)];\n    }\n  }\n\n  onDetailsInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  }\n\n  dragHelper(args) {\n    const dragTarget = args.sender.target;\n    const dragLi = dragTarget.closest('tr.e-row');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    const name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n\n    if (dragLi && !dragLi.querySelector('.e-active')) {\n      this.selectRecords([name]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.activeElements = [];\n    this.parent.dragData = []; // eslint-disable-next-line\n\n    this.parent.dragData = this.gridObj.getSelectedRecords();\n    let dragRow;\n\n    if (this.parent.dragData.length === 0 && dragLi) {\n      dragRow = this.gridObj.getRowInfo(dragLi);\n    }\n\n    if (dragRow) {\n      this.parent.dragData.push(dragRow.rowData);\n    }\n\n    this.parent.dragPath = this.parent.path;\n    this.parent.activeElements = this.gridObj.getSelectedRows();\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  }\n  /* istanbul ignore next */\n\n\n  onDetailsResize() {\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n      const gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n      const gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n      const gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n      const gridHeaderColNames = this.gridObj.getColumns();\n\n      for (let i = 0; i < gridHeaderColNames.length; i++) {\n        if (!this.isNameWidth && gridHeaderColNames[i].field === 'name' || gridHeaderColNames[i].field === 'filterPath') {\n          if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            if (this.element.clientWidth <= 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n              gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n            } else if (this.element.clientWidth > 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          } else {\n            if (this.element.clientWidth <= 680) {\n              if (gridHeaderColNames[i].field === 'name') {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n              } else {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n              }\n            } else if (this.element.clientWidth > 680) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          }\n        }\n      }\n    }\n  }\n\n  onDetailsResizeHandler() {\n    this.onDetailsResize();\n\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n      this.adjustHeight();\n    }\n  }\n\n  createDragObj() {\n    if (!this.parent.isMobile && this.gridObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.gridObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          distance: 5,\n          enableTailMode: true,\n          dragArea: this.parent.element,\n          dragTarget: '.' + ROW,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: args => {\n            dragStartHandler(this.parent, args, this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  }\n\n  onDropInit(args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      /* istanbul ignore next */\n      // eslint-disable-next-line\n      const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (!args.target.closest('tr')) {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      } else {\n        // eslint-disable-next-line\n        let info = null; // eslint-disable-next-line\n\n        info = this.gridObj.getRowInfo(args.target).rowData;\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      }\n    }\n  }\n\n  oncutCopyInit() {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.gridObj.getSelectedRecords();\n      this.parent.activeElements = this.gridObj.getSelectedRows();\n    }\n  }\n\n  onpasteEnd(args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  }\n\n  onDropPath(args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  }\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns modules name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'detailsview';\n  }\n\n  destroy() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.gridObj) {\n      this.unWireEvents();\n      this.gridObj.destroy();\n    }\n  }\n\n  updateType(item) {\n    const folder = select('.' + FOLDER, item);\n    this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n  }\n  /* istanbul ignore next */\n\n\n  onSelection(action, args) {\n    const eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction,\n      cancel: false,\n      target: args.target\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    args.cancel = eventArgs.cancel;\n  }\n  /* istanbul ignore next */\n\n\n  onSelected(args) {\n    this.parent.activeModule = 'detailsview';\n\n    if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n      this.selectedRecords();\n    }\n\n    this.parent.notify(selectionChanged, {});\n\n    if (this.gridObj.getSelectedRowIndexes().length === 1) {\n      this.firstItemIndex = this.gridObj.selectedRowIndex;\n    }\n\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    this.triggerSelect('select', args);\n    const item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n    this.updateType(item);\n\n    if (!isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n      if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n        const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n        const lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n        lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n      }\n\n      item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n    }\n\n    if (!isNullOrUndefined(this.gridObj) && !isNullOrUndefined(this.gridObj.element.querySelector('.e-checkselectall'))) {\n      this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n    }\n\n    const rows = this.gridObj.getSelectedRowIndexes();\n\n    if (!this.parent.allowMultiSelection) {\n      for (let i = 0; i < rows.length; i++) {\n        if (rows[i] === this.gridObj.selectedRowIndex) {\n          this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n        } else {\n          this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n        }\n      }\n    }\n\n    const len = rows.length;\n\n    if (len > 0) {\n      // eslint-disable-next-line\n      const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n      this.parent.currentItemText = getValue('name', data);\n    }\n\n    const indexes = getValue('rowIndexes', args);\n    const multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n\n    if (this.parent.isDevice && isNullOrUndefined(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n      this.parent.isFile = getValue('isFile', args.data);\n\n      if (!this.parent.isFile) {\n        this.openContent(args.data);\n      }\n    }\n\n    this.parent.visitedItem = args.row;\n\n    if (this.parent.allowMultiSelection && !isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n      const checkItem = item.querySelector('.e-checkselect');\n      checkItem.focus();\n    }\n\n    this.addFocus(this.gridObj.selectedRowIndex);\n\n    if (!this.parent.isLayoutChange) {\n      this.isInteracted = true;\n    }\n  }\n  /* istanbul ignore next */\n\n\n  onPathColumn() {\n    if (this.parent.view === 'Details' && !isNullOrUndefined(this.gridObj)) {\n      if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n        this.removePathColumn(false);\n      }\n    }\n  }\n\n  selectedRecords() {\n    this.parent.setProperties({\n      selectedItems: []\n    }, true); // eslint-disable-next-line\n\n    const selectedRecords = this.gridSelectNodes();\n    let selectSize = 0;\n\n    while (selectSize < selectedRecords.length) {\n      const record = selectedRecords[selectSize];\n      const name = getItemName(this.parent, record);\n      this.parent.selectedItems.push(name);\n      selectSize++;\n    }\n\n    this.parent.setProperties({\n      selectedItems: this.parent.selectedItems\n    }, true);\n  }\n\n  onDeSelection(args) {\n    /* istanbul ignore next */\n    if (!this.parent.allowMultiSelection && isNullOrUndefined(args.data)) {\n      this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n    } else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n      const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n      this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n    }\n\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.gridObj.element.setAttribute('tabindex', '0');\n    }\n\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      return;\n    }\n\n    this.selectedRecords();\n\n    if (this.parent.selectedItems.length === 0) {\n      setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n      removeClass([this.parent.element], MULTI_SELECT);\n    }\n\n    this.parent.notify(selectionChanged, {});\n    this.triggerSelect('unselect', args);\n    this.parent.visitedItem = null;\n  }\n\n  triggerSelect(action, args) {\n    const eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.interaction = true;\n  }\n\n  wireEvents() {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n      keyAction: this.keyupHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n  }\n\n  unWireEvents() {\n    this.wireClickEvent(false);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n    EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n  }\n\n  wireClickEvent(toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      const proxy = this;\n      const ele = this.gridObj.getContent();\n      this.clickObj = new Touch(ele, {\n        tap: eve => {\n          if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n            proxy.onClearAllInit();\n          }\n        },\n        tapHold: e => {\n          if (proxy.parent.isDevice) {\n            e.originalEvent.preventDefault();\n\n            if (proxy.parent.allowMultiSelection) {\n              setValue('enableSelectMultiTouch', proxy.parent.allowMultiSelection, proxy.gridObj.selectionModule);\n              addClass([proxy.parent.element], MULTI_SELECT);\n            }\n\n            const target = e.originalEvent.target;\n\n            if (target) {\n              const row = closest(target, '.' + ROW);\n              const index = proxy.gridObj.getRows().indexOf(row);\n              proxy.gridObj.selectRow(index);\n            }\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  }\n  /* istanbul ignore next */\n\n\n  removeSelection() {\n    removeClass([this.parent.element], MULTI_SELECT);\n    this.gridObj.clearSelection();\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.parent.notify(selectionChanged, {});\n\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.startIndex = null;\n    }\n\n    this.isInteracted = true;\n  }\n\n  removeFocus() {\n    this.addFocus(null);\n  }\n\n  getFocusedItemIndex() {\n    return !isNullOrUndefined(this.getFocusedItem()) ? parseInt(this.getFocusedItem().getAttribute('aria-rowindex'), 10) : null;\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keydownHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'moveDown':\n      case 'moveUp':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  }\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  keyupHandler(e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    e.preventDefault();\n    const action = e.action; // eslint-disable-next-line\n\n    const gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n    const gridLength = gridItems.length;\n    const focItem = this.getFocusedItem();\n    const focIndex = this.getFocusedItemIndex();\n    const selIndex = this.gridObj.selectedRowIndex;\n    const selRowIndeces = this.gridObj.getSelectedRowIndexes(); // eslint-disable-next-line\n\n    let rowData;\n    let firstItem;\n    let lastItem;\n\n    switch (action) {\n      case 'altEnter':\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'enter':\n        if (this.gridObj.selectedRowIndex === -1) {\n          break;\n        }\n\n        rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n\n        if (rowData) {\n          // eslint-disable-next-line\n          const data = JSON.parse(JSON.stringify(rowData));\n          this.openContent(data);\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlA':\n        if (!isNullOrUndefined(gridItems[0]) && this.parent.allowMultiSelection) {\n          const cnTable = this.gridObj.getContent().querySelector('.e-content');\n          const crtSrlPos = cnTable.scrollTop;\n          const crtFocusIndex = this.gridObj.selectedRowIndex;\n          this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n          cnTable.scrollTop = crtSrlPos;\n\n          if (crtFocusIndex !== -1) {\n            this.addFocus(crtFocusIndex);\n          }\n        }\n\n        break;\n\n      case 'ctrlHome':\n      case 'tab':\n        if (!isNullOrUndefined(gridItems[0])) {\n          if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n            this.gridObj.selectRow(0);\n          } else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n            return;\n          } else {\n            this.addFocus(0);\n          }\n        }\n\n        break;\n\n      case 'ctrlEnd':\n        if (!isNullOrUndefined(gridItems[0])) {\n          if (!this.parent.allowMultiSelection) {\n            this.gridObj.selectRow(gridLength - 1);\n          } else {\n            this.addFocus(gridLength - 1);\n          }\n        }\n\n        break;\n\n      case 'shiftHome':\n      case 'shiftEnd':\n      case 'csHome':\n      case 'csEnd':\n        if (!this.parent.allowMultiSelection) {\n          this.gridObj.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : gridItems.length - 1);\n        } else {\n          if (!isNullOrUndefined(gridItems[0])) {\n            if (!isNullOrUndefined(selIndex) && selIndex !== -1) {\n              this.checkRowsKey(gridItems, selIndex, null, e);\n            } else {\n              if (e.action === 'csHome' || e.action === 'shiftHome') {\n                this.gridObj.selectRow(0);\n              } else {\n                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n              }\n            }\n          }\n        }\n\n        break;\n\n      case 'space':\n      case 'csSpace':\n      case 'shiftSpace':\n      case 'ctrlSpace':\n        this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n        break;\n\n      case 'csUp':\n      case 'csDown':\n      case 'shiftUp':\n      case 'shiftDown':\n        this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n        break;\n\n      case 'ctrlUp':\n      case 'ctrlDown':\n        if (!this.parent.allowMultiSelection) {\n          this.moveFunction(gridItems, e, selIndex);\n        } else {\n          this.ctrlMoveFunction(gridItems, e, selIndex);\n        }\n\n        break;\n\n      case 'home':\n        firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n        this.parent.setProperties({\n          selectedItems: firstItem\n        }, true);\n        this.selectRecords(firstItem);\n        break;\n\n      case 'moveUp':\n      case 'moveDown':\n        this.moveFunction(gridItems, e, selIndex);\n        break;\n\n      case 'end':\n        lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n        this.parent.setProperties({\n          selectedItems: lastItem\n        }, true);\n        this.selectRecords(lastItem);\n        break;\n    }\n  } // eslint-disable-next-line\n\n\n  gridSelectNodes() {\n    return this.gridObj.getSelectedRecords();\n  }\n\n  doDownload() {\n    if (this.parent.selectedItems.length !== 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords(); // eslint-disable-next-line\n\n      const items = this.parent.itemData;\n\n      for (let i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], permissionDownload);\n          return;\n        }\n      }\n\n      Download(this.parent, this.parent.path, this.parent.selectedItems);\n    }\n  }\n\n  performDelete() {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords(); // eslint-disable-next-line\n\n      const items = this.parent.itemData;\n\n      for (let i = 0; i < items.length; i++) {\n        if (!hasEditAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  }\n\n  performRename() {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  }\n\n  updateRenameData() {\n    // eslint-disable-next-line\n    const data = this.gridSelectNodes()[0];\n    updateRenamingData(this.parent, data);\n  } // eslint-disable-next-line\n\n\n  shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.moveFunction(gridItems, e, selIndex);\n    } else {\n      if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n        this.ctrlMoveFunction(gridItems, e, selIndex);\n      } else if (selIndex !== -1 && focIndex !== selIndex && !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n        this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n      } else {\n        this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  moveFunction(selectedItems, e, rowIndex) {\n    if (!isNullOrUndefined(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n      if (e.action === 'moveDown') {\n        this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n      } else {\n        this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n      }\n    } else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n      if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectRow(rowIndex + (rowIndex !== selectedItems.length - 1 ? 1 : 0));\n      } else {\n        this.gridObj.selectRow(rowIndex - (rowIndex !== 0 ? 1 : 0));\n      }\n    } else {\n      if (!isNullOrUndefined(selectedItems[0])) {\n        this.gridObj.selectRow(0);\n      }\n    }\n  }\n\n  spaceSelection(selRowIndeces, focIndex, selIndex, e) {\n    if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n      if (focIndex < selIndex) {\n        this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n      }\n    } else if (!isNullOrUndefined(this.getFocusedItem()) && focIndex !== selIndex) {\n      selRowIndeces.push(this.getFocusedItemIndex());\n      this.gridObj.selectRows(selRowIndeces);\n    } else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n      const lItem = selIndex;\n      selRowIndeces.pop();\n      this.gridObj.selectRows(selRowIndeces);\n      this.addFocus(lItem);\n    } else if (e.action === 'shiftSpace') {\n      this.gridObj.selectRow(selIndex);\n    }\n  } // eslint-disable-next-line\n\n\n  ctrlMoveFunction(items, e, rowIndex) {\n    let nextItem;\n\n    if (!isNullOrUndefined(this.getFocusedItem())) {\n      const nextIndex = this.getFocusedItemIndex();\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? nextIndex + (nextIndex < items.length - 1 ? 1 : 0) : nextIndex - (nextIndex < 1 ? 0 : 1);\n    } else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? rowIndex + (rowIndex < items.length ? 1 : 0) : rowIndex - (rowIndex < 1 ? 0 : 1);\n    } else {\n      if (!isNullOrUndefined(items[0])) {\n        nextItem = 0;\n      }\n    }\n\n    this.addFocus(nextItem);\n  } // eslint-disable-next-line\n\n\n  checkRowsKey(items, indexValue, focIndex, e) {\n    if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n      if (e.action !== 'csHome' && e.action !== 'csEnd') {\n        if (isNullOrUndefined(this.startIndex) && this.firstItemIndex !== indexValue) {\n          this.firstItemIndex = indexValue;\n        }\n\n        if (e.action === 'shiftEnd') {\n          this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n        }\n\n        this.startIndex = indexValue;\n      } else {\n        if (e.action === 'csEnd') {\n          this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(indexValue) ? 0 : indexValue, isNullOrUndefined(focIndex) ? items.length - 1 : focIndex, e));\n        } else {\n          if (isNullOrUndefined(indexValue)) {\n            this.gridObj.selectRow(0);\n          } else {\n            this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(focIndex) ? 0 : focIndex, indexValue, e));\n          }\n        }\n      }\n    } else {\n      this.gridObj.selectionModule.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : items.length - 1);\n    }\n  }\n\n  InnerItems(fItem, lItem, e) {\n    const itemArr = this.gridObj.getSelectedRowIndexes();\n\n    if (e.action === 'csEnd') {\n      for (let i = fItem + 1; i <= lItem; i++) {\n        itemArr.push(i);\n      }\n    } else {\n      for (let i = lItem - 1; fItem <= i; i--) {\n        itemArr.push(i);\n      }\n    }\n\n    return itemArr;\n  }\n\n  shiftSelectFocusItem(selIndex, fIndex, selRowIndexes, e) {\n    const lItem = fIndex + (e.action === 'shiftDown' || e.action === 'csDown' ? 1 : -1);\n    const fItem = isNullOrUndefined(this.startIndex) ? selIndex : selRowIndexes[0];\n\n    if (fItem === lItem) {\n      this.gridObj.selectRow(fItem);\n    } else {\n      if (fItem < lItem) {\n        if (e.action === 'shiftDown' || e.action === 'csDown') {\n          this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n        }\n      } else if (e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n      }\n    }\n\n    this.startIndex = this.gridObj.selectedRowIndex;\n  }\n\n  addFocus(item) {\n    const fItem = this.getFocusedItem();\n    const itemElement = this.gridObj.getRowByIndex(item);\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [FOCUS, FOCUSED]);\n    }\n\n    if (!isNullOrUndefined(itemElement)) {\n      this.gridObj.element.setAttribute('tabindex', '-1');\n      itemElement.setAttribute('tabindex', '0');\n      itemElement.focus();\n      addClass([itemElement], [FOCUS, FOCUSED]);\n    }\n  }\n\n  getFocusedItem() {\n    return select('.' + FOCUSED, this.element);\n  }\n\n  isSelected(selRowIndexes, focIndex) {\n    let check = false;\n\n    for (let i = 0; i <= selRowIndexes.length - 1; i++) {\n      if (selRowIndexes[i] === focIndex) {\n        check = true;\n        break;\n      }\n    }\n\n    return check;\n  } // eslint-disable-next-line\n\n\n  shiftSelectedItem(selIndex, selRowIndexes, gridItems, e) {\n    if (selIndex === -1) {\n      this.gridObj.selectRow(0);\n    } else {\n      if (isNullOrUndefined(this.startIndex) && e.shiftKey) {\n        this.startIndex = this.gridObj.selectedRowIndex;\n        this.gridObj.selectRows([selIndex, e.action === 'shiftDown' || e.action === 'csDown' ? selIndex + (selIndex !== gridItems.length - 1 ? 1 : 0) : selIndex - (selIndex !== 0 ? 1 : 0)]);\n      } else {\n        if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n          if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n            if (selIndex !== gridItems.length - 1) {\n              selRowIndexes.push(selIndex + 1);\n            }\n          } else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n            if (selIndex !== 0) {\n              selRowIndexes.push(selIndex - 1);\n            }\n          } else {\n            selRowIndexes.pop();\n          }\n\n          this.gridObj.selectRows(selRowIndexes);\n        } else {\n          if (e.action === 'csDown') {\n            if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n              selRowIndexes.push(this.getFocusedItemIndex() + 1);\n              this.gridObj.selectRows(selRowIndexes);\n            } else {\n              this.addFocus(this.getFocusedItemIndex() + 1);\n            }\n          } else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n            selRowIndexes.push(this.getFocusedItemIndex() - 1);\n            this.gridObj.selectRows(selRowIndexes);\n          } else {\n            this.addFocus(this.getFocusedItemIndex() - 1);\n          }\n        }\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  onMethodCall(e) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    const action = getValue('action', e);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', e));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', e));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', e));\n        break;\n\n      case 'createFolder':\n        this.interaction = false;\n        break;\n\n      case 'renameFile':\n        this.interaction = false;\n        this.renameFile(getValue('id', e), getValue('newName', e));\n        break;\n\n      case 'selectAll':\n        this.interaction = false;\n        this.onSelectAllInit();\n        break;\n\n      case 'clearSelection':\n        this.interaction = false;\n        this.onClearAllInit();\n        break;\n    }\n  } // eslint-disable-next-line\n\n\n  getRecords(nodes) {\n    // eslint-disable-next-line\n    const gridRecords = this.gridObj.getCurrentViewRecords(); // eslint-disable-next-line\n\n    const records = [];\n    const hasFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    const filter$$1 = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !hasFilter) {\n      for (let i = 0, len = gridRecords.length; i < len; i++) {\n        if (nodes.indexOf(getValue(filter$$1, gridRecords[i])) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    } else {\n      for (let i = 0, len = gridRecords.length; i < len; i++) {\n        const name = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n\n        if (nodes.indexOf(name) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    }\n\n    return records;\n  }\n\n  deleteFiles(ids) {\n    this.parent.activeModule = 'detailsview';\n\n    if (isNullOrUndefined(ids)) {\n      this.performDelete();\n      return;\n    } // eslint-disable-next-line\n\n\n    const records = this.getRecords(ids);\n\n    if (records.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < records.length; i++) {\n      data[i] = records[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  }\n\n  downloadFiles(ids) {\n    if (isNullOrUndefined(ids)) {\n      this.doDownload();\n      return;\n    } // eslint-disable-next-line\n\n\n    const dRecords = this.getRecords(ids);\n\n    if (dRecords.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const data = [];\n    const newIds = [];\n\n    for (let i = 0; i < dRecords.length; i++) {\n      data[i] = dRecords[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  }\n\n  openFile(id) {\n    if (isNullOrUndefined(id)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const records = this.getRecords([id]);\n\n    if (records.length > 0) {\n      this.openContent(records[0]);\n    }\n  }\n\n  renameFile(id, name) {\n    this.parent.activeModule = 'detailsview';\n\n    if (isNullOrUndefined(id)) {\n      this.performRename();\n      return;\n    } // eslint-disable-next-line\n\n\n    const records = this.getRecords([id]);\n\n    if (records.length > 0) {\n      updateRenamingData(this.parent, records[0]);\n\n      if (!isNullOrUndefined(name)) {\n        if (hasEditAccess(this.parent.itemData[0])) {\n          rename(this.parent, this.parent.path, name);\n        } else {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        }\n      } else {\n        doRename(this.parent);\n      }\n    }\n  }\n\n}\n/**\n * File Manager layout modules\n */\n\n/**\n * File Manager pop-up modules\n */\n\n/**\n * File Manager modules\n */\n\n/**\n * File Manager all modules\n */\n\n\nexport { AjaxSettings, toolbarItems, ToolbarSettings, SearchSettings, columnArray, DetailsViewSettings, fileItems, folderItems, layoutItems, ContextMenuSettings, NavigationPaneSettings, UploadSettings, Column, TOOLBAR_ID, LAYOUT_ID, NAVIGATION_ID, TREE_ID, GRID_ID, LARGEICON_ID, DIALOG_ID, ALT_DIALOG_ID, IMG_DIALOG_ID, EXTN_DIALOG_ID, UPLOAD_DIALOG_ID, RETRY_DIALOG_ID, CONTEXT_MENU_ID, SORTBY_ID, VIEW_ID, SPLITTER_ID, CONTENT_ID, BREADCRUMBBAR_ID, UPLOAD_ID, RETRY_ID, SEARCH_ID, ROOT, CONTROL, CHECK_SELECT, ROOT_POPUP, MOBILE, MOB_POPUP, MULTI_SELECT, FILTER, LAYOUT, NAVIGATION, LAYOUT_CONTENT, LARGE_ICONS, TB_ITEM, LIST_ITEM, LIST_TEXT, LIST_PARENT, TB_OPTION_TICK, TB_OPTION_DOT, BLUR, ACTIVE, HOVER, FOCUS, FOCUSED, CHECK, FRAME, CB_WRAP, ROW, ROWCELL, EMPTY, EMPTY_CONTENT, EMPTY_INNER_CONTENT, CLONE, DROP_FOLDER, DROP_FILE, FOLDER, ICON_IMAGE, ICON_MUSIC, ICON_VIDEO, LARGE_ICON, LARGE_EMPTY_FOLDER, LARGE_EMPTY_FOLDER_TWO, LARGE_ICON_FOLDER, SELECTED_ITEMS, TEXT_CONTENT, GRID_HEADER, TEMPLATE_CELL, TREE_VIEW, MENU_ITEM, MENU_ICON, SUBMENU_ICON, GRID_VIEW, ICON_VIEW, ICON_OPEN, ICON_UPLOAD, ICON_CUT, ICON_COPY, ICON_PASTE, ICON_DELETE, ICON_RENAME, ICON_NEWFOLDER, ICON_DETAILS, ICON_SHORTBY, ICON_REFRESH, ICON_SELECTALL, ICON_DOWNLOAD, ICON_OPTIONS, ICON_GRID, ICON_LARGE, ICON_BREADCRUMB, ICON_CLEAR, ICON_DROP_IN, ICON_DROP_OUT, ICON_NO_DROP, ICONS, DETAILS_LABEL, ERROR_CONTENT, STATUS, BREADCRUMBS, RTL, DISPLAY_NONE, COLLAPSED, FULLROW, ICON_COLLAPSIBLE, SPLIT_BAR, HEADER_CHECK, OVERLAY, VALUE, isFile, modelChanged, initialEnd, finalizeEnd, createEnd, filterEnd, beforeDelete, pathDrag, deleteInit, deleteEnd, refreshEnd, resizeEnd, splitterResize, pathChanged, destroy, beforeRequest, upload, skipUpload, afterRequest, download, layoutRefresh, actionFailure, search, openInit, openEnd, selectionChanged, selectAllInit, clearAllInit, clearPathInit, layoutChange, sortByChange, nodeExpand, detailsInit, menuItemData, renameInit, renameEndParent, renameEnd, showPaste, hidePaste, selectedData, cutCopyInit, pasteInit, pasteEnd, cutEnd, hideLayout, updateTreeSelection, treeSelect, sortColumn, pathColumn, searchTextChange, beforeDownload, downloadInit, dropInit, dragEnd, dropPath, dragHelper, dragging, updateSelectionData, methodCall, permissionRead, permissionEdit, permissionEditContents, permissionCopy, permissionUpload, permissionDownload, FileManager, Toolbar$1 as Toolbar, BreadCrumbBar, NavigationPane, DetailsView, LargeIconsView, createDialog, createExtDialog, createImageDialog, ContextMenu$2 as ContextMenu };","map":{"version":3,"sources":["/home/harawat/Downloads/Projects/freelancer/resources/frontend/angular/node_modules/@syncfusion/ej2-filemanager/dist/es6/ej2-filemanager.es2015.js"],"names":["Ajax","Browser","ChildProperty","Complex","Component","Draggable","Event","EventHandler","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","Touch","addClass","closest","createElement","detach","extend","formatUnit","getValue","isNullOrUndefined","isVisible","matches","remove","removeClass","select","selectAll","setStyleAttribute","setValue","Splitter","Dialog","createSpinner","hideSpinner","showSpinner","DataManager","Query","Input","TextBox","Uploader","CheckBox","createCheckBox","ListBase","DropDownButton","ContextMenu","Toolbar","TreeView","ContextMenu$1","Grid","Resize","Sort","VirtualScroll","__decorate","undefined","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","AjaxSettings","prototype","__decorate$1","toolbarItems","ToolbarSettings","__decorate$2","SearchSettings","__decorate$3","columnArray","field","headerText","minWidth","template","customAttributes","class","type","format","width","DetailsViewSettings","__decorate$4","fileItems","folderItems","layoutItems","ContextMenuSettings","__decorate$5","NavigationPaneSettings","__decorate$6","UploadSettings","__decorate$7","Column","TOOLBAR_ID","LAYOUT_ID","NAVIGATION_ID","TREE_ID","GRID_ID","LARGEICON_ID","DIALOG_ID","ALT_DIALOG_ID","IMG_DIALOG_ID","EXTN_DIALOG_ID","UPLOAD_DIALOG_ID","RETRY_DIALOG_ID","CONTEXT_MENU_ID","SORTBY_ID","VIEW_ID","SPLITTER_ID","CONTENT_ID","BREADCRUMBBAR_ID","UPLOAD_ID","RETRY_ID","SEARCH_ID","ROOT","CONTROL","CHECK_SELECT","ROOT_POPUP","MOBILE","MOB_POPUP","MULTI_SELECT","FILTER","LAYOUT","NAVIGATION","LAYOUT_CONTENT","LARGE_ICONS","TB_ITEM","LIST_ITEM","LIST_TEXT","LIST_PARENT","TB_OPTION_TICK","TB_OPTION_DOT","BLUR","ACTIVE","HOVER","FOCUS","FOCUSED","CHECK","FRAME","CB_WRAP","ROW","ROWCELL","EMPTY","EMPTY_CONTENT","EMPTY_INNER_CONTENT","CLONE","DROP_FOLDER","DROP_FILE","FOLDER","ICON_IMAGE","ICON_MUSIC","ICON_VIDEO","LARGE_ICON","LARGE_EMPTY_FOLDER","LARGE_EMPTY_FOLDER_TWO","LARGE_ICON_FOLDER","SELECTED_ITEMS","TEXT_CONTENT","GRID_HEADER","TEMPLATE_CELL","TREE_VIEW","MENU_ITEM","MENU_ICON","SUBMENU_ICON","GRID_VIEW","ICON_VIEW","ICON_OPEN","ICON_UPLOAD","ICON_CUT","ICON_COPY","ICON_PASTE","ICON_DELETE","ICON_RENAME","ICON_NEWFOLDER","ICON_DETAILS","ICON_SHORTBY","ICON_REFRESH","ICON_SELECTALL","ICON_DOWNLOAD","ICON_OPTIONS","ICON_GRID","ICON_LARGE","ICON_BREADCRUMB","ICON_CLEAR","ICON_DROP_IN","ICON_DROP_OUT","ICON_NO_DROP","ICONS","DETAILS_LABEL","ERROR_CONTENT","STATUS","BREADCRUMBS","RTL","DISPLAY_NONE","COLLAPSED","FULLROW","ICON_COLLAPSIBLE","SPLIT_BAR","HEADER_CHECK","OVERLAY","VALUE","isFile","modelChanged","initialEnd","finalizeEnd","createEnd","filterEnd","beforeDelete","pathDrag","deleteInit","deleteEnd","refreshEnd","resizeEnd","splitterResize","pathChanged","destroy","beforeRequest","upload","skipUpload","afterRequest","download","layoutRefresh","actionFailure","search","openInit","openEnd","selectionChanged","selectAllInit","clearAllInit","clearPathInit","layoutChange","sortByChange","nodeExpand","detailsInit","menuItemData","renameInit","renameEndParent","renameEnd","showPaste","hidePaste","selectedData","cutCopyInit","pasteInit","pasteEnd","cutEnd","hideLayout","updateTreeSelection","treeSelect","sortColumn","pathColumn","searchTextChange","beforeDownload","downloadInit","dropInit","dragEnd","dropPath","dragHelper","dragging","updateSelectionData","methodCall","permissionRead","permissionEdit","permissionEditContents","permissionCopy","permissionUpload","permissionDownload","updatePath","node","data","instance","text","id","getAttribute","newText","setProperties","path","getPath","hasId","pathId","getPathId","pathNames","getPathNames","element","matched","getParents","len","ids","push","names","isId","el","parentNode","parentText","textContent","classList","contains","generatePath","parent","newPath","feParent","removeActive","isCut","removeBlur","selectedNodes","actionRecords","enablePaste","notify","activeElement","action","isSearchCut","activeElements","blurEle","activeModule","targetPath","getParentPath","getModule","addBlur","activeRecords","breadcrumbbarModule","searchObj","value","isFiltered","selectedItems","nodes","add","hover","querySelectorAll","searchWordHandler","isLayoutChange","searchWord","args","searchSettings","filterType","itemData","getPathObject","caseSensitive","ignoreCase","hiddenItems","showHiddenItems","Search","read","filter","updateLayout","view","layoutSelectedItems","getTargetModule","tartgetModule","targetModule","refresh","hasReadAccess","createDeniedDialog","openAction","copyFiles","fileAction","cutFiles","fileType","file","isFile$$1","imageFormat","audioFormat","videoFormat","knownFormat","filetype","toLowerCase","indexOf","split","join","iconType","getImageUrl","item","baseUrl","ajaxSettings","url","imgUrl","fileName","fPath","imgId","replace","Date","getTime","toString","eventArgs","fileDetails","imageUrl","trigger","getFullPath","filePath","getName","name","getSortedData","items","query","sortOrder","sortBy","group","lists","executeLocal","getObject","currFiles","feFiles","where","createEmptyElement","top","layoutElement","addressBarHeight","offsetHeight","querySelector","emptyDiv","className","emptyFolder","emptyEle","dragFile","appendChild","error","innerHTML","getLocaleText","eDiv","style","marginTop","getDirectories","files","setNodeId","result","rootId","dirs","setDateObject","locale","localeObj","getConstant","getCssClass","css","cssClass","sortbyClickHandler","tick","getSortField","isMobile","module","substring","lastIndexOf","setNextPath","currfolders","folders","originalPath","root","eventName","openSearchFolder","selectedNode","pasteHandler","isDragDrop","folderPath","subFolder","validateSubFolder","paste","dropPath$$1","dragPath","tempTarget","code","message","fileExists","createDialog","srcData","dragNodes","dropHandler","dragData","dropData","oldPath","getDirectoryPath","cwd","doPasteUpdate","operation","duplicateItems","pasteNodes","flag","count","droppedObjects","duplicateRecords","isPasteError","isDropEnd","isSearchDrag","isPathDrag","readDropPath","expandedId","navigationpaneModule","treeObj","getDuplicateData","records","createVirtualDragElement","getItemName","cloneIcon","cloneName","virtualEle","ele","badge","virtualDragElement","dragStopHandler","dragArgs","cancel","treeExpandTimer","window","clearTimeout","removeDropTarget","uploadObj","dropArea","dragCount","dragStartHandler","dragObj","allowDragAndDrop","intDestroy","event","dragCancel","removeItemClass","draggingHandler","canDrop","setTimeout","objectToString","str","keys","updateRenamingData","currentItemText","filterPath","doRename","hasEditAccess","doDownload","hasDownloadAccess","Download","doDeleteFiles","newIds","Delete","doDownloadFiles","response","getAccessClass","permission","hasContentAccess","hasUploadAccess","createNewFolder","details","uploadItem","eleId","uploadEle","document","click","createAjax","readSuccess","createFolder","itemName","createSuccess","filterData","filterDataVal","filterSuccess","rename","itemNewName","newName","renameSuccess","pasteOperation","renameItems","targetData","renameFiles","destinationPath","pasteSuccess","deleteSuccess","GetDetails","detailsSuccess","fn","mode","dataType","contentType","JSON","stringify","onSuccess","onFailure","beforeSend","beforeSendArgs","ajax","triggerAjaxFailure","parse","rootAliasName","rootName","location","RegExp","match","send","dialogObj","visible","hide","createdItem","parentElement","nextElementSibling","renamedItem","pop","fileLength","createExtDialog","searchString","searchSuccess","downloadUrl","downloadArgs","form","attrs","method","input","forms","namedItem","submit","removeChild","e","replaceItems","options","getOptions","beforeOpen","keydownAction","bind","dialogName","beforeClose","triggerPopupBeforeClose","header","content","buttons","animationSettings","effect","showCloseIcon","closeOnEscape","allowDragging","isModal","popupTarget","open","close","enableRtl","enableHtmlSanitizer","isStringTemplate","appendTo","changeOptions","extOptions","getExtOptions","isApplySame","extDialogObj","beforeExtOpen","dataBind","show","triggerPopupBeforeOpen","dlgModule","popupName","popupModule","eventargs","isInteracted","triggerPopupOpen","triggerPopupClose","duplicateContent","index","buttonModel","isPrimary","renameText","indexval","ind","retryFiles","onRetryOpen","isRetryOpened","retryDlgClose","retryDlgUpdate","splice","isKeepBoth","onKeepBothAll","onReplaceAll","retryArgs","retry","dialogEle","container","checkContainer","checkbox","checkBoxObj","label","change","checked","focusInput","focus","setSelectionRange","onFolderDialogOpen","createInput","oninput","onValidate","onkeyup","getKeyCode","onSubmit","onRenameDialogOpen","inputEle","onReSubmit","onFocusRenameInput","txt","showFileExtension","placeholder","properties","formattedString","intl","strArr","fileType$$1","multipleFiles","onDeleteSubmit","formatDate","modified","size","map","val","substr","every","arr","toLocaleUpperCase","btnElement","preventKeydown","dlgName","btnCount","onkeydown","keyCode","preventDefault","onSubmitValidate","oIndex","extn","renamedId","oldExtension","nIndex","newExtension","test","addInvalid","which","charCode","createImageDialog","image","src","alt","viewerObj","height","enableResize","position","X","Y","openImage","resizing","updateImage","resizeStop","imgWrap","cssObj","getComputedStyle","paddingWidth","parseFloat","paddingRight","paddingHeight","paddingBottom","offsetWidth","LargeIconsView","constructor","isInteraction","uploadOperation","isRendered","tapCount","isPasteOperation","addEventListener","keyConfigs","end","home","tab","moveDown","moveLeft","moveRight","moveUp","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","ctrlUp","shiftEnd","shiftHome","shiftDown","shiftLeft","shiftRight","shiftUp","csEnd","csHome","csDown","csLeft","csRight","csUp","space","ctrlSpace","shiftSpace","csSpace","ctrlA","enter","altEnter","esc","del","ctrlX","ctrlC","ctrlV","f2","shiftdel","back","ctrlD","render","visitedItem","startItem","resetMultiSelect","setAttribute","listObj","unWireEvents","removeEventListener","iconsView","ul","ariaAttributes","itemRole","listRole","itemText","groupItemRole","wrapperRole","showIcon","fields","iconCss","htmlAttributes","itemCreated","onItemCreated","renderList","listElements","createListFromJson","itemList","Array","slice","call","preventImgDrag","createDragObj","emptyList","selectItems","activeEle","adjustHeight","maxHeight","getItemCount","wireEvents","checkItem","ondragstart","enableTailMode","distance","enableAutoScroll","dragTarget","helper","cursorAt","dragCursorPosition","dragArea","dragStop","drag","clone","dragStart","sender","dragLi","setFocus","getItemObject","onDropInit","getModuleName","dropLi","cwdData","info","pane","bar","removeAttribute","curData","textEle","renderCheckbox","allowMultiSelection","checkElement","firstElementChild","insertBefore","childNodes","onLayoutChange","indexes","getIndexes","checkEle","checkLength","checkState","icon","selected","showThumbnail","title","onFinalizeEnd","onCreateEnd","clearSelect","largeiconsviewModule","onSelectedData","updateSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onRenameInit","updateRenameData","onPathChanged","searchedItems","addSelection","onOpenInit","doOpenAction","onHideLayout","onSelectAllInit","getFirstItem","lastItem","getLastItem","eveArgs","ctrlKey","shiftKey","doSelection","onClearAllInit","clearSelection","onBeforeRequest","onAfterRequest","onSearch","onLayoutRefresh","onUpdateSelectionData","onPathColumn","isDestroyed","off","onPropertyChanged","onMethodCall","onActionFailure","onMenuItemData","splitterResizeHandler","resizeHandler","onpasteInit","onpasteEnd","oncutCopyInit","onDetailsInit","onDropPath","on","currentSelected","prop","newProp","wireClickEvent","keyboardModule","keyAction","keyActionHandler","keyboardDownModule","keydownActionHandler","onMouseOver","targetEle","toBind","proxy","clickObj","tap","eve","originalEvent","isDevice","tapEvent","doTapAction","dblClickHandler","clickHandler","tapHold","multiSelect","updateType","cList","fileSelectionArgs","triggerSelection","startIndex","endIndex","addActive","addFocus","triggerSelect","fileOpenArgs","folder","fItem","getFocusedItem","firstItem","navigateItem","navigateDown","navigateRight","csEndKey","csHomeKey","csDownKey","csLeftKey","csRightKey","csUpKey","spaceKey","ctrlAKey","getVisitedItem","performDelete","performRename","getActiveItem","isTowards","nItem","getNextItem","perRow","li","nextItem","liParent","liScrPos","scrollTop","getCurFocusedItem","dItem","lItem","rItem","uItem","getDataName","preItem","toCheck","eles","getBoundingClientRect","visitedData","j","byId","filter$$1","resultData","newData","deleteFiles","downloadFiles","openFile","renameFile","getItemsIndex","isFilter","filterName","BreadCrumbBar","addressPath","addressBarLink","searchTimer","searchWrapWidth","allowSearchOnTyping","searchEventBind","onPathChange","paths","addressbarUL","addressbarLI","pathNamesLen","addressATag","innerText","ulElement","breadCrumbBarNavigation","subMenuObj","searchWrap","updateBreadCrumbBar","addresBarUL","liElements","pRight","getPropertyValue","pLeft","breadCrumbBarWidth","liElementsWidth","liElementsWidths","clientWidth","searchContainer","searchInput","autocomplete","searchEle","span","onShowInput","showClearButton","onFocus","blur","onBlur","search$$1","searchChangeHandler","onKeyUp","diff","liElement","utext","subMenuLi","attributes","subMenuSpan","iconPosition","beforeItemRender","addSubMenuAttributes","subMenuSelectOperations","wrap","addressPathClickHandler","anchor","allow","nodeName","children","currentPath","triggerFileOpen","treeNodeId","list","liElementId","link","newpath","onUpdatePath","removeSearchValue","onRenameEnd","onResize","onPasteEnd","onSearchTextChange","liEle","ContextMenu$2","currentItems","currentElement","disabledItems","downarrow","uparrow","contextMenu","onBeforeItemRender","onSelect","onBeforeOpen","onBeforeClose","getMenuId","iconSpan","menuTarget","uid","treeFolder","activeNode","getElementsByClassName","targetElement","getTargetView","updateActiveModule","setLayoutItem","detailsviewModule","gridObj","getRowObjectFromUID","selectRows","parseInt","setFileItem","setFolderItem","pasteEle","isSubMenu","getMenuItemData","menuModule","menuType","menuOpenArgs","enableItems","getItemIndex","itemId","disableItem","concat","enable","isUniqueId","checkValidItem","isTree","getItemData","contextMenuSettings","trim","layout","nameEle","menuClickArgs","sItems","separator","defaultLocale","__decorate$8","FileManager_1","FileManager","previousPath","nextPath","deleteRecords","isSameAction","persistData","isOpened","left","uploadingCount","uploadedCount","Inject","preRender","ensurePath","checkMobile","navigationPaneSettings","isBigger","addWrapper","altN","f5","ctrlShift1","ctrlShift2","ctrlU","getPersistData","keyEntity","addOnPersist","requiredModules","modules","member","toolbarSettings","initialize","slItems","fileView","setRtl","addEventListeners","splitterObj","collapse","renderComplete","addCssClass","renderFileUpload","headerWrap","layoutWrap","navigationWrap","treeWrap","contentWrap","gridWrap","largeiconWrap","overlay","paneSettings","min","max","maxWidth","dialogWrap","menuWrap","dialogImgWrap","extnDialogWrap","uploadDialogWrap","toolbar","toolBarHeight","clientHeight","splitterAdjust","expand","oldOne","newOne","onContextMenu","userAgent","uploadDialogObj","onOpen","onClose","renderUploadBox","uploadUrl","asyncSettings","saveUrl","removeUrl","uploading","onUploading","removing","onRemoving","clearing","onClearing","onSelected","success","onUploadSuccess","failure","onUploadFailure","autoUpload","uploadSettings","minFileSize","maxFileSize","allowedExtensions","fileListRendering","onFileListRender","updateUploader","clearAll","fileData","customFormData","uploadEventArgs","httpRequest","currentRequest","onFileUploadSuccess","getFilesData","filesData","autoClose","statusText","onInitialEnd","removeEventListeners","setPath","oldProp","ajaxSettingSetModel","localeSetModelOption","refreshing","disableToolbarItems","toolbarModule","enableToolbarItems","disableMenuItems","contextmenuModule","getMenuItemIndex","getToolbarItemIndex","filterFiles","getSelectedFiles","refreshFiles","refreshLayout","uploadFiles","rtl","Toolbar$1","default","single","multiple","selection","toolbarItemData","getItems","toolbarCreateArgs","toolbarObj","created","toolbarCreateHandler","overflowMode","clicked","onClicked","getId","currItems","tool","toolbarClickArgs","getPupupId","buttonObj","gridSpan","largeIconSpan","layoutBtnObj","hideItems","hideStatus","updateSortByButton","itemCount","itemTooltip","spanElement","tooltipText","prefixIcon","showTextOn","suffixIcon","overflow","align","onSelectionChanged","reRenderToolbar","hideItem","tools","toHide","refreshOverflow","isEnable","NavigationPane","removeNodes","moveNames","expandTree","isDrag","isPathDragged","isRenameParent","isRightClick","renameParent","ctrlShiftN","shiftF10","onInit","rootData","attr","dataSource","parentID","expanded","hasChildren","tooltip","nodeSelected","onNodeSelected","nodeExpanding","onNodeExpand","nodeClicked","onNodeClicked","allowEditing","nodeEditing","onNodeEditing","drawNode","onDrowNode","dataBound","addDragDrop","getTreeData","getDragPath","getDropPath","nodeData","addChild","prevent","directories","_fm_icon","addNodes","expandNodeTarget","onPathDrag","selectResultNode","onNodeExpanded","innerHtml","sNode","updateTree","updateTreeNode","toExpand","expandedNodes","removeChildNodes","childs","onOpenEnd","sleId","expandAll","updateItemData","updateActionData","selcetedEle","selectedNodeEle","onRenameEndParent","nData","onDownLoadInit","onClearPathInit","onDragEnd","getMoveNames","previousName","onCutEnd","resultObj","itemname","checkDropPath","obj","onDragging","dataobj","level","keyDown","DetailsView","interaction","isColumnRefresh","firstItemIndex","isSelectionUpdate","currentSelectedItem","isLoaded","isNameWidth","checkNameWidth","columns","getColumns","sortSettings","direction","allowSorting","rowSelecting","onSelection","rowDeselecting","rowSelected","rowDeselected","onDeSelection","allowResizing","detailsViewSettings","columnResizing","selectionSettings","checkboxMode","pageSettings","pageSize","allowUnsort","recordDoubleClick","DblClickEvents","beforeDataBound","onBeforeDataBound","onDataBound","rowDataBound","onRowDataBound","actionBegin","onActionBegin","headerCellInfo","onHeaderCellInfo","beforeCopy","load","focusModule","emptyArgs","initialColumn","adjustWidth","fieldName","nameWidth","headerTextAlign","iWidth","headerTemplate","unshift","cWidth","cBox","disableHtmlEncode","gridHeader","renderCheckBox","refreshColumns","td","row","sizeEle","modifiedSize","sizeValue","formatNumber","dateEle","checkWrap","requestType","columnName","sortItem","rows","getSelectedRowIndexes","sortSelectedNodes","getRowsObject","selectRecords","currentViewData","getRowHeight","hdTable","getHeaderContent","paddingLeft","hdContent","borderRightWidth","cnTable","getContent","overflowY","checkEmptyDiv","gridRecords","getCurrentViewRecords","sRecords","selectedRowIndex","rData","onSortColumn","sortModule","onDetailsResize","removePathColumn","updatePathColumn","columnData","pathColumn$$1","getSelectedRecords","openContent","rowIndex","rowData","onSearchFiles","isRefresh","selectionModule","selectRowsByRange","getRows","selectRow","removeSelection","onPasteInit","onDetailsResizeHandler","getRowInfo","dragRow","getSelectedRows","gridHeaderColGroup","firstChild","gridContentColGroup","gridHeaderColNames","selectedRecords","getRowByIndex","lastItemIndex","gridSelectNodes","selectSize","record","keyupHandler","keydownHandler","removeFocus","getFocusedItemIndex","gridItems","gridLength","focItem","focIndex","selIndex","selRowIndeces","crtSrlPos","crtFocusIndex","checkRowsKey","spaceSelection","shiftMoveMethod","moveFunction","ctrlMoveFunction","isSelected","shiftSelectFocusItem","shiftSelectedItem","nextIndex","indexValue","checkAllRows","InnerItems","itemArr","fIndex","selRowIndexes","itemElement","check","getRecords","hasFilter","dRecords"],"mappings":"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","sourcesContent":["import { Ajax, Browser, ChildProperty, Complex, Component, Draggable, Event, EventHandler, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, Touch, addClass, closest, createElement, detach, extend, formatUnit, getValue, isNullOrUndefined, isVisible, matches, remove, removeClass, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { Splitter } from '@syncfusion/ej2-layouts';\nimport { Dialog, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input, TextBox, Uploader } from '@syncfusion/ej2-inputs';\nimport { CheckBox, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ContextMenu, Toolbar, TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as ContextMenu$1, Grid, Resize, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nclass AjaxSettings extends ChildProperty {\n}\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"downloadUrl\", void 0);\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"getImageUrl\", void 0);\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"uploadUrl\", void 0);\n__decorate([\n    Property(null)\n], AjaxSettings.prototype, \"url\", void 0);\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename',\n    'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\nclass ToolbarSettings extends ChildProperty {\n}\n__decorate$1([\n    Property(toolbarItems)\n], ToolbarSettings.prototype, \"items\", void 0);\n__decorate$1([\n    Property(true)\n], ToolbarSettings.prototype, \"visible\", void 0);\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Search settings of the File Manager.\n */\nclass SearchSettings extends ChildProperty {\n}\n__decorate$2([\n    Property(true)\n], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n__decorate$2([\n    Property('contains')\n], SearchSettings.prototype, \"filterType\", void 0);\n__decorate$2([\n    Property(true)\n], SearchSettings.prototype, \"ignoreCase\", void 0);\n__decorate$2([\n    Property(null)\n], SearchSettings.prototype, \"placeholder\", void 0);\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the columns in the details view of the file manager.\n */\nconst columnArray = [\n    {\n        field: 'name', headerText: 'Name', minWidth: 120,\n        template: '<span class=\"e-fe-text\">${name}</span>', customAttributes: { class: 'e-fe-grid-name' }\n    },\n    {\n        field: '_fm_modified', headerText: 'DateModified', type: 'dateTime',\n        format: 'MMMM dd, yyyy HH:mm', minWidth: 120, width: '190'\n    },\n    {\n        field: 'size', headerText: 'Size', minWidth: 90, width: '110', template: '<span class=\"e-fe-size\">${size}</span>'\n    }\n];\n/**\n * Specifies the grid settings of the File Manager.\n */\nclass DetailsViewSettings extends ChildProperty {\n}\n__decorate$3([\n    Property(true)\n], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n__decorate$3([\n    Property(columnArray)\n], DetailsViewSettings.prototype, \"columns\", void 0);\n\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nconst folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nconst layoutItems = [\n    'SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'\n];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\nclass ContextMenuSettings extends ChildProperty {\n}\n__decorate$4([\n    Property(fileItems)\n], ContextMenuSettings.prototype, \"file\", void 0);\n__decorate$4([\n    Property(folderItems)\n], ContextMenuSettings.prototype, \"folder\", void 0);\n__decorate$4([\n    Property(layoutItems)\n], ContextMenuSettings.prototype, \"layout\", void 0);\n__decorate$4([\n    Property(true)\n], ContextMenuSettings.prototype, \"visible\", void 0);\n\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\nclass NavigationPaneSettings extends ChildProperty {\n}\n__decorate$5([\n    Property('650px')\n], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n__decorate$5([\n    Property('240px')\n], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n__decorate$5([\n    Property(true)\n], NavigationPaneSettings.prototype, \"visible\", void 0);\n\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nclass UploadSettings extends ChildProperty {\n}\n__decorate$6([\n    Property('')\n], UploadSettings.prototype, \"allowedExtensions\", void 0);\n__decorate$6([\n    Property(true)\n], UploadSettings.prototype, \"autoUpload\", void 0);\n__decorate$6([\n    Property(false)\n], UploadSettings.prototype, \"autoClose\", void 0);\n__decorate$6([\n    Property(0)\n], UploadSettings.prototype, \"minFileSize\", void 0);\n__decorate$6([\n    Property(30000000)\n], UploadSettings.prototype, \"maxFileSize\", void 0);\n\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Interface for a class Column\n */\n/* istanbul ignore next */\nclass Column extends ChildProperty {\n}\n__decorate$7([\n    Property('')\n], Column.prototype, \"field\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"headerText\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"width\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"minWidth\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"maxWidth\", void 0);\n__decorate$7([\n    Property('Left')\n], Column.prototype, \"textAlign\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"headerTextAlign\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"type\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"format\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"template\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"headerTemplate\", void 0);\n__decorate$7([\n    Property(true)\n], Column.prototype, \"allowSorting\", void 0);\n__decorate$7([\n    Property(true)\n], Column.prototype, \"allowResizing\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"customAttributes\", void 0);\n__decorate$7([\n    Property('')\n], Column.prototype, \"hideAtMedia\", void 0);\n__decorate$7([\n    Property(null)\n], Column.prototype, \"customFormat\", void 0);\n\n/**\n * FileExplorer common modules\n */\n\n/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nconst TOOLBAR_ID = '_toolbar';\n/** @hidden */\nconst LAYOUT_ID = '_layout';\n/** @hidden */\nconst NAVIGATION_ID = '_navigation';\n/** @hidden */\nconst TREE_ID = '_tree';\n/** @hidden */\nconst GRID_ID = '_grid';\n/** @hidden */\nconst LARGEICON_ID = '_largeicons';\n/** @hidden */\nconst DIALOG_ID = '_dialog';\n/** @hidden */\nconst ALT_DIALOG_ID = '_alt_dialog';\n/** @hidden */\nconst IMG_DIALOG_ID = '_img_dialog';\n/** @hidden */\nconst EXTN_DIALOG_ID = '_extn_dialog';\n/** @hidden */\nconst UPLOAD_DIALOG_ID = '_upload_dialog';\n/** @hidden */\nconst RETRY_DIALOG_ID = '_retry_dialog';\n/** @hidden */\nconst CONTEXT_MENU_ID = '_contextmenu';\n/** @hidden */\nconst SORTBY_ID = '_sortby';\n/** @hidden */\nconst VIEW_ID = '_view';\n/** @hidden */\nconst SPLITTER_ID = '_splitter';\n/** @hidden */\nconst CONTENT_ID = '_content';\n/** @hidden */\nconst BREADCRUMBBAR_ID = '_breadcrumbbar';\n/** @hidden */\nconst UPLOAD_ID = '_upload';\n/** @hidden */\nconst RETRY_ID = '_retry';\n/** @hidden */\nconst SEARCH_ID = '_search';\n/**\n * Specifies the File Manager internal class names\n */\n/** @hidden */\nconst ROOT = 'e-filemanager';\n/** @hidden */\nconst CONTROL = 'e-control';\n/** @hidden */\nconst CHECK_SELECT = 'e-fe-cb-select';\n/** @hidden */\nconst ROOT_POPUP = 'e-fe-popup';\n/** @hidden */\nconst MOBILE = 'e-fe-mobile';\n/** @hidden */\nconst MOB_POPUP = 'e-fe-popup e-fe-mobile';\n/** @hidden */\nconst MULTI_SELECT = 'e-fe-m-select';\n/** @hidden */\nconst FILTER = 'e-fe-m-filter';\n/** @hidden */\nconst LAYOUT = 'e-layout';\n/** @hidden */\nconst NAVIGATION = 'e-navigation';\n/** @hidden */\nconst LAYOUT_CONTENT = 'e-layout-content';\n/** @hidden */\nconst LARGE_ICONS = 'e-large-icons';\n/** @hidden */\nconst TB_ITEM = 'e-toolbar-item';\n/** @hidden */\nconst LIST_ITEM = 'e-list-item';\n/** @hidden */\nconst LIST_TEXT = 'e-list-text';\n/** @hidden */\nconst LIST_PARENT = 'e-list-parent';\n/** @hidden */\nconst TB_OPTION_TICK = 'e-icons e-fe-tick';\n/** @hidden */\nconst TB_OPTION_DOT = 'e-icons e-fe-dot';\n/** @hidden */\nconst BLUR = 'e-blur';\n/** @hidden */\nconst ACTIVE = 'e-active';\n/** @hidden */\nconst HOVER = 'e-hover';\n/** @hidden */\nconst FOCUS = 'e-focus';\n/** @hidden */\nconst FOCUSED = 'e-focused';\n/** @hidden */\nconst CHECK = 'e-check';\n/** @hidden */\nconst FRAME = 'e-frame';\n/** @hidden */\nconst CB_WRAP = 'e-checkbox-wrapper';\n/** @hidden */\nconst ROW = 'e-row';\n/** @hidden */\nconst ROWCELL = 'e-rowcell';\n/** @hidden */\nconst EMPTY = 'e-empty';\n/** @hidden */\nconst EMPTY_CONTENT = 'e-empty-content';\n/** @hidden */\nconst EMPTY_INNER_CONTENT = 'e-empty-inner-content';\n/** @hidden */\nconst CLONE = 'e-fe-clone';\n/** @hidden */\nconst DROP_FOLDER = 'e-fe-drop-folder';\n/** @hidden */\nconst DROP_FILE = 'e-fe-drop-file';\n/** @hidden */\nconst FOLDER = 'e-fe-folder';\n/** @hidden */\nconst ICON_IMAGE = 'e-fe-image';\n/** @hidden */\nconst ICON_MUSIC = 'e-fe-music';\n/** @hidden */\nconst ICON_VIDEO = 'e-fe-video';\n/** @hidden */\nconst LARGE_ICON = 'e-large-icon';\n/** @hidden */\nconst LARGE_EMPTY_FOLDER = 'e-empty-icon e-fe-folder';\n/** @hidden */\nconst LARGE_EMPTY_FOLDER_TWO = 'e-empty-icon.e-fe-folder';\n/** @hidden */\nconst LARGE_ICON_FOLDER = 'e-fe-folder';\n/** @hidden */\nconst SELECTED_ITEMS = 'e-items';\n/** @hidden */\nconst TEXT_CONTENT = 'e-text-content';\n/** @hidden */\nconst GRID_HEADER = 'e-gridheader';\n/** @hidden */\nconst TEMPLATE_CELL = 'e-templatecell';\n/** @hidden */\nconst TREE_VIEW = 'e-treeview';\n/** @hidden */\nconst MENU_ITEM = 'e-menu-item';\n/** @hidden */\nconst MENU_ICON = 'e-menu-icon';\n/** @hidden */\nconst SUBMENU_ICON = 'e-caret';\n/** @hidden */\nconst GRID_VIEW = 'e-content';\n/** @hidden */\nconst ICON_VIEW = 'e-list-parent';\n/** @hidden */\nconst ICON_OPEN = 'e-icons e-fe-open';\n/** @hidden */\nconst ICON_UPLOAD = 'e-icons e-fe-upload';\n/** @hidden */\nconst ICON_CUT = 'e-icons e-fe-cut';\n/** @hidden */\nconst ICON_COPY = 'e-icons e-fe-copy';\n/** @hidden */\nconst ICON_PASTE = 'e-icons e-fe-paste';\n/** @hidden */\nconst ICON_DELETE = 'e-icons e-fe-delete';\n/** @hidden */\nconst ICON_RENAME = 'e-icons e-fe-rename';\n/** @hidden */\nconst ICON_NEWFOLDER = 'e-icons e-fe-newfolder';\n/** @hidden */\nconst ICON_DETAILS = 'e-icons e-fe-details';\n/** @hidden */\nconst ICON_SHORTBY = 'e-icons e-fe-sort';\n/** @hidden */\nconst ICON_REFRESH = 'e-icons e-fe-refresh';\n/** @hidden */\nconst ICON_SELECTALL = 'e-icons e-fe-select';\n/** @hidden */\nconst ICON_DOWNLOAD = 'e-icons e-fe-download';\n/** @hidden */\nconst ICON_OPTIONS = 'e-icons e-fe-options';\n/** @hidden */\nconst ICON_GRID = 'e-icons e-fe-grid';\n/** @hidden */\nconst ICON_LARGE = 'e-icons e-fe-large';\n/** @hidden */\nconst ICON_BREADCRUMB = 'e-icons e-fe-breadcrumb';\n/** @hidden */\nconst ICON_CLEAR = 'e-icons e-fe-clear';\n/** @hidden */\nconst ICON_DROP_IN = 'e-icons e-fe-drop-in';\n/** @hidden */\nconst ICON_DROP_OUT = 'e-icons e-fe-drop-out';\n/** @hidden */\nconst ICON_NO_DROP = 'e-icons e-fe-no-drop';\n/** @hidden */\nconst ICONS = 'e-icons';\n/** @hidden */\nconst DETAILS_LABEL = 'e-detailslabel';\n/** @hidden */\nconst ERROR_CONTENT = 'e-fe-errorcontent';\n/** @hidden */\nconst STATUS = 'e-status';\n/** @hidden */\nconst BREADCRUMBS = 'e-address';\n/** @hidden */\nconst RTL = 'e-rtl';\n/** @hidden */\nconst DISPLAY_NONE = 'e-display-none';\n/** @hidden */\nconst COLLAPSED = 'e-node-collapsed';\n/** @hidden */\nconst FULLROW = 'e-fullrow';\n/** @hidden */\nconst ICON_COLLAPSIBLE = 'e-icon-collapsible';\n/** @hidden */\nconst SPLIT_BAR = 'e-split-bar';\n/** @hidden */\nconst HEADER_CHECK = 'e-headercheck';\n/** @hidden */\nconst OVERLAY = 'e-fe-overlay';\n/** @hidden */\nconst VALUE = 'e-fe-value';\n\n/**\n * Specifies the File Manager internal variables\n */\n/** @hidden */\nconst isFile = 'isFile';\n/**\n * Specifies the File Manager internal events\n */\n/** @hidden */\nconst modelChanged = 'model-changed';\n/** @hidden */\nconst initialEnd = 'initial-end';\n/** @hidden */\nconst finalizeEnd = 'finalize-end';\n/** @hidden */\nconst createEnd = 'create-end';\n/** @hidden */\nconst filterEnd = 'filter-end';\n/** @hidden */\nconst beforeDelete = 'before-delete';\n/** @hidden */\nconst pathDrag = 'path-drag';\n/** @hidden */\nconst deleteInit = 'delete-init';\n/** @hidden */\nconst deleteEnd = 'delete-end';\n/** @hidden */\nconst refreshEnd = 'refresh-end';\n/** @hidden */\nconst resizeEnd = 'resize-end';\n/** @hidden */\nconst splitterResize = 'splitter-resize';\n/** @hidden */\nconst pathChanged = 'path-changed';\n/** @hidden */\nconst destroy = 'destroy';\n/** @hidden */\nconst beforeRequest = 'before-request';\n/** @hidden */\nconst upload = 'upload';\n/** @hidden */\nconst skipUpload = 'skip-upload';\n/** @hidden */\nconst afterRequest = 'after-request';\n/** @hidden */\nconst download = 'download';\n/** @hidden */\nconst layoutRefresh = 'layout-refresh';\n/** @hidden */\nconst actionFailure = 'actionFailure';\n/** @hidden */\nconst search = 'search';\n/** @hidden */\nconst openInit = 'open-init';\n/** @hidden */\nconst openEnd = 'open-end';\n/** @hidden */\nconst selectionChanged = 'selection-changed';\n/** @hidden */\nconst selectAllInit = 'select-all-init';\n/** @hidden */\nconst clearAllInit = 'clear-all-init';\n/** @hidden */\nconst clearPathInit = 'clear-path-init';\n/** @hidden */\nconst layoutChange = 'layout-change';\n/** @hidden */\nconst sortByChange = 'sort-by-change';\n/** @hidden */\nconst nodeExpand = 'node-expand';\n/** @hidden */\nconst detailsInit = 'details-init';\n/** @hidden */\nconst menuItemData = 'menu-item-data';\n/** @hidden */\nconst renameInit = 'rename-init';\n/** @hidden */\nconst renameEndParent = 'rename-end-parent';\n/** @hidden */\nconst renameEnd = 'rename-end';\n/** @hidden */\nconst showPaste = 'show-paste';\n/** @hidden */\nconst hidePaste = 'hide-paste';\n/** @hidden */\nconst selectedData = 'selected-data';\n/** @hidden */\nconst cutCopyInit = 'cut-copy-init';\n/** @hidden */\nconst pasteInit = 'paste-init';\n/** @hidden */\nconst pasteEnd = 'paste-end';\n/** @hidden */\nconst cutEnd = 'cut-end';\n/** @hidden */\nconst hideLayout = 'hide-layout';\n/** @hidden */\nconst updateTreeSelection = 'update-tree-selection';\n/** @hidden */\nconst treeSelect = 'select-node';\n/** @hidden */\nconst sortColumn = 'sort-column';\n/** @hidden */\nconst pathColumn = 'path-column';\n/** @hidden */\nconst searchTextChange = 'search-change';\n/** @hidden */\nconst beforeDownload = 'before-download';\n/** @hidden */\nconst downloadInit = 'download-init';\n/** @hidden */\nconst dropInit = 'drop-init';\n/** @hidden */\nconst dragEnd = 'drag-end';\n/** @hidden */\nconst dropPath = 'drop-path';\n/** @hidden */\nconst dragHelper = 'drag-helper';\n/** @hidden */\nconst dragging = 'dragging';\n/** @hidden */\nconst updateSelectionData = 'update-selection-data';\n/** @hidden */\nconst methodCall = 'method-call';\n/** @hidden */\nconst permissionRead = 'read';\n/** @hidden */\nconst permissionEdit = 'write';\n/** @hidden */\nconst permissionEditContents = 'writeContents';\n/** @hidden */\nconst permissionCopy = 'copy';\n/** @hidden */\nconst permissionUpload = 'upload';\n/** @hidden */\nconst permissionDownload = 'download';\n\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction updatePath(node, data, instance) {\n    const text = getValue('name', data);\n    const id = node.getAttribute('data-id');\n    const newText = isNullOrUndefined(id) ? text : id;\n    instance.setProperties({ path: getPath(node, newText, instance.hasId) }, true);\n    instance.pathId = getPathId(node);\n    instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nfunction getPath(element, text, hasId) {\n    const matched = getParents(element, text, false, hasId);\n    let path = hasId ? '' : '/';\n    const len = matched.length - (hasId ? 1 : 2);\n    for (let i = len; i >= 0; i--) {\n        path += matched[i] + '/';\n    }\n    return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nfunction getPathId(node) {\n    const matched = getParents(node, node.getAttribute('data-uid'), true);\n    const ids = [];\n    for (let i = matched.length - 1; i >= 0; i--) {\n        ids.push(matched[i]);\n    }\n    return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nfunction getPathNames(element, text) {\n    const matched = getParents(element, text, false);\n    const names = [];\n    for (let i = matched.length - 1; i >= 0; i--) {\n        names.push(matched[i]);\n    }\n    return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nfunction getParents(element, text, isId, hasId) {\n    const matched = [text];\n    let el = element.parentNode;\n    while (!isNullOrUndefined(el)) {\n        if (matches(el, '.' + LIST_ITEM)) {\n            const parentText = isId ? el.getAttribute('data-uid') : (hasId ? el.getAttribute('data-id') :\n                select('.' + LIST_TEXT, el).textContent);\n            matched.push(parentText);\n        }\n        el = el.parentNode;\n        if (el.classList.contains(TREE_VIEW)) {\n            break;\n        }\n    }\n    return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction generatePath(parent) {\n    const key = parent.hasId ? 'id' : 'name';\n    let newPath = parent.hasId ? '' : '/';\n    let i = parent.hasId ? 0 : 1;\n    for (i; i < parent.pathId.length; i++) {\n        // eslint-disable-next-line\n        const data = getValue(parent.pathId[i], parent.feParent);\n        newPath += getValue(key, data) + '/';\n    }\n    parent.setProperties({ path: newPath }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction removeActive(parent) {\n    if (parent.isCut) {\n        removeBlur(parent);\n        parent.selectedNodes = [];\n        parent.actionRecords = [];\n        parent.enablePaste = false;\n        parent.notify(hidePaste, {});\n    }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nfunction activeElement(action, parent) {\n    parent.isSearchCut = false;\n    parent.actionRecords = [];\n    parent.activeElements = [];\n    parent.notify(cutCopyInit, {});\n    if (parent.activeElements.length === 0) {\n        return false;\n    }\n    removeBlur(parent);\n    const blurEle = parent.activeElements;\n    if (parent.activeModule !== 'navigationpane') {\n        parent.targetPath = parent.path;\n    }\n    else {\n        parent.targetPath = getParentPath(parent.path);\n    }\n    let i = 0;\n    if (blurEle) {\n        getModule(parent, blurEle[0]);\n        if (action === 'cut') {\n            while (i < blurEle.length) {\n                addBlur(blurEle[i]);\n                i++;\n            }\n        }\n    }\n    i = 0;\n    parent.selectedNodes = [];\n    parent.enablePaste = true;\n    parent.notify(showPaste, {});\n    while (i < parent.activeRecords.length) {\n        parent.actionRecords.push(parent.activeRecords[i]);\n        parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n        i++;\n    }\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) &&\n        parent.activeModule !== 'navigationpane') {\n        parent.selectedNodes = [];\n        parent.isSearchCut = true;\n        let i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.selectedNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n    }\n    return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nfunction addBlur(nodes) {\n    nodes.classList.add(BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nfunction removeBlur(parent, hover) {\n    const blurEle = (!hover) ? parent.element.querySelectorAll('.' + BLUR) :\n        parent.element.querySelectorAll('.' + HOVER);\n    let i = 0;\n    while (i < blurEle.length) {\n        blurEle[i].classList.remove((!hover) ? BLUR : HOVER);\n        i++;\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nfunction getModule(parent, element) {\n    if (element) {\n        if (element.classList.contains(ROW)) {\n            parent.activeModule = 'detailsview';\n        }\n        else if (closest(element, '.' + LARGE_ICON)) {\n            parent.activeModule = 'largeiconsview';\n        }\n        else {\n            parent.activeModule = 'navigationpane';\n        }\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nfunction searchWordHandler(parent, value, isLayoutChange) {\n    let searchWord;\n    if (value.length === 0 && !parent.isFiltered) {\n        parent.notify(pathColumn, { args: parent });\n    }\n    if (parent.searchSettings.filterType === 'startsWith') {\n        searchWord = value + '*';\n    }\n    else if (parent.searchSettings.filterType === 'endsWith') {\n        searchWord = '*' + value;\n    }\n    else {\n        searchWord = '*' + value + '*';\n    }\n    parent.searchWord = searchWord;\n    parent.itemData = [getPathObject(parent)];\n    if (value.length > 0) {\n        const caseSensitive = parent.searchSettings.ignoreCase;\n        const hiddenItems = parent.showHiddenItems;\n        Search(parent, isLayoutChange ? layoutChange : search, parent.path, searchWord, hiddenItems, !caseSensitive);\n    }\n    else {\n        if (!parent.isFiltered) {\n            read(parent, isLayoutChange ? layoutChange : search, parent.path);\n        }\n        else {\n            filter(parent, layoutChange);\n        }\n    }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nfunction updateLayout(parent, view) {\n    parent.setProperties({ view: view }, true);\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n        parent.layoutSelectedItems = parent.selectedItems;\n    }\n    let searchWord = '';\n    if (parent.breadcrumbbarModule.searchObj.element.value) {\n        searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n    }\n    parent.isLayoutChange = true;\n    searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nfunction getTargetModule(parent, element) {\n    let tartgetModule = '';\n    if (element) {\n        if (closest(element, '.e-gridcontent')) {\n            tartgetModule = 'detailsview';\n        }\n        else if (closest(element, '.' + LARGE_ICONS)) {\n            tartgetModule = 'largeiconsview';\n        }\n        else if (element.classList.contains('e-fullrow') ||\n            element.classList.contains('e-icon-expandable')) {\n            tartgetModule = 'navigationpane';\n        }\n        else if (closest(element, '.e-address-list-item')) {\n            tartgetModule = 'breadcrumbbar';\n        }\n        else {\n            tartgetModule = '';\n        }\n    }\n    parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction refresh(parent) {\n    parent.itemData = [getPathObject(parent)];\n    if (!hasReadAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], permissionRead);\n    }\n    else {\n        read(parent, refreshEnd, parent.path);\n    }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openAction(parent) {\n    read(parent, openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nfunction getPathObject(parent) {\n    return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction copyFiles(parent) {\n    if (!activeElement('copy', parent)) {\n        return;\n    }\n    else {\n        parent.fileAction = 'copy';\n    }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction cutFiles(parent) {\n    if (!activeElement('cut', parent)) {\n        return;\n    }\n    else {\n        parent.isCut = true;\n        parent.fileAction = 'move';\n    }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nfunction fileType(file) {\n    const isFile$$1 = getValue('isFile', file);\n    if (!isFile$$1) {\n        return FOLDER;\n    }\n    const imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n    const audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n    const videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n    const knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc',\n        'xlsx', 'xls', 'xml', 'rtf', 'php'];\n    let filetype = getValue('type', file);\n    filetype = filetype.toLowerCase();\n    if (filetype.indexOf('.') !== -1) {\n        filetype = filetype.split('.').join('');\n    }\n    let iconType;\n    if (imageFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_IMAGE;\n    }\n    else if (audioFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_MUSIC;\n    }\n    else if (videoFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_VIDEO;\n    }\n    else if (knownFormat.indexOf(filetype) !== -1) {\n        iconType = 'e-fe-' + filetype;\n    }\n    else {\n        iconType = 'e-fe-unknown e-fe-' + filetype;\n    }\n    return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nfunction getImageUrl(parent, item) {\n    const baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n    let imgUrl;\n    const fileName = getValue('name', item);\n    const fPath = getValue('filterPath', item);\n    if (parent.hasId) {\n        const imgId = getValue('id', item);\n        imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n    }\n    else if (!isNullOrUndefined(fPath)) {\n        imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n    }\n    else {\n        imgUrl = baseUrl + '?path=' + parent.path + fileName;\n    }\n    imgUrl = imgUrl + '&time=' + (new Date().getTime()).toString();\n    const eventArgs = {\n        fileDetails: [item],\n        imageUrl: imgUrl\n    };\n    parent.trigger('beforeImageLoad', eventArgs);\n    return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nfunction getFullPath(parent, data, path) {\n    const filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n    const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n    if (!isNullOrUndefined(fPath)) {\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return path + filePath;\n    }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nfunction getName(parent, data) {\n    let name = getValue('name', data);\n    let fPath = getValue('filterPath', data);\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNullOrUndefined(fPath)) {\n        fPath = fPath.replace(/\\\\/g, '/');\n        name = fPath.replace(parent.path, '') + name;\n    }\n    return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getSortedData(parent, items) {\n    if (items.length === 0) {\n        return items;\n    }\n    let query;\n    if (parent.sortOrder !== 'None') {\n        query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n    }\n    else {\n        query = new Query().group('isFile');\n    }\n    // eslint-disable-next-line\n    const lists = new DataManager(items).executeLocal(query);\n    return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getObject(parent, key, value) {\n    // eslint-disable-next-line\n    const currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n    const query = new Query().where(key, 'equal', value);\n    // eslint-disable-next-line\n    const lists = new DataManager(currFiles).executeLocal(query);\n    return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nfunction createEmptyElement(parent, element, args) {\n    let top;\n    const layoutElement = select('#' + parent.element.id + LAYOUT_ID, parent.element);\n    const addressBarHeight = select('#' + parent.element.id + BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n    top = layoutElement.offsetHeight - addressBarHeight;\n    if (parent.view === 'Details') {\n        top = top - select('.' + GRID_HEADER, layoutElement).offsetHeight;\n    }\n    if (isNullOrUndefined(element.querySelector('.' + EMPTY))) {\n        const emptyDiv = createElement('div', { className: EMPTY });\n        const emptyFolder = createElement('div', { className: LARGE_EMPTY_FOLDER });\n        const emptyEle = createElement('div', { className: EMPTY_CONTENT });\n        const dragFile = createElement('div', { className: EMPTY_INNER_CONTENT });\n        if (parent.view === 'Details') {\n            element.querySelector('.' + GRID_VIEW).appendChild(emptyDiv);\n        }\n        else {\n            element.appendChild(emptyDiv);\n        }\n        emptyDiv.appendChild(emptyFolder);\n        emptyDiv.appendChild(emptyEle);\n        emptyDiv.appendChild(dragFile);\n    }\n    if (element.querySelector('.' + EMPTY)) {\n        if (!isNullOrUndefined(args.error)) {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n        }\n        else if (parent.isFiltered) {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n        }\n        else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n        }\n        else {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n        }\n    }\n    const eDiv = select('.' + EMPTY, element);\n    top = (top - eDiv.offsetHeight) / 2;\n    eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getDirectories(files) {\n    return new DataManager(files).executeLocal(new Query().where(isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nfunction setNodeId(result, rootId) {\n    // eslint-disable-next-line\n    const dirs = getDirectories(result.files);\n    for (let i = 0, len = dirs.length; i < len; i++) {\n        setValue('_fm_id', rootId + '_' + i, dirs[i]);\n    }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction setDateObject(args) {\n    for (let i = 0; i < args.length; i++) {\n        setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n        setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n    }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nfunction getLocaleText(parent, text) {\n    const locale = parent.localeObj.getConstant(text);\n    return (locale === '') ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nfunction getCssClass(parent, css) {\n    let cssClass = parent.cssClass;\n    cssClass = (isNullOrUndefined(cssClass) || cssClass === '') ? css : (cssClass + ' ' + css);\n    return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nfunction sortbyClickHandler(parent, args) {\n    let tick;\n    if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n        tick = true;\n    }\n    else {\n        tick = false;\n    }\n    if (!tick) {\n        parent.sortBy = getSortField(args.item.id);\n    }\n    else {\n        parent.sortOrder = getSortField(args.item.id);\n    }\n    parent.itemData = [getPathObject(parent)];\n    if (parent.view === 'Details') {\n        if (parent.isMobile) {\n            updateLayout(parent, 'Details');\n        }\n        else {\n            parent.notify(sortColumn, { module: 'detailsview' });\n        }\n    }\n    if (parent.view === 'LargeIcons') {\n        updateLayout(parent, 'LargeIcons');\n    }\n    parent.notify(sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nfunction getSortField(id) {\n    const text = id.substring(id.lastIndexOf('_') + 1);\n    let field = text;\n    switch (text) {\n        case 'date':\n            field = '_fm_modified';\n            break;\n        case 'ascending':\n            field = 'Ascending';\n            break;\n        case 'descending':\n            field = 'Descending';\n            break;\n        case 'none':\n            field = 'None';\n            break;\n    }\n    return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction setNextPath(parent, path) {\n    const currfolders = path.split('/');\n    const folders = parent.originalPath.split('/');\n    // eslint-disable-next-line\n    const root = getValue(parent.pathId[0], parent.feParent);\n    const key = isNullOrUndefined(getValue('id', root)) ? 'name' : 'id';\n    for (let i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n        const eventName = (folders[i + 1] === '') ? finalizeEnd : initialEnd;\n        const newPath = (folders[i] === '') ? '/' : (parent.path + folders[i] + '/');\n        // eslint-disable-next-line\n        const data = getObject(parent, key, folders[i]);\n        const id = getValue('_fm_id', data);\n        parent.setProperties({ path: newPath }, true);\n        parent.pathId.push(id);\n        parent.itemData = [data];\n        parent.pathNames.push(getValue('name', data));\n        read(parent, eventName, parent.path);\n        break;\n    }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction openSearchFolder(parent, data) {\n    parent.notify(clearPathInit, { selectedNode: parent.pathId[parent.pathId.length - 1] });\n    parent.originalPath = getFullPath(parent, data, parent.path);\n    read(parent, (parent.path !== parent.originalPath) ? initialEnd : finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction pasteHandler(parent) {\n    parent.isDragDrop = false;\n    if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n        const path = (parent.folderPath === '') ? parent.path : parent.folderPath;\n        // eslint-disable-next-line\n        const subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n        if (!subFolder) {\n            if ((parent.fileAction === 'move' && parent.targetPath !== path) || parent.fileAction === 'copy') {\n                parent.notify(pasteInit, {});\n                paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n            }\n            else {\n                parent.enablePaste = false;\n                parent.notify(hidePaste, {});\n                removeBlur(parent);\n            }\n        }\n    }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nfunction validateSubFolder(parent, data, dropPath$$1, dragPath) {\n    let subFolder = false;\n    for (let i = 0; i < data.length; i++) {\n        if (!getValue('isFile', data[i])) {\n            const tempTarget = getFullPath(parent, data[i], dragPath);\n            if (dropPath$$1.indexOf(tempTarget) === 0) {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Sub-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n        else {\n            const srcData = parent.dragNodes[i];\n            let len = 0;\n            if (srcData) {\n                len = srcData.lastIndexOf('/');\n            }\n            let path = '';\n            if (len > 0) {\n                path = dragPath + srcData.substring(0, len + 1);\n            }\n            if (path === dropPath$$1) {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n    }\n    return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction dropHandler(parent) {\n    parent.isDragDrop = true;\n    if (parent.dragData.length !== 0) {\n        parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n        parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n        const subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n        if (!subFolder && (parent.dragPath !== parent.dropPath)) {\n            parent.itemData = [parent.dropData];\n            paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n            parent.notify(pasteInit, {});\n        }\n    }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nfunction getParentPath(oldPath) {\n    const path = oldPath.split('/');\n    let newPath = path[0] + '/';\n    for (let i = 1; i < path.length - 2; i++) {\n        newPath += path[i] + '/';\n    }\n    return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nfunction getDirectoryPath(parent, args) {\n    const filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n    const fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n    if (!isNullOrUndefined(fPath)) {\n        if (fPath === '') {\n            return parent.hasId ? filePath : '/';\n        }\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return parent.path + filePath;\n    }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nfunction doPasteUpdate(parent, operation, result) {\n    if (operation === 'move') {\n        if (!parent.isDragDrop) {\n            parent.enablePaste = false;\n            parent.notify(hidePaste, {});\n            parent.notify(cutEnd, result);\n        }\n        else {\n            parent.notify(dragEnd, result);\n        }\n    }\n    if (parent.duplicateItems.length === 0) {\n        parent.pasteNodes = [];\n    }\n    const flag = false;\n    for (let count = 0; (count < result.files.length) && !flag; count++) {\n        parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n        if (parent.isDragDrop) {\n            parent.droppedObjects.push(result.files[count]);\n        }\n    }\n    parent.duplicateItems = [];\n    parent.duplicateRecords = [];\n    if (parent.isDragDrop && !parent.isPasteError) {\n        parent.isDropEnd = true;\n    }\n    else {\n        parent.isDropEnd = false;\n    }\n    if (!parent.isDragDrop || (parent.path === parent.dragPath) || (parent.path === parent.dropPath)\n        || parent.isSearchDrag) {\n        parent.isPathDrag = false;\n        read(parent, pasteEnd, parent.path);\n    }\n    else {\n        readDropPath(parent);\n    }\n    parent.trigger('success', { action: operation, result: result });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction readDropPath(parent) {\n    const pathId = getValue('_fm_id', parent.dropData);\n    parent.expandedId = pathId;\n    parent.itemData = [parent.dropData];\n    if (parent.isPathDrag) {\n        parent.notify(pathDrag, parent.itemData);\n    }\n    else {\n        if (parent.navigationpaneModule) {\n            const node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            updatePath(node, parent.dropData, parent);\n        }\n        read(parent, dropPath, parent.dropPath);\n    }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nfunction getDuplicateData(parent, name) {\n    // eslint-disable-next-line\n    let data = null;\n    // eslint-disable-next-line\n    const records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n    for (let i = 0; i < records.length; i++) {\n        if (getValue('name', records[i]) === name) {\n            data = records[i];\n            break;\n        }\n    }\n    return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction createVirtualDragElement(parent) {\n    parent.isSearchDrag = false;\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n        parent.isSearchDrag = true;\n    }\n    if (parent.activeModule !== 'navigationpane') {\n        parent.dragNodes = [];\n        let i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.dragNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n        if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n            parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n        }\n    }\n    const cloneIcon = parent.createElement('div', {\n        className: 'e-fe-icon ' + fileType(parent.dragData[0])\n    });\n    const cloneName = parent.createElement('div', {\n        className: 'e-fe-name',\n        innerHTML: parent.dragData[0].name\n    });\n    const virtualEle = parent.createElement('div', {\n        className: 'e-fe-content'\n    });\n    virtualEle.appendChild(cloneIcon);\n    virtualEle.appendChild(cloneName);\n    const ele = parent.createElement('div', {\n        className: CLONE\n    });\n    ele.appendChild(virtualEle);\n    if (parent.dragNodes.length > 1) {\n        const badge = parent.createElement('span', {\n            className: 'e-fe-count',\n            innerHTML: (parent.dragNodes.length).toString(10)\n        });\n        ele.appendChild(badge);\n    }\n    parent.virtualDragElement = ele;\n    parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nfunction dragStopHandler(parent, args) {\n    const dragArgs = args;\n    dragArgs.cancel = false;\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeDropTarget(parent);\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    removeBlur(parent);\n    parent.uploadObj.dropArea = select('#' + parent.element.id + CONTENT_ID, parent.element);\n    const virtualEle = select('.' + CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n    getTargetModule(parent, args.target);\n    parent.notify(dropInit, args);\n    removeBlur(parent, 'hover');\n    dragArgs.fileDetails = parent.dragData;\n    parent.trigger('fileDragStop', dragArgs, (dragArgs) => {\n        if (!dragArgs.cancel && !isNullOrUndefined(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n            dropHandler(parent);\n        }\n        parent.dragCount = 0;\n    });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nfunction dragStartHandler(parent, args, dragObj) {\n    const dragArgs = args;\n    dragArgs.cancel = false;\n    dragArgs.fileDetails = parent.dragData;\n    parent.dragCount = 0;\n    parent.droppedObjects = [];\n    if (!parent.allowDragAndDrop || ((parent.activeModule === 'navigationpane') &&\n        (closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]))) {\n        dragArgs.cancel = true;\n    }\n    if ((parent.activeModule === 'navigationpane') &&\n        (parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1)) {\n        parent.isPathDrag = true;\n    }\n    else {\n        parent.isPathDrag = false;\n    }\n    removeBlur(parent);\n    if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n    }\n    else if (!dragArgs.cancel) {\n        let i = 0;\n        while (i < parent.activeElements.length) {\n            addBlur(parent.activeElements[i]);\n            i++;\n        }\n        parent.trigger('fileDragStart', dragArgs, (dragArgs) => {\n            if (dragArgs.cancel) {\n                dragObj.intDestroy(args.event);\n                dragCancel(parent);\n            }\n            else {\n                parent.uploadObj.dropArea = null;\n            }\n        });\n    }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction dragCancel(parent) {\n    removeBlur(parent);\n    const virtualEle = select('.' + CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction removeDropTarget(parent) {\n    removeItemClass(parent, DROP_FOLDER);\n    removeItemClass(parent, DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nfunction removeItemClass(parent, value) {\n    const ele = parent.element.querySelectorAll('.' + value);\n    for (let i = 0; i < ele.length; i++) {\n        ele[i].classList.remove(value);\n    }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nfunction draggingHandler(parent, args) {\n    const dragArgs = args;\n    dragArgs.fileDetails = parent.dragData;\n    let canDrop = false;\n    getTargetModule(parent, args.target);\n    removeDropTarget(parent);\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeBlur(parent, 'hover');\n    let node = null;\n    if (parent.targetModule === 'navigationpane') {\n        node = closest(args.target, 'li');\n        node.classList.add(HOVER, DROP_FOLDER);\n        canDrop = true;\n        /* istanbul ignore next */\n        parent.treeExpandTimer = window.setTimeout(() => { parent.notify(dragging, args); }, 800);\n    }\n    else if (parent.targetModule === 'detailsview') {\n        node = closest(args.target, 'tr');\n        if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(DROP_FOLDER);\n        }\n        else if (node && !node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(DROP_FILE);\n        }\n        canDrop = true;\n    }\n    else if (parent.targetModule === 'largeiconsview') {\n        node = closest(args.target, 'li');\n        if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(HOVER, DROP_FOLDER);\n        }\n        canDrop = true;\n        /* istanbul ignore next */\n    }\n    else if (parent.targetModule === 'breadcrumbbar') {\n        canDrop = true;\n    }\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n    parent.dragCount = parent.dragCount + 1;\n    parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nfunction objectToString(data) {\n    let str = '';\n    const keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n        if (keys[i] !== 'message') {\n            str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n        }\n    }\n    return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nfunction getItemName(parent, data) {\n    if (parent.hasId) {\n        return getValue('id', data);\n    }\n    return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction updateRenamingData(parent, data) {\n    parent.itemData = [data];\n    parent.currentItemText = getValue('name', data);\n    parent.isFile = getValue('isFile', data);\n    parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction doRename(parent) {\n    if (!hasEditAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], permissionEdit);\n    }\n    else {\n        createDialog(parent, 'Rename');\n    }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction doDownload(parent) {\n    // eslint-disable-next-line\n    const items = parent.itemData;\n    for (let i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n            createDeniedDialog(parent, items[i], permissionDownload);\n            return;\n        }\n    }\n    if (parent.selectedItems.length > 0) {\n        Download(parent, parent.path, parent.selectedItems);\n    }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction doDeleteFiles(parent, data, newIds) {\n    for (let i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n            createDeniedDialog(parent, data[i], permissionEdit);\n            return;\n        }\n    }\n    parent.itemData = data;\n    Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction doDownloadFiles(parent, data, newIds) {\n    for (let i = 0; i < data.length; i++) {\n        if (!hasDownloadAccess(data[i])) {\n            createDeniedDialog(parent, data[i], permissionDownload);\n            return;\n        }\n    }\n    parent.itemData = data;\n    if (newIds.length > 0) {\n        Download(parent, parent.path, newIds);\n    }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction createDeniedDialog(parent, data, action) {\n    let message = getValue('message', getValue('permission', data));\n    if (message === '') {\n        message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n    }\n    const response = {\n        error: {\n            code: '401',\n            fileExists: null,\n            message: message\n        }\n    };\n    createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nfunction getAccessClass(data) {\n    return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasReadAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return (permission && !getValue('read', permission)) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasEditAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('write', permission))) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasContentAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('writeContents', permission))) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasUploadAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('upload', permission))) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasDownloadAccess(data) {\n    // eslint-disable-next-line\n    const permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('download', permission))) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction createNewFolder(parent) {\n    // eslint-disable-next-line\n    const details = parent.itemData[0];\n    if (!hasContentAccess(details)) {\n        createDeniedDialog(parent, details, permissionEditContents);\n    }\n    else {\n        createDialog(parent, 'NewFolder');\n    }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction uploadItem(parent) {\n    // eslint-disable-next-line\n    const details = parent.itemData[0];\n    if (!hasUploadAccess(details)) {\n        createDeniedDialog(parent, details, permissionUpload);\n    }\n    else {\n        const eleId = '#' + parent.element.id + UPLOAD_ID;\n        const uploadEle = document.querySelector(eleId);\n        uploadEle.click();\n    }\n}\n\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction read(parent, event, path) {\n    // eslint-disable-next-line\n    const itemData = parent.itemData;\n    for (let i = 0; i < itemData.length; i++) {\n        if (isNullOrUndefined(getValue('hasChild', itemData[i]))) {\n            setValue('hasChild', false, itemData[i]);\n        }\n    }\n    // eslint-disable-next-line\n    const data = { action: 'read', path: path, showHiddenItems: parent.showHiddenItems, data: itemData };\n    createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createFolder(parent, itemName) {\n    // eslint-disable-next-line\n    const data = { action: 'create', path: parent.path, name: itemName, data: parent.itemData };\n    createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction filter(parent, event) {\n    // eslint-disable-next-line\n    const data = { action: 'filter', path: parent.path, showHiddenItems: parent.showHiddenItems, data: [getPathObject(parent)] };\n    // eslint-disable-next-line\n    let filterData;\n    // eslint-disable-next-line\n    const filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n    createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\nfunction rename(parent, path, itemNewName) {\n    let name;\n    let newName;\n    if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n        name = parent.currentItemText;\n        newName = itemNewName;\n    }\n    else {\n        let fPath = parent.filterPath;\n        if (parent.hasId) {\n            name = parent.currentItemText;\n            newName = itemNewName;\n        }\n        else {\n            fPath = fPath.replace(/\\\\/g, '/');\n            name = fPath.replace(path, '') + parent.currentItemText;\n            newName = fPath.replace(path, '') + itemNewName;\n        }\n    }\n    // eslint-disable-next-line\n    const data = {\n        action: 'rename', path: path, name: name, newName: newName, data: parent.itemData\n    };\n    createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\nfunction paste(parent, path, names, targetPath, pasteOperation, \n// eslint-disable-next-line\nrenameItems, actionRecords) {\n    // eslint-disable-next-line\n    const data = {\n        action: pasteOperation, path: path, targetData: parent.itemData[0],\n        targetPath: targetPath, names: names, renameFiles: renameItems, data: actionRecords\n    };\n    parent.destinationPath = targetPath;\n    createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction Delete(parent, items, path, operation) {\n    // eslint-disable-next-line\n    const data = { action: operation, path: path, names: items, data: parent.itemData };\n    createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\nfunction GetDetails(parent, names, path, operation) {\n    // eslint-disable-next-line\n    const data = { action: operation, path: path, names: names, data: parent.itemData };\n    createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\nfunction createAjax(\n// eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n    // eslint-disable-next-line\n    const ajaxSettings = {\n        url: parent.ajaxSettings.url,\n        type: 'POST',\n        mode: true,\n        dataType: 'json',\n        contentType: 'application/json',\n        data: JSON.stringify(data),\n        onSuccess: null,\n        onFailure: null,\n        beforeSend: null\n    };\n    const eventArgs = { action: getValue('action', data), ajaxSettings: ajaxSettings, cancel: false };\n    parent.trigger('beforeSend', eventArgs, (beforeSendArgs) => {\n        if (!beforeSendArgs.cancel) {\n            parent.notify(beforeRequest, {});\n            const ajax = new Ajax({\n                url: getValue('url', beforeSendArgs.ajaxSettings),\n                type: getValue('type', beforeSendArgs.ajaxSettings),\n                mode: getValue('mode', beforeSendArgs.ajaxSettings),\n                dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n                contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n                data: getValue('data', beforeSendArgs.ajaxSettings),\n                beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n                onSuccess: (result) => {\n                    if (isNullOrUndefined(result)) {\n                        const result = {\n                            error: {\n                                fileExists: null,\n                                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                                code: '406'\n                            },\n                            files: null\n                        };\n                        triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                        return;\n                    }\n                    if (typeof (result) === 'string') {\n                        result = JSON.parse(result);\n                    }\n                    parent.notify(afterRequest, { action: 'success' });\n                    const id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n                    if (!isNullOrUndefined(result.cwd) && (getValue('action', data) === 'read')) {\n                        result.cwd.name = (parent.pathId.length === 1) ? (parent.rootAliasName || result.cwd.name) : result.cwd.name;\n                        setValue('_fm_id', id, result.cwd);\n                        setValue(id, result.cwd, parent.feParent);\n                        if (!isNullOrUndefined(result.files) || result.error.code === '401') {\n                            if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                                // eslint-disable-next-line\n                                const root = getValue(parent.pathId[0], parent.feParent);\n                                parent.pathNames[0] = getValue('name', root);\n                                parent.hasId = !isNullOrUndefined(getValue('id', root));\n                            }\n                            if (event === 'finalize-end') {\n                                generatePath(parent);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(result.files)) {\n                        setDateObject(result.files);\n                        for (let i = 0, len = result.files.length; i < len; i++) {\n                            // eslint-disable-next-line\n                            const item = result.files[i];\n                            setValue('_fm_iconClass', fileType(item), item);\n                        }\n                        if (getValue('action', data) === 'read') {\n                            setNodeId(result, id);\n                            setValue(id, result.files, parent.feFiles);\n                        }\n                    }\n                    if (!isNullOrUndefined(result.details) && !isNullOrUndefined(parent.rootAliasName)) {\n                        const rootName = parent.rootAliasName || getValue('name', result.details);\n                        let location = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n                        if ((getValue('path', data) === '/') || (parent.hasId && getValue('path', data).match(/[/]/g).length === 1)) {\n                            if (getValue('names', data).length === 0) {\n                                setValue('name', rootName, result.details);\n                                location = rootName;\n                            }\n                            else {\n                                location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n                            }\n                        }\n                        else {\n                            location = location.replace(location.substring(0, location.indexOf('\\\\')), rootName);\n                        }\n                        setValue('location', location, result.details);\n                    }\n                    fn(parent, result, event, operation, targetPath);\n                    if (!isNullOrUndefined(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n                        parent.notify(searchTextChange, result);\n                    }\n                    if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n                        getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n                    }\n                },\n                onFailure: () => {\n                    const result = {\n                        files: null,\n                        error: {\n                            code: '404',\n                            message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n                            fileExists: null\n                        }\n                    };\n                    triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                }\n            });\n            ajax.send();\n        }\n    });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\nfunction triggerAjaxFailure(\n// eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n    parent.notify(afterRequest, { action: 'failure' });\n    fn(parent, result, event, operation, targetPath);\n    if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n        getValue('onFailure', beforeSendArgs.ajaxSettings)();\n    }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction readSuccess(parent, result, event) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        parent.notify(selectionChanged, {});\n        const args = { action: 'read', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        if (result.error.code === '401') {\n            result.files = [];\n            parent.notify(event, result);\n            parent.notify(selectionChanged, {});\n        }\n        onFailure(parent, result, 'read');\n    }\n    if (parent.isDragDrop && parent.isDropEnd) {\n        if (parent.droppedObjects.length !== 0) {\n            const args = { fileDetails: parent.droppedObjects };\n            parent.trigger('fileDropped', args);\n        }\n        parent.isDropEnd = parent.isDragDrop = false;\n    }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction filterSuccess(parent, result, event, action) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        const args = { action: action, result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, action);\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createSuccess(parent, result, itemName) {\n    if (!isNullOrUndefined(result.files)) {\n        if (parent.dialogObj && parent.dialogObj.visible) {\n            parent.dialogObj.hide();\n        }\n        parent.createdItem = result.files[0];\n        parent.breadcrumbbarModule.searchObj.value = '';\n        const args = { action: 'create', result: result };\n        parent.trigger('success', args);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, createEnd, parent.path);\n    }\n    else {\n        if (result.error.code === '400') {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                const ele = select('#newname', parent.dialogObj.element);\n                const error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n                ele.parentElement.nextElementSibling.innerHTML = error;\n            }\n            else {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '400',\n                        message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n            }\n            const args = { action: 'create', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'create');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\nfunction renameSuccess(parent, result, path) {\n    if (!isNullOrUndefined(result.files)) {\n        if (!isNullOrUndefined(parent.dialogObj)) {\n            parent.dialogObj.hide();\n        }\n        const args = { action: 'rename', result: result };\n        parent.trigger('success', args);\n        parent.renamedItem = result.files[0];\n        if (parent.activeModule === 'navigationpane') {\n            parent.pathId.pop();\n            parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n            read(parent, renameEndParent, getParentPath(parent.path));\n        }\n        else {\n            parent.itemData = [getPathObject(parent)];\n            if (parent.breadcrumbbarModule.searchObj.value !== '') {\n                Search(parent, renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n            }\n            else {\n                if (parent.isFiltered) {\n                    filter(parent, renameEnd);\n                }\n                else {\n                    read(parent, renameEnd, parent.path);\n                }\n            }\n        }\n    }\n    else {\n        if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n            const ele = select('#rename', parent.dialogObj.element);\n            let error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n            error = error.replace('{1}', '\"' + ele.value + '\"');\n            ele.parentElement.nextElementSibling.innerHTML = error;\n            const args = { action: 'rename', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (!isNullOrUndefined(parent.dialogObj)) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'rename');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction pasteSuccess(parent, result, path, operation) {\n    if (result.error && result.error.fileExists) {\n        parent.fileLength = 0;\n        if (!isNullOrUndefined(result.files)) {\n            parent.isPasteError = true;\n            doPasteUpdate(parent, operation, result);\n        }\n        createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n        if (result.error.code === '404') {\n            createDialog(parent, 'Error', result);\n        }\n    }\n    else if (!result.error && !isNullOrUndefined(result.files)) {\n        parent.isPasteError = false;\n        doPasteUpdate(parent, operation, result);\n    }\n    else if (result.error && !isNullOrUndefined(result.files)) {\n        parent.isPasteError = true;\n        doPasteUpdate(parent, operation, result);\n        createDialog(parent, 'Error', result);\n    }\n    else {\n        onFailure(parent, result, operation);\n    }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction deleteSuccess(parent, result, path) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.setProperties({ path: path }, true);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, deleteEnd, parent.path);\n        if (result.error) {\n            onFailure(parent, result, 'delete');\n        }\n        else {\n            const args = { action: 'delete', result: result };\n            parent.trigger('success', args);\n        }\n    }\n    else {\n        onFailure(parent, result, 'delete');\n    }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction detailsSuccess(\n// eslint:disable-next-line\nparent, result, path, operation) {\n    if (!isNullOrUndefined(result.details)) {\n        createDialog(parent, operation, null, result.details);\n        const args = { action: 'details', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'details');\n    }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction onFailure(parent, result, action) {\n    createDialog(parent, 'Error', result);\n    const args = { action: action, error: result.error };\n    parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\nfunction Search(\n// eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n    // eslint-disable-next-line\n    const data = {\n        action: 'search', path: path, searchString: searchString, showHiddenItems: showHiddenItems, caseSensitive: caseSensitive,\n        data: parent.itemData\n    };\n    createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction searchSuccess(parent, result, event) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        const args = { action: 'search', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'search');\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\nfunction Download(parent, path, items) {\n    const downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url;\n    // eslint-disable-next-line\n    const data = { 'action': 'download', 'path': path, 'names': items, 'data': parent.itemData };\n    const eventArgs = { data: data, cancel: false };\n    parent.trigger('beforeDownload', eventArgs, (downloadArgs) => {\n        if (!downloadArgs.cancel) {\n            const form = createElement('form', {\n                id: parent.element.id + '_downloadForm',\n                attrs: { action: downloadUrl, method: 'post', name: 'downloadForm', 'download': '' }\n            });\n            const input = createElement('input', {\n                id: parent.element.id + '_hiddenForm',\n                attrs: { name: 'downloadInput', value: JSON.stringify(downloadArgs.data), type: 'hidden' }\n            });\n            form.appendChild(input);\n            parent.element.appendChild(form);\n            document.forms.namedItem('downloadForm').submit();\n            parent.element.removeChild(form);\n        }\n    });\n}\n\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\nfunction createDialog(parent, text, e, details, replaceItems) {\n    const options = getOptions(parent, text, e, details, replaceItems);\n    if (isNullOrUndefined(parent.dialogObj)) {\n        parent.dialogObj = new Dialog({\n            beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n            beforeClose: (args) => {\n                triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n            },\n            header: options.header,\n            content: options.content,\n            buttons: options.buttons,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            allowDragging: true,\n            isModal: true,\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            width: '350px',\n            open: options.open,\n            close: options.close,\n            enableRtl: parent.enableRtl,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.dialogObj.isStringTemplate = true;\n        parent.dialogObj.appendTo('#' + parent.element.id + DIALOG_ID);\n    }\n    else {\n        changeOptions(parent, options);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\nfunction createExtDialog(parent, text, replaceItems, newPath) {\n    const extOptions = getExtOptions(parent, text, replaceItems, newPath);\n    parent.isApplySame = false;\n    if (isNullOrUndefined(parent.extDialogObj)) {\n        parent.extDialogObj = new Dialog({\n            beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n            beforeClose: (args) => {\n                triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n            },\n            content: extOptions.content,\n            header: extOptions.header,\n            closeOnEscape: true,\n            allowDragging: true,\n            animationSettings: { effect: 'None' },\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            enableRtl: parent.enableRtl,\n            showCloseIcon: true,\n            isModal: true,\n            width: 350,\n            buttons: extOptions.buttons,\n            open: extOptions.open,\n            close: extOptions.close,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.extDialogObj.isStringTemplate = true;\n        parent.extDialogObj.appendTo('#' + parent.element.id + EXTN_DIALOG_ID);\n    }\n    else {\n        parent.extDialogObj.header = extOptions.header;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.open = extOptions.open;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.content = extOptions.content;\n        parent.extDialogObj.buttons = extOptions.buttons;\n        parent.extDialogObj.enableRtl = parent.enableRtl;\n        parent.extDialogObj.locale = parent.locale;\n        parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n        parent.extDialogObj.beforeClose = (args) => {\n            triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n        };\n        parent.extDialogObj.dataBind();\n        parent.extDialogObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n    const eventArgs = {\n        cancel: args.cancel, popupName: dialogName, popupModule: dlgModule\n    };\n    parent.trigger('beforePopupOpen', eventArgs, (eventargs) => {\n        args.cancel = eventargs.cancel;\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n    const eventArgs = {\n        cancel: args.cancel, popupModule: dlgModule, popupName: dialogName\n    };\n    parent.trigger('beforePopupClose', eventArgs, (eventargs) => {\n        args.cancel = eventargs.cancel;\n        if (!args.cancel && args.isInteracted && ((dialogName === 'Rename') || (dialogName === 'Create Folder'))) {\n            parent.trigger(actionFailure, {});\n        }\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n    const args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n    const args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupClose', args);\n}\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n    const options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    let duplicateContent;\n    let item;\n    let index;\n    options.open = () => { triggerPopupOpen(parent, parent.extDialogObj, options.dialogName); };\n    options.close = () => { triggerPopupClose(parent, parent.extDialogObj, options.dialogName); };\n    switch (text) {\n        case 'Extension':\n            options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n            options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n            options.buttons = [{\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: () => {\n                        parent.extDialogObj.hide();\n                        rename(parent, newPath, parent.renameText);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: () => {\n                        parent.extDialogObj.hide();\n                        parent.dialogObj.hide();\n                    }\n                }];\n            options.dialogName = 'Extension Change';\n            break;\n        case 'DuplicateItems':\n            options.dialogName = 'Duplicate Items';\n            parent.replaceItems = replaceItems;\n            item = parent.replaceItems[parent.fileLength];\n            index = item.lastIndexOf('/');\n            item = index === -1 ? item : item.substring(index);\n            options.header = getLocaleText(parent, 'Header-Duplicate');\n            duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n            options.content = (duplicateContent).replace('{0}', item);\n            options.close = () => {\n                if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n                    const args = { fileDetails: parent.droppedObjects };\n                    parent.trigger('fileDropped', args);\n                    parent.isDropEnd = parent.isDragDrop = false;\n                }\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: () => {\n                        parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n                        parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            let item = parent.replaceItems[parent.fileLength];\n                            const indexval = item.lastIndexOf('/');\n                            item = indexval === -1 ? item : item.substring(indexval);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                            const path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                parent.folderPath);\n                            const action = parent.isDragDrop ? 'move' : parent.fileAction;\n                            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                        }\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: () => {\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            let item = parent.replaceItems[parent.fileLength];\n                            const ind = item.lastIndexOf('/');\n                            item = ind === -1 ? item : item.substring(ind);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            if (parent.duplicateItems.length !== 0) {\n                                const action = parent.isDragDrop ? 'move' : parent.fileAction;\n                                const targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                                const path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                    parent.folderPath);\n                                paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                            }\n                        }\n                    }\n                }\n            ];\n            break;\n        case 'UploadRetry':\n            options.dialogName = 'Retry Upload';\n            options.header = getLocaleText(parent, 'Header-Retry');\n            options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' +\n                (getLocaleText(parent, 'Content-Retry')) + '</div>';\n            options.open = onRetryOpen.bind(this, parent);\n            options.close = () => {\n                parent.isRetryOpened = false;\n                retryDlgClose(parent);\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Keep-Both') },\n                    click: () => {\n                        retryDlgUpdate(parent, true);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Replace') },\n                    click: () => {\n                        retryDlgUpdate(parent, false);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Skip') },\n                    click: () => {\n                        let count = 0;\n                        if (parent.isApplySame) {\n                            count = parent.retryFiles.length;\n                            parent.retryFiles = [];\n                            retryDlgClose(parent);\n                        }\n                        else {\n                            count = 1;\n                            parent.retryFiles.splice(0, 1);\n                            if (parent.retryFiles.length !== 0) {\n                                createExtDialog(parent, 'UploadRetry');\n                            }\n                            else {\n                                retryDlgClose(parent);\n                            }\n                        }\n                        parent.notify(skipUpload, { count: count });\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\nfunction retryDlgUpdate(parent, isKeepBoth) {\n    if (parent.isApplySame) {\n        if (isKeepBoth) {\n            onKeepBothAll(parent);\n        }\n        else {\n            onReplaceAll(parent);\n        }\n        retryDlgClose(parent);\n    }\n    else {\n        parent.retryArgs.push({\n            action: isKeepBoth ? 'keepboth' : 'replace',\n            file: parent.retryFiles[0]\n        });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n        if (parent.retryFiles.length !== 0) {\n            createExtDialog(parent, 'UploadRetry');\n        }\n        else {\n            retryDlgClose(parent);\n        }\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction retryDlgClose(parent) {\n    let flag = true;\n    if (parent.isRetryOpened) {\n        parent.isRetryOpened = false;\n    }\n    else {\n        flag = false;\n    }\n    const ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n    if (ele) {\n        remove(ele);\n    }\n    if (flag) {\n        parent.extDialogObj.hide();\n    }\n    else {\n        parent.retryFiles = [];\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction onRetryOpen(parent, args) {\n    parent.isRetryOpened = true;\n    const dialogEle = getValue('element', args);\n    const container = select('.e-dlg-content', dialogEle);\n    const checkContainer = parent.createElement('div', {\n        className: 'e-dlg-checkbox'\n    });\n    const checkbox = parent.createElement('input', {\n        id: parent.element.id + '_applyall'\n    });\n    checkContainer.appendChild(checkbox);\n    container.appendChild(checkContainer);\n    const checkBoxObj = new CheckBox({\n        label: getLocaleText(parent, 'ApplyAll-Label'),\n        change: (args) => {\n            parent.isApplySame = args.checked;\n        }\n    });\n    checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n    triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onKeepBothAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'keepboth', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReplaceAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'replace', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction focusInput(parent) {\n    const ele = select('#newname', parent.dialogObj.element);\n    ele.focus();\n    ele.value = '';\n    const len = ele.value.length;\n    ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onFolderDialogOpen(parent) {\n    const ele = select('#newname', parent.dialogObj.element);\n    if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n    }\n    ele.parentElement.nextElementSibling.innerHTML = '';\n    ele.oninput = () => {\n        onValidate(parent, ele);\n    };\n    ele.onkeyup = (e) => {\n        const code = getKeyCode(e);\n        if (code === 13) {\n            onSubmit(parent);\n        }\n    };\n    focusInput(parent);\n    triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onRenameDialogOpen(parent) {\n    const inputEle = select('#rename', parent.dialogObj.element);\n    if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n    }\n    inputEle.parentElement.nextElementSibling.innerHTML = '';\n    inputEle.oninput = () => {\n        onValidate(parent, inputEle);\n    };\n    inputEle.onkeyup = (e) => {\n        const code = getKeyCode(e);\n        if (code === 13) {\n            onReSubmit(parent);\n        }\n    };\n    onFocusRenameInput(parent, inputEle);\n    triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onFocusRenameInput(parent, inputEle) {\n    inputEle.focus();\n    let txt = '';\n    if (parent.isFile && !parent.showFileExtension) {\n        const index = parent.currentItemText.lastIndexOf('.');\n        txt = (index === -1) ? parent.currentItemText : parent.currentItemText.substring(0, index);\n    }\n    else {\n        txt = parent.currentItemText;\n    }\n    inputEle.value = txt;\n    if (parent.isFile && parent.showFileExtension && (inputEle.value.indexOf('.') !== -1)) {\n        inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n    }\n    else {\n        inputEle.setSelectionRange(0, inputEle.value.length);\n    }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\nfunction createInput(ele, placeholder) {\n    Input.createInput({\n        element: ele,\n        properties: {\n            placeholder: placeholder\n        }\n    });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\nfunction getOptions(parent, text, e, details, replaceItems) {\n    const options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    let permission;\n    let formattedString;\n    let intl;\n    let strArr;\n    let fileType$$1;\n    let location;\n    options.open = () => { triggerPopupOpen(parent, parent.dialogObj, options.dialogName); };\n    options.close = () => { triggerPopupClose(parent, parent.dialogObj, options.dialogName); };\n    text = (details && details.multipleFiles === true) ? 'MultipleFileDetails' : text;\n    switch (text) {\n        case 'NewFolder':\n            options.dialogName = 'Create Folder';\n            options.header = getLocaleText(parent, 'Header-NewFolder');\n            options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Create') },\n                    click: (e) => {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onFolderDialogOpen.bind(this, parent);\n            break;\n        case 'Delete':\n            options.dialogName = 'Delete';\n            if (parent.selectedItems.length > 1) {\n                options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>')\n                    .replace('{0}', parent.selectedItems.length.toString());\n                options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n            }\n            else {\n                options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n                options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n            }\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: (e) => {\n                        onDeleteSubmit(parent);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: () => {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Rename':\n            options.dialogName = 'Rename';\n            options.header = getLocaleText(parent, 'Header-Rename');\n            options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Save') },\n                    click: (e) => {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onReSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onRenameDialogOpen.bind(this, parent);\n            break;\n        case 'details':\n            options.dialogName = 'File Details';\n            intl = new Internationalization(parent.locale);\n            formattedString = intl.formatDate(new Date(details.modified), { format: 'MMMM dd, yyyy HH:mm:ss' });\n            permission = '';\n            if (!isNullOrUndefined(details.permission)) {\n                permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + VALUE + '\" >'\n                    + objectToString(details.permission) + '</td></tr>';\n            }\n            options.header = details.name;\n            options.content = '<table>' +\n                '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + VALUE + '\" title=\"' +\n                (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + VALUE + '\" title =\"' +\n                details.size + '\">' + details.size + '</span></td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + VALUE + '\" title=\"' +\n                details.location + '\">' + details.location + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + VALUE + '\" >'\n                + formattedString + '</td></tr>'\n                + permission + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: (e) => {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'MultipleFileDetails':\n            options.dialogName = 'File Details';\n            strArr = details.name.split(',').map((val) => {\n                const index = val.indexOf('.') + 1;\n                return (index === 0) ? 'Folder' : val.substr(index).replace(' ', '');\n            });\n            fileType$$1 = strArr.every((val, i, arr) => val === arr[0]) ?\n                ((strArr[0] === 'Folder') ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type') : 'Multiple Types';\n            location = details.location;\n            options.header = details.name;\n            options.content = '<table><tr><td>' + getLocaleText(parent, 'Type')\n                + ':</td><td class=\"' + VALUE + '\">' + fileType$$1 + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' +\n                details.size + '<span class=\"' + VALUE + '\" title =\"' + details.size\n                + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') +\n                ':</td><td class=\"' + VALUE + '\" title=\"' + location + '\">'\n                + location + '</td></tr>' + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: (e) => {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Error':\n            parent.notify(actionFailure, {});\n            options.dialogName = 'Error';\n            if (e.error.code === '401') {\n                options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' +\n                    getLocaleText(parent, 'Access-Denied') + '</div>';\n            }\n            else {\n                options.header = getLocaleText(parent, 'Error');\n            }\n            options.content = '<div class=\"' + ERROR_CONTENT + '\">' + e.error.message + '</div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: (e) => {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction keydownAction(parent, dialogName, args) {\n    const btnElement = selectAll('.e-btn', parent.dialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction beforeExtOpen(parent, dlgName, args) {\n    const btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\nfunction preventKeydown(btnElement) {\n    for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n        btnElement[btnCount].onkeydown = (e) => {\n            if (e.keyCode === 13) {\n                e.preventDefault();\n            }\n        };\n        btnElement[btnCount].onkeyup = (e) => {\n            if (e.keyCode === 13) {\n                btnElement[btnCount].click();\n            }\n        };\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\nfunction changeOptions(parent, options) {\n    parent.dialogObj.header = options.header;\n    parent.dialogObj.content = options.content;\n    parent.dialogObj.buttons = options.buttons;\n    parent.dialogObj.enableRtl = parent.enableRtl;\n    parent.dialogObj.open = options.open;\n    parent.dialogObj.close = options.close;\n    parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n    parent.dialogObj.beforeClose = (args) => {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n    };\n    parent.dialogObj.dataBind();\n    parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onSubmit(parent) {\n    const ele = select('#newname', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReSubmit(parent) {\n    const ele = select('#rename', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    let text = ele.value;\n    const oIndex = parent.currentItemText.lastIndexOf('.');\n    if (parent.isFile && !parent.showFileExtension) {\n        const extn = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        text += extn;\n    }\n    parent.renameText = text;\n    if (parent.currentItemText === text) {\n        parent.dialogObj.hide();\n        return;\n    }\n    const newPath = (parent.activeModule === 'navigationpane') ? getParentPath(parent.path) : parent.path;\n    parent.renamedId = getValue('id', parent.itemData[0]);\n    if (parent.isFile) {\n        const oldExtension = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        const nIndex = text.lastIndexOf('.');\n        const newExtension = (nIndex === -1) ? '' : text.substr(nIndex);\n        if (parent.showFileExtension && oldExtension !== newExtension) {\n            createExtDialog(parent, 'Extension', null, newPath);\n        }\n        else {\n            rename(parent, newPath, text);\n        }\n    }\n    else {\n        rename(parent, newPath, text);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onDeleteSubmit(parent) {\n    parent.dialogObj.hide();\n    parent.notify(deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onValidate(parent, ele) {\n    if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n        addInvalid(parent, ele);\n    }\n    else if (ele.value === '') {\n        ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = '';\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onSubmitValidate(parent, ele) {\n    onValidate(parent, ele);\n    const len = ele.value.length - 1;\n    if (ele.value !== '' && ((ele.value.lastIndexOf('.') === len) || (ele.value.lastIndexOf(' ') === len)) &&\n        (parent.showFileExtension || (parent.currentItemText.lastIndexOf('.') === -1))) {\n        addInvalid(parent, ele);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction addInvalid(parent, ele) {\n    const error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n    if (parent.enableHtmlSanitizer) {\n        ele.parentElement.nextElementSibling.textContent = error;\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = error;\n    }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\nfunction getKeyCode(e) {\n    let code;\n    if (e.keyCode) {\n        code = e.keyCode;\n    }\n    else if (e.which) {\n        code = e.which;\n    }\n    else {\n        code = e.charCode;\n    }\n    return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\nfunction createImageDialog(parent, header, imageUrl) {\n    const content = createElement('div', { className: 'e-image-wrap' });\n    const image = createElement('img', { className: 'e-image', attrs: { src: imageUrl, alt: header } });\n    content.appendChild(image);\n    if (isNullOrUndefined(parent.viewerObj)) {\n        parent.viewerObj = new Dialog({\n            header: header,\n            content: content,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            isModal: true,\n            width: '350px',\n            height: '350px',\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            locale: parent.locale,\n            enableResize: true,\n            allowDragging: true,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: parent.enableRtl,\n            open: openImage.bind(this, parent),\n            close: () => { triggerPopupClose(parent, parent.viewerObj, 'Image Preview'); },\n            beforeOpen: (args) => {\n                triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            beforeClose: (args) => {\n                triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            resizing: updateImage.bind(this, parent),\n            resizeStop: updateImage.bind(this, parent)\n        });\n        parent.viewerObj.isStringTemplate = true;\n        parent.viewerObj.appendTo('#' + parent.element.id + IMG_DIALOG_ID);\n    }\n    else {\n        parent.viewerObj.refresh();\n        parent.viewerObj.header = header;\n        parent.viewerObj.content = content;\n        parent.viewerObj.enableRtl = parent.enableRtl;\n        parent.viewerObj.dataBind();\n        parent.viewerObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openImage(parent) {\n    setTimeout(() => {\n        if (parent.viewerObj) {\n            parent.viewerObj.element.focus();\n        }\n    });\n    updateImage(parent);\n    triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction updateImage(parent) {\n    const content = select('.e-dlg-content', parent.viewerObj.element);\n    const imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n    const cssObj = window.getComputedStyle(content, null);\n    const paddingWidth = cssObj ? (2 * parseFloat(cssObj.paddingRight)) : 36;\n    const paddingHeight = cssObj ? (2 * parseFloat(cssObj.paddingBottom)) : 20;\n    imgWrap.style.width = (content.offsetWidth - paddingWidth) + 'px';\n    imgWrap.style.height = (content.offsetHeight - paddingHeight) + 'px';\n}\n\n/**\n * File Manager common operations\n */\n\n/**\n * LargeIconsView module\n */\nclass LargeIconsView {\n    /**\n     * Constructor for the LargeIcons module.\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    constructor(parent) {\n        this.isInteraction = true;\n        this.uploadOperation = false;\n        this.count = 0;\n        this.isRendered = true;\n        this.tapCount = 0;\n        this.isPasteOperation = false;\n        this.isInteracted = true;\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n        addClass([this.element], LARGE_ICONS);\n        this.addEventListener();\n        this.keyConfigs = {\n            end: 'end',\n            home: 'home',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            ctrlUp: 'ctrl+uparrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftLeft: 'shift+leftarrow',\n            shiftRight: 'shift+rightarrow',\n            shiftUp: 'shift+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csLeft: 'ctrl+shift+leftarrow',\n            csRight: 'ctrl+shift+rightarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: 'ctrl+x',\n            ctrlC: 'ctrl+c',\n            ctrlV: 'ctrl+v',\n            f2: 'f2',\n            shiftdel: 'shift+delete',\n            back: 'backspace',\n            ctrlD: 'ctrl+d'\n        };\n    }\n    render(args) {\n        this.parent.visitedItem = null;\n        this.startItem = null;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'LargeIcons') {\n            this.resetMultiSelect();\n            this.element.setAttribute('tabindex', '0');\n            if (this.listObj) {\n                this.unWireEvents();\n                this.removeEventListener();\n            }\n            this.parent.notify(hideLayout, {});\n            const iconsView = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n            const ul = select('ul', iconsView);\n            if (ul) {\n                remove(ul);\n            }\n            this.listObj = {\n                ariaAttributes: {\n                    itemRole: 'option', listRole: 'listbox', itemText: '',\n                    groupItemRole: 'group', wrapperRole: ''\n                },\n                showIcon: true,\n                fields: { text: 'name', iconCss: '_fm_icon', imageUrl: '_fm_imageUrl', htmlAttributes: '_fm_htmlAttr' },\n                sortOrder: this.parent.sortOrder,\n                itemCreated: this.onItemCreated.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n            };\n            this.items = [];\n            this.items = this.renderList(args);\n            this.items = getSortedData(this.parent, this.items);\n            // eslint-disable-next-line\n            this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n            this.itemList = Array.prototype.slice.call(selectAll('.' + LIST_ITEM, this.listElements));\n            this.element.appendChild(this.listElements);\n            this.preventImgDrag();\n            this.createDragObj();\n            iconsView.classList.remove(DISPLAY_NONE);\n            if (this.itemList.length === 0) {\n                const emptyList = this.element.querySelector('.' + LIST_PARENT);\n                this.element.removeChild(emptyList);\n                createEmptyElement(this.parent, this.element, args);\n            }\n            else if (this.itemList.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n                this.element.removeChild(this.element.querySelector('.' + EMPTY));\n            }\n            if (this.isPasteOperation === true) {\n                this.selectItems(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            /* istanbul ignore next */\n            if (this.uploadOperation === true) {\n                this.selectItems(this.parent.uploadItem);\n                this.parent.setProperties({ selectedItems: [] }, true);\n                this.count++;\n                if (this.count === this.parent.uploadItem.length) {\n                    this.uploadOperation = false;\n                    this.parent.uploadItem = [];\n                }\n            }\n            const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            if (activeEle.length !== 0) {\n                this.parent.activeModule = 'largeiconsview';\n            }\n            for (let i = 0; i < activeEle.length; i++) {\n                activeEle[i].setAttribute('aria-selected', 'true');\n            }\n            this.adjustHeight();\n            this.element.style.maxHeight = '100%';\n            this.getItemCount();\n            this.addEventListener();\n            this.wireEvents();\n            this.isRendered = true;\n            hideSpinner(this.parent.element);\n            if (this.parent.selectedItems.length) {\n                this.checkItem();\n            }\n        }\n    }\n    preventImgDrag() {\n        let i = 0;\n        while (i < this.itemList.length) {\n            if (this.itemList[i].querySelector('img')) {\n                /* istanbul ignore next */\n                this.itemList[i].ondragstart = () => { return false; };\n            }\n            i++;\n        }\n    }\n    createDragObj() {\n        if (!this.parent.isMobile && this.listObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.listElements, {\n                    enableTailMode: true,\n                    distance: 5,\n                    enableAutoScroll: true,\n                    dragTarget: '.' + LARGE_ICON,\n                    helper: this.dragHelper.bind(this),\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragArea: this.parent.element,\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    drag: draggingHandler.bind(this, this.parent),\n                    clone: true,\n                    dragStart: (args) => {\n                        dragStartHandler(this.parent, args, this.dragObj);\n                    }\n                });\n            }\n            else if (this.dragObj && !this.parent.allowDragAndDrop) {\n                this.dragObj.destroy();\n            }\n        }\n    }\n    dragHelper(args) {\n        const dragTarget = args.sender.target;\n        const dragLi = closest(dragTarget, '.e-list-item');\n        if (!dragLi) {\n            return null;\n        }\n        if (dragLi && !dragLi.classList.contains('e-active')) {\n            this.setFocus(dragLi);\n        }\n        const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        for (let i = 0; i < activeEle.length; i++) {\n            // eslint-disable-next-line\n            this.parent.dragData.push(this.getItemObject(activeEle[i]));\n            this.parent.activeElements.push(activeEle[i]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.dragPath = this.parent.path;\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    }\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            const dropLi = closest(args.target, '.e-list-item');\n            // eslint-disable-next-line\n            const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (dropLi) {\n                // eslint-disable-next-line\n                const info = this.getItemObject(dropLi);\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n            else {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    getModuleName() {\n        return 'largeiconsview';\n    }\n    adjustHeight() {\n        const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n        const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n        this.element.style.height = (pane.offsetHeight - bar.offsetHeight) + 'px';\n    }\n    onItemCreated(args) {\n        args.item.removeAttribute('aria-level');\n        if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n            const textEle = args.item.querySelector('.' + LIST_TEXT);\n            const txt = getValue('name', args.curData);\n            const type = getValue('type', args.curData);\n            textEle.innerHTML = txt.substr(0, txt.length - type.length);\n        }\n        this.renderCheckbox(args);\n        const eventArgs = {\n            element: args.item,\n            fileDetails: args.curData,\n            module: 'LargeIconsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    }\n    renderCheckbox(args) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        const checkElement = createCheckBox(createElement, false, {\n            checked: false,\n            cssClass: 'e-small'\n        });\n        checkElement.setAttribute('role', 'checkbox');\n        checkElement.setAttribute('aria-checked', 'false');\n        args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n    }\n    onLayoutChange(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.destroy();\n            this.render(args);\n            /* istanbul ignore next */\n            if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' &&\n                this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n                const indexes = this.getIndexes(this.parent.selectedNodes);\n                let length = 0;\n                while (length < indexes.length) {\n                    addBlur(this.itemList[indexes[length]]);\n                    length++;\n                }\n            }\n            const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            if (activeEle.length !== 0) {\n                this.element.focus();\n            }\n            this.checkItem();\n            this.parent.isLayoutChange = false;\n        }\n        else {\n            this.element.setAttribute('tabindex', '-1');\n        }\n    }\n    checkItem() {\n        const checkEle = this.element.querySelectorAll('.' + ACTIVE);\n        if (checkEle) {\n            let checkLength = 0;\n            while (checkLength < checkEle.length) {\n                this.checkState(checkEle[checkLength], true);\n                checkLength++;\n            }\n        }\n    }\n    // eslint-disable-next-line\n    renderList(args) {\n        let i = 0;\n        // eslint-disable-next-line\n        const items = JSON.parse(JSON.stringify(args.files));\n        while (i < items.length) {\n            const icon = fileType(items[i]);\n            const name = getValue('name', items[i]);\n            const selected = getItemName(this.parent, items[i]);\n            let className = ((this.parent.selectedItems &&\n                this.parent.selectedItems.indexOf(selected) !== -1)) ?\n                LARGE_ICON + ' e-active' : LARGE_ICON;\n            if (!hasEditAccess(items[i])) {\n                className += ' ' + getAccessClass(items[i]);\n            }\n            if (icon === ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n                const imgUrl = getImageUrl(this.parent, items[i]);\n                setValue('_fm_imageUrl', imgUrl, items[i]);\n                setValue('_fm_imageAttr', { alt: name }, items[i]);\n            }\n            else {\n                setValue('_fm_icon', icon, items[i]);\n            }\n            setValue('_fm_htmlAttr', { class: className, title: name }, items[i]);\n            i++;\n        }\n        return items;\n    }\n    onFinalizeEnd(args) {\n        this.render(args);\n    }\n    onCreateEnd(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.clearSelect();\n        this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n        this.parent.createdItem = null;\n        this.parent.largeiconsviewModule.element.focus();\n    }\n    onSelectedData() {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.updateSelectedData();\n        }\n    }\n    onDeleteInit() {\n        if (this.parent.activeModule === 'largeiconsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    }\n    /* istanbul ignore next */\n    onDeleteEnd(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.clearSelect();\n    }\n    onRefreshEnd(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n    }\n    onRenameInit() {\n        if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    }\n    onPathChanged(args) {\n        this.parent.isCut = false;\n        /* istanbul ignore next */\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n            this.parent.searchedItems = [];\n        }\n        if (this.parent.view === 'LargeIcons') {\n            removeBlur(this.parent);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.onLayoutChange(args);\n            if (this.parent.renamedItem) {\n                this.clearSelect();\n                this.addSelection(this.parent.renamedItem);\n                this.parent.renamedItem = null;\n            }\n        }\n    }\n    onOpenInit(args) {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.doOpenAction(args.target);\n        }\n    }\n    onHideLayout() {\n        if (this.parent.view !== 'LargeIcons' && this.element) {\n            this.element.classList.add(DISPLAY_NONE);\n        }\n    }\n    onSelectAllInit() {\n        if (this.parent.view === 'LargeIcons') {\n            this.startItem = this.getFirstItem();\n            const lastItem = this.getLastItem();\n            const eveArgs = { ctrlKey: true, shiftKey: true };\n            this.doSelection(lastItem, eveArgs);\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    }\n    onClearAllInit() {\n        if (this.parent.view === 'LargeIcons') {\n            this.clearSelection();\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    }\n    onBeforeRequest() {\n        this.isRendered = false;\n    }\n    onAfterRequest() {\n        this.isRendered = true;\n    }\n    /* istanbul ignore next */\n    onSearch(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(selectionChanged, {});\n            this.parent.searchedItems = args.files;\n            this.onLayoutChange(args);\n        }\n    }\n    onLayoutRefresh() {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.adjustHeight();\n    }\n    onUpdateSelectionData() {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.updateSelectedData();\n    }\n    onPathColumn() {\n        if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(this.listObj) &&\n            this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered\n            && this.parent.sortBy === 'filterPath') {\n            this.parent.sortBy = 'name';\n            this.parent.notify(sortByChange, {});\n        }\n    }\n    removeEventListener() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(pathColumn, this.onPathColumn);\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(search, this.onSearch);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(openEnd, this.onPathChanged);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(methodCall, this.onMethodCall);\n        this.parent.off(actionFailure, this.onActionFailure);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onPathChanged);\n        this.parent.off(hideLayout, this.onHideLayout);\n        this.parent.off(selectAllInit, this.onSelectAllInit);\n        this.parent.off(clearAllInit, this.onClearAllInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(beforeRequest, this.onBeforeRequest);\n        this.parent.off(afterRequest, this.onAfterRequest);\n        this.parent.off(splitterResize, this.splitterResizeHandler);\n        this.parent.off(resizeEnd, this.resizeHandler);\n        this.parent.off(pasteInit, this.onpasteInit);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n        this.parent.off(filterEnd, this.onPathChanged);\n    }\n    addEventListener() {\n        this.parent.on(pathColumn, this.onPathColumn, this);\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(pasteInit, this.onpasteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(search, this.onSearch, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onPathChanged, this);\n        this.parent.on(openEnd, this.onPathChanged, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(methodCall, this.onMethodCall, this);\n        this.parent.on(actionFailure, this.onActionFailure, this);\n        this.parent.on(hideLayout, this.onHideLayout, this);\n        this.parent.on(selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(clearAllInit, this.onClearAllInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(afterRequest, this.onAfterRequest, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(splitterResize, this.splitterResizeHandler, this);\n        this.parent.on(resizeEnd, this.resizeHandler, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n        this.parent.on(filterEnd, this.onPathChanged, this);\n    }\n    onActionFailure() { this.isInteraction = true; this.isInteracted = true; }\n    // eslint-disable-next-line\n    onMenuItemData(args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            const ele = closest(args.target, 'li');\n            this.parent.itemData = [this.getItemObject(ele)];\n        }\n    }\n    onDetailsInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.updateSelectedData();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    }\n    onpasteInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath === '') ? [getPathObject(this.parent)] :\n                [this.getItemObject(select('.e-active', this.element))];\n        }\n    }\n    oncutCopyInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            const activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            this.parent.activeRecords = [];\n            this.parent.activeElements = [];\n            for (let i = 0; i < activeEle.length; i++) {\n                this.parent.activeElements.push(activeEle[i]);\n                this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n            }\n        }\n    }\n    onpasteEnd(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    }\n    onDropPath(args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    }\n    onPropertyChanged(e) {\n        let currentSelected;\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'selectedItems':\n                    this.isInteraction = false;\n                    this.isInteracted = false;\n                    currentSelected = isNullOrUndefined(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n                    currentSelected = this.parent.allowMultiSelection ? currentSelected :\n                        currentSelected.slice(currentSelected.length - 1);\n                    this.parent.setProperties({ selectedItems: [] }, true);\n                    this.onClearAllInit();\n                    if (currentSelected.length) {\n                        this.selectItems(currentSelected);\n                    }\n                    this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    this.isInteraction = true;\n                    this.isInteracted = true;\n                    break;\n                case 'showThumbnail':\n                    refresh(this.parent);\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.parent.view !== 'LargeIcons') {\n                        break;\n                    }\n                    refresh(this.parent);\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'LargeIcons');\n                    break;\n            }\n        }\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.listObj) {\n            this.unWireEvents();\n        }\n    }\n    wireEvents() {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    }\n    unWireEvents() {\n        this.wireClickEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n    }\n    /* istanbul ignore next */\n    onMouseOver(e) {\n        const targetEle = closest(e.target, '.e-list-item');\n        removeBlur(this.parent, 'hover');\n        if (targetEle !== null) {\n            targetEle.classList.add(HOVER);\n        }\n    }\n    wireClickEvent(toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            const proxy = this;\n            this.clickObj = new Touch(this.element, {\n                tap: (eve) => {\n                    eve.originalEvent.preventDefault();\n                    if (proxy.parent.isDevice) {\n                        proxy.tapCount = eve.tapCount;\n                        proxy.tapEvent = eve;\n                        setTimeout(() => {\n                            if (proxy.tapCount > 0) {\n                                proxy.doTapAction(proxy.tapEvent);\n                            }\n                            proxy.tapCount = 0;\n                        }, 350);\n                    }\n                    else {\n                        if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n                            proxy.dblClickHandler(eve);\n                        }\n                        else {\n                            proxy.clickHandler(eve);\n                        }\n                    }\n                },\n                tapHold: (e) => {\n                    if (proxy.parent.isDevice) {\n                        proxy.multiSelect = proxy.parent.allowMultiSelection ? true : false;\n                        if (proxy.parent.allowMultiSelection) {\n                            addClass([proxy.parent.element], MULTI_SELECT);\n                        }\n                        proxy.clickHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    }\n    doTapAction(eve) {\n        const target = eve.originalEvent.target;\n        const item = closest(target, '.' + LIST_ITEM);\n        if (this.multiSelect || target.classList.contains(LIST_PARENT) || isNullOrUndefined(item)) {\n            this.clickHandler(eve);\n        }\n        else {\n            this.parent.isFile = false;\n            this.updateType(item);\n            if (!this.parent.isFile) {\n                this.dblClickHandler(eve);\n            }\n            else if (eve.tapCount === 2) {\n                this.clickHandler(eve);\n                this.dblClickHandler(eve);\n            }\n            else {\n                this.clickHandler(eve);\n            }\n        }\n    }\n    clickHandler(e) {\n        const target = e.originalEvent.target;\n        removeBlur(this.parent, 'hover');\n        this.doSelection(target, e.originalEvent);\n        this.parent.activeModule = 'largeiconsview';\n    }\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n     * @returns {void}\n     * @hidden\n     */\n    doSelection(target, e) {\n        const item = closest(target, '.' + LIST_ITEM);\n        const cList = target.classList;\n        this.parent.isFile = false;\n        let action = 'select';\n        if (e.which === 3 && !isNullOrUndefined(item) && item.classList.contains(ACTIVE)) {\n            this.updateType(item);\n            return;\n        }\n        else if (!isNullOrUndefined(item)) {\n            if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)\n                && (e.ctrlKey || target.classList.contains(CHECK))) {\n                action = 'unselect';\n            }\n            const fileSelectionArgs = this.triggerSelection(action, item);\n            if (fileSelectionArgs.cancel !== true) {\n                if ((!this.parent.allowMultiSelection || (!this.multiSelect && (e && !e.ctrlKey)))\n                    && !cList.contains(FRAME)) {\n                    this.updateType(item);\n                    this.clearSelect();\n                }\n                if (this.parent.allowMultiSelection && e.shiftKey) {\n                    if (!(e && e.ctrlKey)) {\n                        this.clearSelect();\n                    }\n                    if (!this.startItem) {\n                        this.startItem = item;\n                    }\n                    const startIndex = this.itemList.indexOf(this.startItem);\n                    const endIndex = this.itemList.indexOf(item);\n                    if (startIndex > endIndex) {\n                        for (let i = startIndex; i >= endIndex; i--) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    else {\n                        for (let i = startIndex; i <= endIndex; i++) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    this.addFocus(this.itemList[endIndex]);\n                }\n                else {\n                    this.startItem = item;\n                    if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)) {\n                        this.removeActive(item);\n                    }\n                    else {\n                        this.addActive(item);\n                    }\n                    this.addFocus(item);\n                }\n                if (this.parent.selectedItems.length === 0) {\n                    this.resetMultiSelect();\n                }\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect(action, item);\n            }\n        }\n        else {\n            this.clearSelection();\n        }\n        if (!isNullOrUndefined(item)) {\n            this.updateType(item);\n        }\n    }\n    dblClickHandler(e) {\n        this.parent.activeModule = 'largeiconsview';\n        const target = e.originalEvent.target;\n        this.doOpenAction(target);\n    }\n    clearSelection() {\n        this.clearSelect();\n        this.resetMultiSelect();\n        this.parent.notify(selectionChanged, {});\n    }\n    resetMultiSelect() {\n        this.multiSelect = false;\n        removeClass([this.parent.element], MULTI_SELECT);\n    }\n    doOpenAction(target) {\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        const item = closest(target, '.' + LIST_ITEM);\n        this.parent.isFile = false;\n        if (!isNullOrUndefined(item)) {\n            this.updateType(item);\n            // eslint-disable-next-line\n            const details = this.getItemObject(item);\n            if (!hasReadAccess(details)) {\n                createDeniedDialog(this.parent, details, permissionRead);\n                return;\n            }\n            const eventArgs = { cancel: false, fileDetails: details, module: 'LargeIconsView' };\n            this.parent.trigger('fileOpen', eventArgs, (fileOpenArgs) => {\n                if (!fileOpenArgs.cancel) {\n                    const text = getValue('name', details);\n                    if (!this.parent.isFile) {\n                        const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n                        if (val === '' && !this.parent.isFiltered) {\n                            const id = getValue('id', details);\n                            const newPath = this.parent.path + (isNullOrUndefined(id) ? text : id) + '/';\n                            this.parent.setProperties({ path: newPath }, true);\n                            this.parent.pathNames.push(text);\n                            this.parent.pathId.push(getValue('_fm_id', details));\n                            this.parent.itemData = [details];\n                            openAction(this.parent);\n                        }\n                        else {\n                            openSearchFolder(this.parent, details);\n                        }\n                        this.parent.isFiltered = false;\n                        this.parent.setProperties({ selectedItems: [] }, true);\n                    }\n                    else {\n                        const icon = fileType(details);\n                        if (icon === ICON_IMAGE) {\n                            const imgUrl = getImageUrl(this.parent, details);\n                            createImageDialog(this.parent, text, imgUrl);\n                        }\n                    }\n                }\n            });\n        }\n    }\n    updateType(item) {\n        const folder = select('.' + FOLDER, item);\n        this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keydownActionHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'moveDown':\n            case 'moveLeft':\n            case 'moveRight':\n            case 'moveUp':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keyActionHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        const fItem = this.getFocusedItem();\n        const firstItem = this.getFirstItem();\n        const lastItem = this.getLastItem();\n        switch (e.action) {\n            case 'end':\n                this.navigateItem(lastItem);\n                break;\n            case 'home':\n                this.navigateItem(firstItem);\n                break;\n            case 'tab':\n                if (!isNullOrUndefined(fItem)) {\n                    this.addFocus(fItem);\n                }\n                else if (!isNullOrUndefined(firstItem)) {\n                    this.addFocus(firstItem);\n                }\n                break;\n            case 'moveDown':\n                this.navigateDown(fItem, true);\n                break;\n            case 'moveLeft':\n                this.navigateRight(fItem, false);\n                break;\n            case 'moveRight':\n                this.navigateRight(fItem, true);\n                break;\n            case 'moveUp':\n                this.navigateDown(fItem, false);\n                break;\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n                this.csEndKey(lastItem, e);\n                break;\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n                this.csHomeKey(firstItem, e);\n                break;\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n                this.csDownKey(fItem, e);\n                break;\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n                this.csLeftKey(fItem, e);\n                break;\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n                this.csRightKey(fItem, e);\n                break;\n            case 'ctrlUp':\n            case 'shiftUp':\n            case 'csUp':\n                this.csUpKey(fItem, e);\n                break;\n            case 'space':\n                this.spaceKey(fItem);\n                break;\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n                if (!isNullOrUndefined(fItem)) {\n                    this.doSelection(fItem, e);\n                }\n                break;\n            case 'ctrlA':\n                this.ctrlAKey(firstItem, lastItem);\n                break;\n            case 'enter':\n                this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n                break;\n            case 'altEnter':\n                this.parent.notify(detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n        }\n    }\n    doDownload() {\n        this.updateSelectedData();\n        doDownload(this.parent);\n    }\n    performDelete() {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.updateSelectedData();\n            // eslint-disable-next-line\n            const data = this.parent.itemData;\n            for (let i = 0; i < data.length; i++) {\n                if (!hasEditAccess(data[i])) {\n                    createDeniedDialog(this.parent, data[i], permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    }\n    performRename() {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    }\n    updateRenameData() {\n        const item = select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        updateRenamingData(this.parent, data);\n    }\n    getVisitedItem() {\n        const item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n        const indexes = this.getIndexes([item], this.parent.hasId);\n        return this.itemList[indexes[0]];\n    }\n    getFocusedItem() {\n        return select('.' + LIST_ITEM + '.' + FOCUS, this.element);\n    }\n    getActiveItem() {\n        return select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n    }\n    getFirstItem() {\n        return this.itemList[0];\n    }\n    getLastItem() {\n        return this.itemList[this.itemList.length - 1];\n    }\n    navigateItem(item) {\n        this.setFocus(item);\n    }\n    navigateDown(fItem, isTowards) {\n        const nItem = this.getNextItem(fItem, isTowards, this.perRow);\n        this.setFocus(nItem);\n    }\n    navigateRight(fItem, isTowards) {\n        const nItem = this.getNextItem(fItem, isTowards);\n        this.setFocus(nItem);\n    }\n    getNextItem(li, isTowards, perRow) {\n        if (isNullOrUndefined(li)) {\n            return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n        }\n        let index = this.itemList.indexOf(li);\n        let nextItem;\n        do {\n            if (isTowards) {\n                index = perRow ? index + perRow : index + 1;\n            }\n            else {\n                index = perRow ? index - perRow : index - 1;\n            }\n            nextItem = this.itemList[index];\n            if (isNullOrUndefined(nextItem)) {\n                return li;\n            }\n        } while (!isVisible(nextItem));\n        return nextItem;\n    }\n    setFocus(nextItem) {\n        if (!isNullOrUndefined(nextItem)) {\n            const fileSelectionArgs = this.triggerSelection('select', nextItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.startItem = nextItem;\n                this.clearSelect();\n                this.addActive(nextItem);\n                this.addFocus(nextItem);\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect('select', nextItem);\n            }\n        }\n    }\n    spaceKey(fItem) {\n        if (!isNullOrUndefined(fItem) && !fItem.classList.contains(ACTIVE)) {\n            const fileSelectionArgs = this.triggerSelection('select', fItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.addActive(fItem);\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect('select', fItem);\n            }\n        }\n    }\n    ctrlAKey(firstItem, lastItem) {\n        if (this.parent.allowMultiSelection && !isNullOrUndefined(firstItem)) {\n            this.startItem = firstItem;\n            const eveArgs = { ctrlKey: true, shiftKey: true };\n            const liParent = this.element.querySelector('.' + LIST_PARENT);\n            const liScrPos = liParent.scrollTop;\n            const getCurFocusedItem = this.getFocusedItem();\n            this.doSelection(lastItem, eveArgs);\n            liParent.scrollTop = liScrPos;\n            if (!isNullOrUndefined(getCurFocusedItem)) {\n                this.addFocus(getCurFocusedItem);\n            }\n        }\n    }\n    csEndKey(lastItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(lastItem);\n        }\n        else if (!isNullOrUndefined(lastItem)) {\n            if (e.action === 'ctrlEnd') {\n                this.addFocus(lastItem);\n            }\n            else {\n                this.doSelection(lastItem, e);\n            }\n        }\n    }\n    csHomeKey(firstItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(firstItem);\n        }\n        else if (!isNullOrUndefined(firstItem)) {\n            if (e.action === 'ctrlHome') {\n                this.addFocus(firstItem);\n            }\n            else {\n                this.doSelection(firstItem, e);\n            }\n        }\n    }\n    csDownKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, true);\n        }\n        else {\n            const dItem = this.getNextItem(fItem, true, this.perRow);\n            if (!isNullOrUndefined(dItem)) {\n                if (e.action === 'ctrlDown') {\n                    this.addFocus(dItem);\n                }\n                else {\n                    this.doSelection(dItem, e);\n                }\n            }\n        }\n    }\n    csLeftKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, false);\n        }\n        else {\n            const lItem = this.getNextItem(fItem, false);\n            if (!isNullOrUndefined(lItem)) {\n                if (e.action === 'ctrlLeft') {\n                    this.addFocus(lItem);\n                }\n                else {\n                    this.doSelection(lItem, e);\n                }\n            }\n        }\n    }\n    csRightKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, true);\n        }\n        else {\n            const rItem = this.getNextItem(fItem, true);\n            if (!isNullOrUndefined(rItem)) {\n                if (e.action === 'ctrlRight') {\n                    this.addFocus(rItem);\n                }\n                else {\n                    this.doSelection(rItem, e);\n                }\n            }\n        }\n    }\n    csUpKey(fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, false);\n        }\n        else {\n            const uItem = this.getNextItem(fItem, false, this.perRow);\n            if (!isNullOrUndefined(uItem)) {\n                if (e.action === 'ctrlUp') {\n                    this.addFocus(uItem);\n                }\n                else {\n                    this.doSelection(uItem, e);\n                }\n            }\n        }\n    }\n    addActive(nextItem) {\n        if (!isNullOrUndefined(nextItem)) {\n            if (!nextItem.classList.contains(ACTIVE)) {\n                this.parent.selectedItems.push(this.getDataName(nextItem));\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                addClass([nextItem], [ACTIVE]);\n                nextItem.setAttribute('aria-selected', 'true');\n                this.checkState(nextItem, true);\n            }\n            this.parent.visitedItem = nextItem;\n        }\n    }\n    removeActive(preItem) {\n        if (!isNullOrUndefined(preItem)) {\n            removeClass([preItem], [ACTIVE]);\n            if (this.parent.allowMultiSelection) {\n                preItem.setAttribute('aria-selected', 'false');\n            }\n            else {\n                preItem.removeAttribute('aria-selected');\n            }\n            this.checkState(preItem, false);\n            const index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n            if (index > -1) {\n                this.parent.selectedItems.splice(index, 1);\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n            }\n            this.parent.visitedItem = null;\n        }\n    }\n    getDataName(item) {\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        return getItemName(this.parent, data);\n    }\n    addFocus(item) {\n        this.element.setAttribute('tabindex', '-1');\n        const fItem = this.getFocusedItem();\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [FOCUS]);\n        }\n        addClass([item], [FOCUS]);\n        item.setAttribute('tabindex', '0');\n        item.focus();\n    }\n    checkState(item, toCheck) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        const checkEle = select('.' + FRAME, item);\n        if (isNullOrUndefined(checkEle)) {\n            return;\n        }\n        if (toCheck) {\n            if (!checkEle.classList.contains(CHECK)) {\n                addClass([checkEle], CHECK);\n                closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'true');\n            }\n        }\n        else {\n            if (checkEle.classList.contains(CHECK)) {\n                removeClass([checkEle], CHECK);\n                closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'false');\n            }\n        }\n    }\n    clearSelect() {\n        const eles = Array.prototype.slice.call(selectAll('.' + ACTIVE, this.listElements));\n        let fileSelectionArgs;\n        if (eles.length !== 0) {\n            fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n            if (fileSelectionArgs.cancel !== true) {\n                for (let i = 0, len = eles.length; i < len; i++) {\n                    this.removeActive(eles[i]);\n                }\n            }\n            this.triggerSelect('unselect', eles[0]);\n        }\n    }\n    resizeHandler() {\n        this.getItemCount();\n        if (!isNullOrUndefined(this.listObj)) {\n            this.adjustHeight();\n        }\n    }\n    splitterResizeHandler() {\n        this.getItemCount();\n    }\n    getItemCount() {\n        let perRow = 1;\n        if (this.itemList) {\n            for (let i = 0, len = this.itemList.length - 1; i < len; i++) {\n                if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n                    perRow++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        this.perRow = perRow;\n    }\n    triggerSelection(action, item) {\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        const eventArgs = {\n            action: action, fileDetails: data, isInteracted: this.isInteraction, cancel: false, target: item\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        this.isInteraction = true;\n        return eventArgs;\n    }\n    triggerSelect(action, item) {\n        // eslint-disable-next-line\n        const data = this.getItemObject(item);\n        this.parent.visitedData = data;\n        const eventArgs = { action: action, fileDetails: data, isInteracted: this.isInteracted };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.isInteracted = true;\n    }\n    selectItems(items) {\n        const indexes = this.getIndexes(items, this.parent.hasId);\n        for (let j = 0, len = indexes.length; j < len; j++) {\n            const eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[indexes[j]], eveArgs);\n        }\n    }\n    getIndexes(items, byId) {\n        const indexes = [];\n        const filter$$1 = byId ? 'id' : 'name';\n        for (let i = 0, len = this.items.length; i < len; i++) {\n            if (items.indexOf(getValue(filter$$1, this.items[i])) !== -1) {\n                indexes.push(i);\n            }\n        }\n        return indexes;\n    }\n    // eslint-disable-next-line\n    getItemObject(item) {\n        const index = this.itemList.indexOf(item);\n        return this.items[index];\n    }\n    // eslint-disable-next-line\n    addSelection(data) {\n        // eslint-disable-next-line\n        let resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            const newData = new DataManager(this.items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (newData.length > 0) {\n                resultData = new DataManager(newData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (resultData.length > 0) {\n            const index = this.items.indexOf(resultData[0]);\n            const eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[index], eveArgs);\n        }\n    }\n    updateSelectedData() {\n        // eslint-disable-next-line\n        const data = [];\n        const items = selectAll('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n        for (let i = 0; i < items.length; i++) {\n            data[i] = this.getItemObject(items[i]);\n        }\n        this.parent.itemData = data;\n    }\n    // eslint-disable-next-line\n    onMethodCall(args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        const action = getValue('action', args);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', args));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', args));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', args));\n                break;\n            case 'renameFile':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.renameFile(getValue('id', args), getValue('newName', args));\n                break;\n            case 'createFolder':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                break;\n            case 'clearSelection':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onClearAllInit();\n                break;\n            case 'selectAll':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onSelectAllInit();\n                break;\n        }\n    }\n    getItemsIndex(items) {\n        const indexes = [];\n        const isFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        const filterName = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !isFilter) {\n            for (let i = 0, len = this.items.length; i < len; i++) {\n                if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        else {\n            for (let i = 0, len = this.items.length; i < len; i++) {\n                const name = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n                if (items.indexOf(name) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    }\n    deleteFiles(ids) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNullOrUndefined(ids)) {\n            this.performDelete();\n            return;\n        }\n        const indexes = this.getItemsIndex(ids);\n        if (indexes.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < indexes.length; i++) {\n            data[i] = this.items[indexes[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    }\n    downloadFiles(ids) {\n        if (isNullOrUndefined(ids)) {\n            this.doDownload();\n            return;\n        }\n        const index = this.getItemsIndex(ids);\n        if (index.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < index.length; i++) {\n            data[i] = this.items[index[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    }\n    openFile(id) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        const indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            this.doOpenAction(this.itemList[indexes[0]]);\n        }\n    }\n    renameFile(id, name) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNullOrUndefined(id)) {\n            this.performRename();\n            return;\n        }\n        const indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            updateRenamingData(this.parent, this.items[indexes[0]]);\n            if (isNullOrUndefined(name)) {\n                doRename(this.parent);\n            }\n            else {\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n                else {\n                    rename(this.parent, this.parent.path, name);\n                }\n            }\n        }\n    }\n}\n\n/**\n * BreadCrumbBar module\n */\nclass BreadCrumbBar {\n    /**\n     * constructor for addressbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies parent element.\n     * @private\n     *\n     */\n    constructor(parent) {\n        this.addressPath = '';\n        this.addressBarLink = '';\n        this.searchTimer = null;\n        this.searchWrapWidth = null;\n        this.parent = parent;\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        this.render();\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            const value = e.newProp.searchSettings;\n            switch (prop) {\n                case 'searchSettings':\n                    if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n                        this.searchEventBind(value.allowSearchOnTyping);\n                    }\n                    if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' &&\n                        !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) &&\n                            isNullOrUndefined(value.ignoreCase))) {\n                        searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n                    }\n                    break;\n            }\n        }\n    }\n    render() {\n        this.addEventListener();\n    }\n    onPathChange() {\n        const pathNames = this.parent.pathNames;\n        const paths = this.parent.path.split('/');\n        const addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        let addressbarLI = null;\n        const pathNamesLen = pathNames.length;\n        if (pathNames.length > 0) {\n            let id = '';\n            for (let i = 0; i < pathNamesLen; i++) {\n                let addressATag = null;\n                addressbarLI = this.parent.createElement('li', { className: 'e-address-list-item' });\n                for (let j = 0; j <= i; j++) {\n                    id = id + paths[j] + '/';\n                }\n                addressbarLI.setAttribute('data-utext', id);\n                if (i !== 0) {\n                    const icon = createElement('span', { className: ICONS });\n                    addressbarLI.appendChild(icon);\n                }\n                if (pathNamesLen - i !== 1) {\n                    addressATag = createElement('a', { className: LIST_TEXT });\n                    addressbarLI.setAttribute('tabindex', '0');\n                }\n                else {\n                    addressATag = createElement('span', { className: LIST_TEXT });\n                }\n                id = '';\n                addressATag.innerText = pathNames[i];\n                addressbarLI.appendChild(addressATag);\n                addressbarUL.appendChild(addressbarLI);\n            }\n            const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n            if (!isNullOrUndefined(ulElement)) {\n                if (!isNullOrUndefined(this.subMenuObj)) {\n                    this.subMenuObj.destroy();\n                }\n                remove(ulElement);\n            }\n            const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n            if (!searchWrap) {\n                this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n            }\n            else {\n                this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n            }\n            this.updateBreadCrumbBar(addressbarUL);\n        }\n    }\n    /* istanbul ignore next */\n    updateBreadCrumbBar(addresBarUL) {\n        const liElements = addresBarUL.querySelectorAll('li');\n        const ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n        const style = window.getComputedStyle(ulElement, null);\n        const pRight = parseFloat(style.getPropertyValue('padding-right'));\n        const pLeft = parseFloat(style.getPropertyValue('padding-left'));\n        let breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n        const addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        let liElementsWidth = 0;\n        const liElementsWidths = [];\n        for (let i = 0; i < liElements.length; i++) {\n            const width = liElements[i].clientWidth;\n            liElementsWidths.push(width);\n            liElementsWidth = liElementsWidth + width;\n        }\n        if (!isNullOrUndefined(ulElement)) {\n            remove(ulElement);\n        }\n        const searchContainer = this.parent.createElement('div');\n        searchContainer.setAttribute('class', 'e-search-wrap');\n        const id = this.parent.element.id + SEARCH_ID;\n        const searchInput = createElement('input', { id: id,\n            attrs: { autocomplete: 'off', 'aria-label': getLocaleText(this.parent, 'Search') } });\n        searchContainer.appendChild(searchInput);\n        const searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n        if (isNullOrUndefined(searchEle)) {\n            this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n            const span = createElement('span', { className: 'e-icons e-fe-search' });\n            EventHandler.add(span, 'click', this.onShowInput, this);\n            searchInput.parentElement.insertBefore(span, searchInput);\n            this.searchObj = new TextBox({\n                value: '',\n                showClearButton: true,\n                placeholder: getLocaleText(this.parent, 'Search'),\n                focus: this.onFocus.bind(this),\n                blur: this.onBlur.bind(this)\n            });\n            this.searchObj.appendTo('#' + this.parent.element.id + SEARCH_ID);\n            this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n            const search$$1 = this.searchObj.element.nextElementSibling;\n            EventHandler.add(search$$1, 'mousedown', this.searchChangeHandler.bind(this), this);\n            EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n        }\n        const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n        if (liElementsWidth > breadCrumbBarWidth) {\n            let i = liElements.length;\n            while (i--) {\n                const diff = breadCrumbBarWidth - liElementsWidths[i];\n                if (diff > 40) {\n                    addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n                    breadCrumbBarWidth = diff;\n                }\n                else {\n                    // eslint-disable-next-line\n                    const items = [];\n                    for (let j = 0; j <= i; j++) {\n                        const liElement = liElements[j];\n                        items.push({\n                            text: liElement.innerText,\n                            utext: liElement.getAttribute('data-utext')\n                        });\n                    }\n                    const subMenuLi = this.parent.createElement('li', { className: 'e-breadcrumb-menu' });\n                    // eslint-disable-next-line\n                    const attributes = { className: 'e-breadcrumb-submenu' };\n                    const subMenuSpan = this.parent.createElement('button', attributes);\n                    subMenuLi.appendChild(subMenuSpan);\n                    addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n                    this.subMenuObj = new DropDownButton({\n                        items: items,\n                        cssClass: 'e-caret-hide e-submenu',\n                        iconCss: ICON_BREADCRUMB,\n                        iconPosition: 'Top',\n                        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                        beforeItemRender: this.addSubMenuAttributes.bind(this),\n                        select: this.subMenuSelectOperations.bind(this)\n                    });\n                    this.subMenuObj.isStringTemplate = true;\n                    this.subMenuObj.appendTo(subMenuSpan);\n                    break;\n                }\n            }\n            this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n        }\n        else {\n            this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n        }\n    }\n    /* istanbul ignore next */\n    onFocus() {\n        const wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.add('e-focus');\n    }\n    /* istanbul ignore next */\n    onKeyUp() {\n        this.parent.notify(pathColumn, { args: this.parent });\n    }\n    /* istanbul ignore next */\n    onBlur() {\n        const wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.remove('e-focus');\n    }\n    /* istanbul ignore next */\n    subMenuSelectOperations(event) {\n        // eslint-disable-next-line\n        const args = { target: event.element };\n        this.addressPathClickHandler(args);\n    }\n    /* istanbul ignore next */\n    addSubMenuAttributes(args) {\n        args.element.setAttribute('data-utext', getValue('utext', args.item));\n        const anchor = this.parent.createElement('a', { className: 'e-list-text' });\n        args.element.appendChild(anchor);\n    }\n    searchEventBind(allow) {\n        if (allow) {\n            this.searchObj.input = this.searchChangeHandler.bind(this);\n            this.searchObj.change = null;\n        }\n        else {\n            this.searchObj.change = this.searchChangeHandler.bind(this);\n            this.searchObj.input = null;\n        }\n    }\n    searchChangeHandler(args) {\n        if (!isNullOrUndefined(args.value)) {\n            this.parent.isFiltered = false;\n            if (this.parent.searchSettings.allowSearchOnTyping) {\n                window.clearTimeout(this.searchTimer);\n                this.searchTimer = window.setTimeout(() => { searchWordHandler(this.parent, args.value, false); }, 300);\n            }\n            else {\n                searchWordHandler(this.parent, args.value, false);\n            }\n        }\n    }\n    addressPathClickHandler(e) {\n        const li = e.target;\n        if (li.nodeName === 'LI' || li.nodeName === 'A') {\n            const node = li.nodeName === 'LI' ? li.children[0] : li;\n            if (!isNullOrUndefined(node)) {\n                this.parent.isFiltered = false;\n                const currentPath = this.updatePath(node);\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n                this.triggerFileOpen(this.parent.itemData[0]);\n                read(this.parent, pathChanged, currentPath);\n                const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n                this.parent.notify(updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n            }\n        }\n    }\n    // eslint-disable-next-line\n    triggerFileOpen(data) {\n        const eventArgs = { cancel: false, fileDetails: data, module: 'BreadCrumbBar' };\n        delete eventArgs.cancel;\n        this.parent.trigger('fileOpen', eventArgs);\n    }\n    /* istanbul ignore next */\n    onShowInput() {\n        if (this.parent.isMobile) {\n            if (this.parent.element.classList.contains(FILTER)) {\n                removeClass([this.parent.element], FILTER);\n                this.searchWrapWidth = null;\n            }\n            else {\n                const searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n                this.searchWrapWidth = searchWrap.offsetWidth;\n                addClass([this.parent.element], FILTER);\n                this.searchObj.element.focus();\n            }\n        }\n    }\n    updatePath(list) {\n        const li = closest(list, 'li');\n        const liElementId = li.getAttribute('data-utext');\n        this.addressBarLink = liElementId;\n        const link = this.addressBarLink.split('/');\n        const ids = this.parent.pathId;\n        const names = this.parent.pathNames;\n        this.parent.pathId = [];\n        this.parent.pathNames = [];\n        let newpath = '';\n        for (let i = 0, len = link.length - 1; i < len; i++) {\n            this.parent.pathId.push(ids[i]);\n            this.parent.pathNames.push(names[i]);\n            newpath += link[i] + '/';\n        }\n        this.parent.setProperties({ path: newpath }, true);\n        return newpath;\n    }\n    onUpdatePath() {\n        this.onPathChange();\n        this.removeSearchValue();\n    }\n    onCreateEnd() {\n        this.onPathChange();\n    }\n    onRenameEnd() {\n        this.onPathChange();\n    }\n    /* istanbul ignore next */\n    onDeleteEnd() {\n        this.onUpdatePath();\n    }\n    /* istanbul ignore next */\n    removeSearchValue() {\n        this.parent.isFiltered = false;\n        if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n            this.searchObj.value = '';\n            this.searchObj.element.value = '';\n            this.searchObj.dataBind();\n        }\n    }\n    onResize() {\n        this.onPathChange();\n    }\n    onPasteEnd() {\n        this.onPathChange();\n    }\n    addEventListener() {\n        this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(pathChanged, this.onUpdatePath, this);\n        this.parent.on(finalizeEnd, this.onUpdatePath, this);\n        this.parent.on(refreshEnd, this.onUpdatePath, this);\n        this.parent.on(openEnd, this.onUpdatePath, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(renameEnd, this.onRenameEnd, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(splitterResize, this.onResize, this);\n        this.parent.on(pasteEnd, this.onPasteEnd, this);\n        this.parent.on(resizeEnd, this.onResize, this);\n        this.parent.on(searchTextChange, this.onSearchTextChange, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(layoutRefresh, this.onResize, this);\n        this.parent.on(dropPath, this.onPathChange, this);\n    }\n    keyActionHandler(e) {\n        switch (e.action) {\n            case 'enter':\n                this.addressPathClickHandler(e);\n                break;\n        }\n    }\n    removeEventListener() {\n        this.keyboardModule.destroy();\n        this.parent.off(pathChanged, this.onUpdatePath);\n        this.parent.off(finalizeEnd, this.onUpdatePath);\n        this.parent.off(refreshEnd, this.onUpdatePath);\n        this.parent.off(openEnd, this.onUpdatePath);\n        this.parent.off(pasteEnd, this.onPasteEnd);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(renameEnd, this.onRenameEnd);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(splitterResize, this.onResize);\n        this.parent.off(resizeEnd, this.onResize);\n        this.parent.off(searchTextChange, this.onSearchTextChange);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(layoutRefresh, this.onResize);\n        this.parent.off(dropPath, this.onPathChange);\n    }\n    /* istanbul ignore next */\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            const liEle = args.target.closest('li');\n            this.parent.dropPath = this.updatePath((liEle.children[0]));\n            this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            this.triggerFileOpen(this.parent.dropData);\n            const treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n            this.parent.notify(updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name\n     * @private\n     */\n    getModuleName() {\n        return 'breadcrumbbar';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(this.subMenuObj)) {\n            this.subMenuObj.destroy();\n        }\n        if (!isNullOrUndefined(this.searchObj)) {\n            this.searchObj.destroy();\n        }\n    }\n    onSearchTextChange(args) {\n        this.searchObj.element.placeholder = (this.parent.searchSettings.placeholder != null) ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n    }\n}\n\n/**\n * ContextMenu module\n */\nclass ContextMenu$2 {\n    /**\n     * Constructor for the ContextMenu module\n     *\n     * @param {IFileManager} parent - Specifies the parent element.\n     * @hidden\n     */\n    constructor(parent) {\n        this.currentItems = [];\n        this.currentElement = null;\n        this.disabledItems = [];\n        this.parent = parent;\n        this.render();\n    }\n    render() {\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            uparrow: 'uparrown'\n        };\n        this.contextMenu = new ContextMenu({\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: '#' + this.parent.element.id,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.onBeforeItemRender.bind(this),\n            select: this.onSelect.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this),\n            cssClass: getCssClass(this.parent, ROOT_POPUP)\n        });\n        this.contextMenu.isStringTemplate = true;\n        this.contextMenu.appendTo('#' + this.parent.element.id + CONTEXT_MENU_ID);\n        this.addEventListener();\n    }\n    /* istanbul ignore next */\n    onBeforeItemRender(args) {\n        if (args.item.id === this.getMenuId('largeiconsview')) {\n            const iconSpan = createElement('span');\n            const element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', ICON_LARGE + ' ' + MENU_ICON);\n        }\n        if (args.item.id === this.getMenuId('detailsview')) {\n            const iconSpan = createElement('span');\n            const element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', ICON_GRID + ' ' + MENU_ICON);\n        }\n    }\n    onBeforeClose() {\n        this.menuTarget = null;\n    }\n    /* istanbul ignore next */\n    onBeforeOpen(args) {\n        this.disabledItems = [];\n        let selected = false;\n        let uid;\n        // eslint-disable-next-line\n        let data;\n        let treeFolder = false;\n        let target = args.event.target;\n        this.menuTarget = target;\n        this.currentElement = args.element;\n        if (target.classList.contains('e-spinner-pane')) {\n            target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(FULLROW)[0];\n            this.menuTarget = target;\n        }\n        if (target.classList.contains(FULLROW)) {\n            this.parent.selectedItems.length = 0;\n        }\n        this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n        const view = this.getTargetView(target);\n        this.updateActiveModule();\n        /* istanbul ignore next */\n        if (target.classList.contains(TREE_VIEW) || closest(target, 'th') ||\n            (closest(target, '#' + this.parent.element.id + BREADCRUMBBAR_ID)) ||\n            (closest(target, '#' + this.parent.element.id + TOOLBAR_ID))) {\n            args.cancel = true;\n            // eslint:disable-next-line\n        }\n        else if (!(this.parent.view === 'LargeIcons') && this.targetElement &&\n            this.targetElement.classList.contains('e-emptyrow')) {\n            this.setLayoutItem(target);\n            /* istanbul ignore next */\n        }\n        else if (closest(target, '.' + EMPTY)) {\n            this.setLayoutItem(target);\n            // eslint:disable-next-line\n        }\n        else if (!target.classList.contains(MENU_ITEM) &&\n            !target.classList.contains(MENU_ICON) && !target.classList.contains(SUBMENU_ICON)) {\n            /* istanbul ignore next */\n            // eslint:disable-next-line\n            if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + TREE_ID)) {\n                const eveArgs = { ctrlKey: true, shiftKey: true };\n                if (!closest(target, 'li').classList.contains('e-active')) {\n                    this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n                }\n                // eslint-disable-next-line\n                data = this.parent.visitedData;\n                selected = true;\n            }\n            else if (!isNullOrUndefined(closest(target, 'tr.e-row'))) {\n                uid = this.targetElement.getAttribute('data-uid');\n                // eslint-disable-next-line\n                data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n                if (isNullOrUndefined(this.targetElement.getAttribute('aria-selected'))) {\n                    /* istanbul ignore next */\n                    this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('aria-rowindex'), 10)]);\n                }\n                selected = true;\n                /* istanbul ignore next */\n            }\n            else if (closest(target, '#' + this.parent.element.id + TREE_ID)) {\n                uid = closest(target, 'li').getAttribute('data-uid');\n                treeFolder = true;\n            }\n            /* istanbul ignore next */\n            if (selected) {\n                if (getValue('isFile', data) === true) {\n                    this.setFileItem();\n                }\n                else {\n                    this.setFolderItem(false);\n                }\n                /* istanbul ignore next */\n            }\n            else if (treeFolder) {\n                this.setFolderItem(true);\n                if (uid === this.parent.pathId[0]) {\n                    this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n                }\n                /* istanbul ignore next */\n                // eslint:disable-next-line\n            }\n            else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n                this.setLayoutItem(target);\n                /* istanbul ignore next */\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        const pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n        if (!args.cancel && !this.parent.enablePaste &&\n            pasteEle && !pasteEle.classList.contains('e-disabled')) {\n            this.disabledItems.push('Paste');\n        }\n        if (args.cancel) {\n            this.menuTarget = this.currentElement = null;\n            return;\n        }\n        this.contextMenu.dataBind();\n        let isSubMenu = false;\n        if (target.classList.contains(MENU_ITEM) ||\n            target.classList.contains(MENU_ICON) || target.classList.contains(SUBMENU_ICON)) {\n            isSubMenu = true;\n        }\n        this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n        const eventArgs = {\n            fileDetails: [this.menuItemData],\n            element: args.element,\n            target: target,\n            items: isSubMenu ? args.items : this.contextMenu.items,\n            menuModule: this.contextMenu,\n            cancel: false,\n            menuType: this.menuType,\n            isSubMenu: isSubMenu\n        };\n        this.currentItems = eventArgs.items;\n        this.parent.trigger('menuOpen', eventArgs, (menuOpenArgs) => {\n            if (!isSubMenu) {\n                this.contextMenu.dataBind();\n                this.contextMenu.items = menuOpenArgs.items;\n                this.contextMenu.dataBind();\n            }\n            this.enableItems(this.disabledItems, false, true);\n            args.cancel = menuOpenArgs.cancel;\n            if (menuOpenArgs.cancel) {\n                this.menuTarget = this.currentElement = null;\n            }\n        });\n    }\n    updateActiveModule() {\n        this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + TREE_ID) ?\n            'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + GRID_ID) ?\n            'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + LARGEICON_ID) ?\n            'largeiconsview' : this.parent.activeModule;\n    }\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @returns {string} -returns the target view.\n     * @hidden\n     */\n    getTargetView(target) {\n        return target.classList.contains(TREE_VIEW) ?\n            'TreeView' : target.classList.contains(GRID_VIEW) ?\n            'GridView' : target.classList.contains(ICON_VIEW) ?\n            'LargeIcon' : target.classList.contains(LARGE_ICONS) ?\n            'LargeIcon' : '';\n    }\n    getItemIndex(item) {\n        const itemId = this.getMenuId(item);\n        for (let i = 0; i < this.currentItems.length; i++) {\n            if ((this.currentItems[i].id === itemId) || (this.currentItems[i].id === item)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    disableItem(items) {\n        if (items.length !== 0) {\n            this.disabledItems = this.disabledItems.concat(items);\n        }\n    }\n    enableItems(items, enable, isUniqueId) {\n        for (let i = 0; i < items.length; i++) {\n            if (this.checkValidItem(items[i]) === 1) {\n                this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n            }\n            else if (this.checkValidItem(items[i]) === 2) {\n                this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n            }\n        }\n    }\n    setFolderItem(isTree) {\n        this.menuType = 'folder';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map((item) => item.trim()));\n        this.contextMenu.dataBind();\n        if (isTree) {\n            this.disabledItems.push('Open');\n        }\n        else if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename', 'Paste');\n        }\n    }\n    setFileItem() {\n        this.menuType = 'file';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map((item) => item.trim()));\n        this.contextMenu.dataBind();\n        if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename');\n        }\n    }\n    setLayoutItem(target) {\n        this.menuType = 'layout';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map((item) => item.trim()));\n        this.contextMenu.dataBind();\n        if (!this.parent.allowMultiSelection || ((this.parent.view === 'LargeIcons' &&\n            (closest(target, '#' + this.parent.element.id + LARGEICON_ID).getElementsByClassName(EMPTY).length !== 0))\n            || (this.parent.view === 'Details' &&\n                (closest(target, '#' + this.parent.element.id + GRID_ID).getElementsByClassName(EMPTY).length !== 0)))) {\n            this.disabledItems.push('SelectAll');\n        }\n        if (this.parent.selectedNodes.length === 0) {\n            this.disabledItems.push('Paste');\n        }\n        this.contextMenu.dataBind();\n    }\n    checkValidItem(nameEle) {\n        if (!isNullOrUndefined(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n            return 1;\n        }\n        else if (!isNullOrUndefined(select('#' + nameEle, this.currentElement))) {\n            return 2;\n        }\n        else {\n            return -1;\n        }\n    }\n    // eslint-disable-next-line\n    getMenuItemData() {\n        if (this.menuType === 'layout') {\n            return getPathObject(this.parent);\n        }\n        else {\n            // eslint-disable-next-line\n            const args = { target: this.menuTarget };\n            this.parent.notify(menuItemData, args);\n            return this.parent.itemData[0];\n        }\n    }\n    /* istanbul ignore next */\n    onSelect(args) {\n        if (isNullOrUndefined(args.item) || !args.item.id) {\n            return;\n        }\n        const itemText = args.item.id.substr((this.parent.element.id + '_cm_').length);\n        // eslint-disable-next-line\n        let details;\n        if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(selectedData, {});\n            details = this.parent.itemData;\n        }\n        const eventArgs = {\n            cancel: false,\n            element: args.element,\n            fileDetails: details,\n            item: args.item\n        };\n        this.parent.trigger('menuClick', eventArgs, (menuClickArgs) => {\n            let sItems;\n            if (!menuClickArgs.cancel) {\n                // eslint:disable-next-line\n                switch (itemText) {\n                    case 'cut':\n                        cutFiles(this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(this.parent);\n                        break;\n                    case 'paste':\n                        if (this.menuType === 'folder') {\n                            if ((this.parent.activeModule === 'largeiconsview') || (this.parent.activeModule === 'detailsview')) {\n                                this.parent.folderPath = getFullPath(this.parent, this.menuItemData, this.parent.path);\n                            }\n                            else {\n                                this.parent.folderPath = '';\n                            }\n                        }\n                        else {\n                            this.parent.folderPath = '';\n                        }\n                        pasteHandler(this.parent);\n                        break;\n                    case 'delete':\n                        for (let j = 0; j < details.length; j++) {\n                            if (!hasEditAccess(details[j])) {\n                                createDeniedDialog(this.parent, details[j], permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(this.parent, 'Delete');\n                        break;\n                    /* istanbul ignore next */\n                    case 'download':\n                        for (let i = 0; i < details.length; i++) {\n                            if (!hasDownloadAccess(details[i])) {\n                                createDeniedDialog(this.parent, details[i], permissionDownload);\n                                return;\n                            }\n                        }\n                        if (this.parent.activeModule === 'navigationpane') {\n                            this.parent.notify(downloadInit, {});\n                        }\n                        else if (this.parent.selectedItems.length > 0) {\n                            Download(this.parent, this.parent.path, this.parent.selectedItems);\n                        }\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(this.parent, details[0], permissionEdit);\n                        }\n                        else {\n                            this.parent.notify(renameInit, {});\n                            createDialog(this.parent, 'Rename');\n                        }\n                        break;\n                    case 'selectall':\n                        /* istanbul ignore next */\n                        this.parent.notify(selectAllInit, {});\n                        break;\n                    case 'refresh':\n                        refresh(this.parent);\n                        break;\n                    case 'open':\n                        if (this.parent.visitedItem) {\n                            this.parent.notify(openInit, { target: this.parent.visitedItem });\n                        }\n                        break;\n                    case 'details':\n                        this.parent.notify(detailsInit, {});\n                        sItems = this.parent.selectedItems;\n                        if (this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(this.parent, sItems, this.parent.path, 'details');\n                        break;\n                    case 'newfolder':\n                        createNewFolder(this.parent);\n                        break;\n                    case 'upload':\n                        uploadItem(this.parent);\n                        break;\n                    /* istanbul ignore next */\n                    case 'name':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'size':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'date':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'ascending':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'descending':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    case 'none':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'largeiconsview':\n                        updateLayout(this.parent, 'LargeIcons');\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'detailsview':\n                        updateLayout(this.parent, 'Details');\n                        break;\n                }\n            }\n        });\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'cssClass':\n                    this.contextMenu.cssClass = getCssClass(this.parent, ROOT_POPUP);\n                    break;\n            }\n        }\n    }\n    addEventListener() {\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    removeEventListener() {\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.keyboardModule.destroy();\n    }\n    keyActionHandler(e) {\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n                e.preventDefault();\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    getModuleName() {\n        return 'contextmenu';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        this.contextMenu.destroy();\n    }\n    /* istanbul ignore next */\n    getItemData(data) {\n        const items = [];\n        for (let i = 0; i < data.length; i++) {\n            let item;\n            const itemId = this.getMenuId(data[i]);\n            const itemText = getLocaleText(this.parent, data[i]);\n            switch (data[i]) {\n                case '|':\n                    item = { separator: true };\n                    break;\n                case 'Open':\n                    item = { id: itemId, text: itemText, iconCss: ICON_OPEN };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, iconCss: ICON_UPLOAD };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, iconCss: ICON_CUT };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, iconCss: ICON_COPY };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, iconCss: ICON_PASTE };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DELETE };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, iconCss: ICON_RENAME };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, iconCss: ICON_NEWFOLDER };\n                    break;\n                case 'Details':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DETAILS };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, text: itemText, iconCss: ICON_SHORTBY,\n                        items: [\n                            {\n                                id: this.getMenuId('Name'), text: getLocaleText(this.parent, 'Name'),\n                                iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Size'), text: getLocaleText(this.parent, 'Size'),\n                                iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Date'), text: getLocaleText(this.parent, 'DateModified'),\n                                iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : null\n                            },\n                            { separator: true },\n                            {\n                                id: this.getMenuId('Ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                                iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('Descending'), text: getLocaleText(this.parent, 'Descending'),\n                                iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('None'), text: getLocaleText(this.parent, 'None'),\n                                iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                /* istanbul ignore next */\n                case 'View':\n                    item = {\n                        id: itemId, text: itemText, iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                        items: [\n                            {\n                                id: this.getMenuId('largeiconsview'), text: getLocaleText(this.parent, 'View-LargeIcons'),\n                                iconCss: this.parent.view === 'Details' ? null : TB_OPTION_TICK\n                            },\n                            {\n                                id: this.getMenuId('detailsview'), text: getLocaleText(this.parent, 'View-Details'),\n                                iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, iconCss: ICON_REFRESH };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, iconCss: ICON_SELECTALL };\n                    break;\n                /* istanbul ignore next */\n                case 'Download':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DOWNLOAD };\n                    break;\n                /* istanbul ignore next */\n                default:\n                    item = { id: itemId, text: itemText };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    }\n    getMenuId(id) {\n        return this.parent.element.id + '_cm_' + id.toLowerCase();\n    }\n}\n\n/**\n * Specifies the default locale of FileManager component\n */\n// eslint-disable-next-line\nconst defaultLocale = {\n    'NewFolder': 'New folder',\n    'Upload': 'Upload',\n    'Delete': 'Delete',\n    'Rename': 'Rename',\n    'Download': 'Download',\n    'Cut': 'Cut',\n    'Copy': 'Copy',\n    'Paste': 'Paste',\n    'SortBy': 'Sort by',\n    'Refresh': 'Refresh',\n    'Item-Selection': 'item selected',\n    'Items-Selection': 'items selected',\n    'View': 'View',\n    'Details': 'Details',\n    'SelectAll': 'Select all',\n    'Open': 'Open',\n    'Tooltip-NewFolder': 'New folder',\n    'Tooltip-Upload': 'Upload',\n    'Tooltip-Delete': 'Delete',\n    'Tooltip-Rename': 'Rename',\n    'Tooltip-Download': 'Download',\n    'Tooltip-Cut': 'Cut',\n    'Tooltip-Copy': 'Copy',\n    'Tooltip-Paste': 'Paste',\n    'Tooltip-SortBy': 'Sort by',\n    'Tooltip-Refresh': 'Refresh',\n    'Tooltip-Selection': 'Clear selection',\n    'Tooltip-View': 'View',\n    'Tooltip-Details': 'Details',\n    'Tooltip-SelectAll': 'Select all',\n    'Name': 'Name',\n    'Size': 'Size',\n    'DateModified': 'Modified',\n    'DateCreated': 'Date created',\n    'Path': 'Path',\n    'Modified': 'Modified',\n    'Created': 'Created',\n    'Location': 'Location',\n    'Type': 'Type',\n    'Permission': 'Permission',\n    'Ascending': 'Ascending',\n    'Descending': 'Descending',\n    'None': 'None',\n    'View-LargeIcons': 'Large icons',\n    'View-Details': 'Details',\n    'Search': 'Search',\n    'Button-Ok': 'OK',\n    'Button-Cancel': 'Cancel',\n    'Button-Yes': 'Yes',\n    'Button-No': 'No',\n    'Button-Create': 'Create',\n    'Button-Save': 'Save',\n    'Header-NewFolder': 'Folder',\n    'Content-NewFolder': 'Enter your folder name',\n    'Header-Rename': 'Rename',\n    'Content-Rename': 'Enter your new name',\n    'Header-Rename-Confirmation': 'Rename Confirmation',\n    'Content-Rename-Confirmation': 'If you change a file name extension, the file might become unstable. ' +\n        'Are you sure you want to change it?',\n    'Header-Delete': 'Delete File',\n    'Content-Delete': 'Are you sure you want to delete this file?',\n    'Header-Folder-Delete': 'Delete Folder',\n    'Content-Folder-Delete': 'Are you sure you want to delete this folder?',\n    'Header-Multiple-Delete': 'Delete Multiple Items',\n    'Content-Multiple-Delete': 'Are you sure you want to delete these {0} items?',\n    'Header-Duplicate': 'File/Folder exists',\n    'Content-Duplicate': '{0} already exists. Do you want to rename and paste?',\n    'Header-Upload': 'Upload Files',\n    'Error': 'Error',\n    'Validation-Empty': 'The file or folder name cannot be empty.',\n    'Validation-Invalid': 'The file or folder name {0} contains invalid characters. Please use a different name. ' +\n        // eslint-disable-next-line no-useless-escape\n        'Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\\\/:*?\\\"<>|',\n    'Validation-NewFolder-Exists': 'A file or folder with the name {0} already exists.',\n    'Validation-Rename-Exists': 'Cannot rename {0} to {1}: destination already exists.',\n    'Folder-Empty': 'This folder is empty',\n    'File-Upload': 'Drag files here to upload',\n    'Search-Empty': 'No results found',\n    'Search-Key': 'Try with different keywords',\n    'Filter-Empty': 'No results found',\n    'Filter-Key': 'Try with different filter',\n    'Sub-Folder-Error': 'The destination folder is the subfolder of the source folder.',\n    'Same-Folder-Error': 'The destination folder is the same as the source folder.',\n    'Access-Denied': 'Access Denied',\n    'Access-Details': 'You don\"t have permission to access this folder.',\n    'Header-Retry': 'File Already Exists',\n    'Content-Retry': 'A file with this name already exists in this folder. What would you like to do?',\n    'Button-Keep-Both': 'Keep both',\n    'Button-Replace': 'Replace',\n    'Button-Skip': 'Skip',\n    'ApplyAll-Label': 'Do this for all current items',\n    'KB': 'KB',\n    'Access-Message': '{0} is not accessible. You need permission to perform the {1} action.',\n    'Network-Error': 'NetworkError: Failed to send on XMLHTTPRequest: Failed to load',\n    'Server-Error': 'ServerError: Invalid response from'\n};\n\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FileManager_1;\n/**\n * The FileManager component allows users to access and manage the file system through the web  browser. It can performs the\n * functionalities like add, rename, search, sort, upload and delete files or folders. And also it\n * provides an easy way of  dynamic injectable modules like toolbar, navigationpane, detailsview, largeiconsview.\n * ```html\n *  <div id=\"file\"></div>\n * ```\n * ```typescript,\n *  let feObj: FileManager = new FileManager();\n *  feObj.appendTo('#file');\n * ```\n */\nlet FileManager = FileManager_1 = class FileManager extends Component {\n    constructor(options, element) {\n        super(options, element);\n        // eslint-disable-next-line\n        this.filterData = null;\n        this.selectedNodes = [];\n        this.duplicateItems = [];\n        // eslint-disable-next-line\n        this.duplicateRecords = [];\n        this.previousPath = [];\n        this.nextPath = [];\n        this.isLayoutChange = false;\n        this.layoutSelectedItems = [];\n        this.renamedId = null;\n        this.uploadItem = [];\n        this.deleteRecords = [];\n        this.isFile = false;\n        this.sortBy = 'name';\n        this.isCut = false;\n        this.isSearchCut = false;\n        this.isSearchDrag = false;\n        this.isPasteError = false;\n        this.folderPath = '';\n        this.isSameAction = false;\n        this.isFiltered = false;\n        this.enablePaste = false;\n        this.persistData = false;\n        this.retryArgs = [];\n        this.isOpened = false;\n        this.isRetryOpened = false;\n        this.isPathDrag = false;\n        // eslint-disable-next-line\n        this.searchedItems = [];\n        this.retryFiles = [];\n        this.isApplySame = false;\n        // eslint-disable-next-line\n        this.dragData = [];\n        this.dragNodes = [];\n        this.dragPath = '';\n        this.dropPath = '';\n        this.isDragDrop = false;\n        this.treeExpandTimer = null;\n        this.dragCursorPosition = { left: 44, top: 18 };\n        this.isDropEnd = false;\n        this.dragCount = 0;\n        // eslint-disable-next-line\n        this.droppedObjects = [];\n        this.uploadingCount = 0;\n        this.uploadedCount = 0;\n        FileManager_1.Inject(BreadCrumbBar, LargeIconsView, ContextMenu$2);\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    getModuleName() {\n        return 'filemanager';\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    preRender() {\n        this.ensurePath();\n        this.feParent = [];\n        this.feFiles = [];\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.isDevice = Browser.isDevice;\n        this.isMobile = this.checkMobile();\n        if (this.isMobile) {\n            this.setProperties({ navigationPaneSettings: { visible: false } }, true);\n        }\n        const ele = closest(this.element, '.e-bigger');\n        this.isBigger = ele ? true : false;\n        this.activeModule = (this.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n        createSpinner({ target: this.element }, createElement);\n        this.addWrapper();\n        this.keyConfigs = {\n            altN: 'alt+n',\n            f5: 'f5',\n            ctrlShift1: 'ctrl+shift+1',\n            ctrlShift2: 'ctrl+shift+2',\n            ctrlU: 'ctrl+u'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n    }\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string} - returns the persisted data.\n     * @hidden\n     */\n    getPersistData() {\n        const keyEntity = ['view', 'path', 'selectedItems'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    requiredModules() {\n        const modules = [];\n        modules.push({\n            member: 'breadcrumbbar',\n            args: [this]\n        });\n        modules.push({\n            member: 'largeiconsview',\n            args: [this]\n        });\n        if (this.toolbarSettings.visible) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.navigationPaneSettings.visible) {\n            modules.push({\n                member: 'navigationpane',\n                args: [this]\n            });\n        }\n        if (this.view) {\n            modules.push({\n                member: 'detailsview',\n                args: [this]\n            });\n        }\n        if (this.contextMenuSettings.visible && !this.isDevice) {\n            modules.push({\n                member: 'contextmenu',\n                args: [this]\n            });\n        }\n        return modules;\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialize();\n        const slItems = isNullOrUndefined(this.selectedItems) ? [] :\n            this.allowMultiSelection ? this.selectedItems : this.selectedItems.slice(this.selectedItems.length - 1);\n        this.setProperties({ selectedItems: slItems }, true);\n        this.fileView = this.view;\n        this.setRtl(this.enableRtl);\n        this.addEventListeners();\n        read(this, (this.path !== this.originalPath) ? initialEnd : finalizeEnd, this.path);\n        this.adjustHeight();\n        if (isNullOrUndefined(this.navigationpaneModule)) {\n            this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n            const bar = select('.' + SPLIT_BAR, this.element);\n            bar.classList.add(DISPLAY_NONE);\n        }\n        this.wireEvents();\n        this.renderComplete();\n    }\n    ensurePath() {\n        let currentPath = this.path;\n        if (isNullOrUndefined(currentPath)) {\n            currentPath = '/';\n        }\n        if (currentPath.lastIndexOf('/') !== (currentPath.length - 1)) {\n            currentPath = currentPath + '/';\n        }\n        this.originalPath = currentPath;\n        const paths = currentPath.split('/');\n        this.setProperties({ path: paths[0] + '/' }, true);\n        this.pathNames = [];\n        this.pathId = ['fe_tree'];\n        this.itemData = [];\n    }\n    initialize() {\n        if (this.isMobile) {\n            addClass([this.element], MOBILE);\n        }\n        if (this.allowMultiSelection) {\n            addClass([this.element], CHECK_SELECT);\n        }\n        this.addCssClass(null, this.cssClass);\n        this.renderFileUpload();\n    }\n    addWrapper() {\n        const headerWrap = this.createElement('div', { id: this.element.id + TOOLBAR_ID });\n        this.element.appendChild(headerWrap);\n        const layoutWrap = this.createElement('div', {\n            id: this.element.id + LAYOUT_ID, className: LAYOUT\n        });\n        this.element.appendChild(layoutWrap);\n        const navigationWrap = this.createElement('div', {\n            id: this.element.id + NAVIGATION_ID, className: NAVIGATION\n        });\n        const treeWrap = this.createElement('div', {\n            id: this.element.id + TREE_ID\n        });\n        navigationWrap.appendChild(treeWrap);\n        const contentWrap = this.createElement('div', {\n            id: this.element.id + CONTENT_ID, className: LAYOUT_CONTENT\n        });\n        this.breadCrumbBarNavigation = this.createElement('div', {\n            id: this.element.id + BREADCRUMBBAR_ID,\n            className: BREADCRUMBS\n        });\n        contentWrap.appendChild(this.breadCrumbBarNavigation);\n        const gridWrap = this.createElement('div', {\n            id: this.element.id + GRID_ID\n        });\n        contentWrap.appendChild(gridWrap);\n        const largeiconWrap = this.createElement('div', {\n            id: this.element.id + LARGEICON_ID,\n            className: LARGE_ICONS, attrs: { 'role': 'group' }\n        });\n        contentWrap.appendChild(largeiconWrap);\n        const overlay = this.createElement('span', { className: OVERLAY });\n        contentWrap.appendChild(overlay);\n        let paneSettings;\n        if (!this.enableRtl) {\n            layoutWrap.appendChild(navigationWrap);\n            layoutWrap.appendChild(contentWrap);\n            paneSettings = [\n                {\n                    size: '25%', min: this.navigationPaneSettings.minWidth.toString(),\n                    max: this.navigationPaneSettings.maxWidth.toString()\n                },\n                { size: '75%', min: '270px' }\n            ];\n        }\n        else {\n            layoutWrap.appendChild(contentWrap);\n            layoutWrap.appendChild(navigationWrap);\n            paneSettings = [\n                { size: '75%', min: '270px' },\n                {\n                    size: '25%', min: this.navigationPaneSettings.minWidth.toString(),\n                    max: this.navigationPaneSettings.maxWidth.toString()\n                }\n            ];\n        }\n        this.splitterObj = new Splitter({\n            paneSettings: paneSettings,\n            width: '100%',\n            enableRtl: false,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            resizing: this.splitterResize.bind(this)\n        });\n        this.splitterObj.isStringTemplate = true;\n        this.splitterObj.appendTo(layoutWrap);\n        const dialogWrap = this.createElement('div', { id: this.element.id + DIALOG_ID });\n        this.element.appendChild(dialogWrap);\n        const menuWrap = this.createElement('ul', { id: this.element.id + CONTEXT_MENU_ID });\n        this.element.appendChild(menuWrap);\n        const dialogImgWrap = this.createElement('div', { id: this.element.id + IMG_DIALOG_ID });\n        this.element.appendChild(dialogImgWrap);\n        const extnDialogWrap = this.createElement('div', { id: this.element.id + EXTN_DIALOG_ID });\n        this.element.appendChild(extnDialogWrap);\n        const uploadDialogWrap = this.createElement('div', { id: this.element.id + UPLOAD_DIALOG_ID });\n        this.element.appendChild(uploadDialogWrap);\n    }\n    adjustHeight() {\n        const toolbar = select('#' + this.element.id + TOOLBAR_ID, this.element);\n        const toolBarHeight = toolbar ? toolbar.offsetHeight : 0;\n        if (this.splitterObj) {\n            this.splitterObj.height = (this.element.clientHeight - toolBarHeight).toString();\n            this.splitterObj.dataBind();\n        }\n    }\n    /* istanbul ignore next */\n    splitterResize() {\n        this.notify(splitterResize, {});\n    }\n    splitterAdjust() {\n        const bar = select('.' + SPLIT_BAR, this.element);\n        if (this.navigationPaneSettings.visible) {\n            this.splitterObj.expand(this.enableRtl ? 1 : 0);\n            bar.classList.remove(DISPLAY_NONE);\n        }\n        else {\n            this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n            bar.classList.add(DISPLAY_NONE);\n        }\n    }\n    addCssClass(oldOne, newOne) {\n        if (!isNullOrUndefined(oldOne) && oldOne !== '') {\n            removeClass([this.element], oldOne.split(' '));\n        }\n        if (!isNullOrUndefined(newOne) && newOne !== '') {\n            addClass([this.element], newOne.split(' '));\n        }\n    }\n    showSpinner() {\n        showSpinner(this.element);\n    }\n    hideSpinner() {\n        hideSpinner(this.element);\n    }\n    onContextMenu(e) {\n        e.preventDefault();\n    }\n    checkMobile() {\n        return (/iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(Browser.userAgent.toLowerCase())\n            && /mobile/i.test(Browser.userAgent.toLowerCase()));\n    }\n    renderFileUpload() {\n        const id = this.element.id + UPLOAD_ID;\n        const uploadEle = this.createElement('input', { id: id, attrs: { name: 'uploadFiles', type: 'file' } });\n        this.element.appendChild(uploadEle);\n        this.uploadDialogObj = new Dialog({\n            header: getLocaleText(this, 'Header-Upload'),\n            content: uploadEle,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: false,\n            isModal: true,\n            width: '350px',\n            target: this.popupTarget ? this.popupTarget : '#' + this.element.id,\n            cssClass: getCssClass(this, this.isMobile ? MOB_POPUP : ROOT_POPUP),\n            locale: this.locale,\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: this.enableRtl,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            open: this.onOpen.bind(this),\n            close: this.onClose.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this)\n        });\n        this.uploadDialogObj.appendTo('#' + this.element.id + UPLOAD_DIALOG_ID);\n        this.renderUploadBox();\n    }\n    renderUploadBox() {\n        const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n        this.uploadObj = new Uploader({\n            dropArea: select('#' + this.element.id + CONTENT_ID, this.element),\n            asyncSettings: {\n                saveUrl: uploadUrl,\n                removeUrl: uploadUrl\n            },\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            uploading: this.onUploading.bind(this),\n            removing: this.onRemoving.bind(this),\n            clearing: this.onClearing.bind(this),\n            selected: this.onSelected.bind(this),\n            success: this.onUploadSuccess.bind(this),\n            failure: this.onUploadFailure.bind(this),\n            autoUpload: this.uploadSettings.autoUpload,\n            minFileSize: this.uploadSettings.minFileSize,\n            maxFileSize: this.uploadSettings.maxFileSize,\n            allowedExtensions: this.uploadSettings.allowedExtensions,\n            fileListRendering: this.onFileListRender.bind(this)\n        });\n        this.uploadObj.appendTo('#' + this.element.id + UPLOAD_ID);\n    }\n    onFileListRender(args) {\n        this.trigger('uploadListCreate', args);\n    }\n    updateUploader() {\n        this.uploadObj.autoUpload = this.uploadSettings.autoUpload;\n        this.uploadObj.minFileSize = this.uploadSettings.minFileSize;\n        this.uploadObj.maxFileSize = this.uploadSettings.maxFileSize;\n        this.uploadObj.allowedExtensions = this.uploadSettings.allowedExtensions;\n        this.uploadObj.dataBind();\n    }\n    onBeforeOpen(args) {\n        const eventArgs = {\n            cancel: args.cancel, popupName: 'Upload', popupModule: this.uploadDialogObj\n        };\n        this.trigger('beforePopupOpen', eventArgs, (eventargs) => {\n            args.cancel = eventargs.cancel;\n        });\n    }\n    onBeforeClose(args) {\n        const eventArgs = {\n            cancel: args.cancel, popupName: 'Upload', popupModule: this.uploadDialogObj\n        };\n        this.trigger('beforePopupClose', eventArgs, (eventargs) => {\n            args.cancel = eventargs.cancel;\n        });\n    }\n    onOpen() {\n        this.isOpened = true;\n        this.uploadDialogObj.element.focus();\n        const args = {\n            popupModule: this.uploadDialogObj, popupName: 'Upload',\n            element: this.uploadDialogObj.element\n        };\n        this.trigger('popupOpen', args);\n    }\n    onClose() {\n        this.isOpened = false;\n        this.uploadObj.clearAll();\n        const args = {\n            popupModule: this.uploadDialogObj, popupName: 'Upload',\n            element: this.uploadDialogObj.element\n        };\n        this.trigger('popupClose', args);\n    }\n    /* istanbul ignore next */\n    onUploading(args) {\n        let action = 'save';\n        if ((this.retryArgs.length !== 0)) {\n            for (let i = 0; i < this.retryArgs.length; i++) {\n                if (args.fileData.name === this.retryArgs[i].file.name) {\n                    action = this.retryArgs[i].action;\n                    this.retryArgs.splice(i, 1);\n                    i = this.retryArgs.length;\n                }\n            }\n        }\n        const data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n        args.customFormData = [{ 'path': this.path }, { 'action': action }, { 'data': data }];\n        const uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n        // eslint-disable-next-line\n        const ajaxSettings = {\n            url: uploadUrl,\n            type: 'POST',\n            mode: true,\n            dataType: null,\n            contentType: null,\n            data: JSON.stringify(args.customFormData),\n            onSuccess: null,\n            onFailure: null,\n            beforeSend: null\n        };\n        this.uploadEventArgs = { action: 'Upload', ajaxSettings: ajaxSettings, cancel: false };\n        this.trigger('beforeSend', this.uploadEventArgs, (uploadEventArgs) => {\n            args.customFormData = JSON.parse(getValue('data', uploadEventArgs.ajaxSettings));\n            args.cancel = uploadEventArgs.cancel;\n            // eslint-disable-next-line\n            const eventArgs = {\n                cancel: false,\n                httpRequest: args.currentRequest\n            };\n            if (typeof getValue('beforeSend', uploadEventArgs.ajaxSettings) === 'function') {\n                getValue('beforeSend', uploadEventArgs.ajaxSettings)(eventArgs);\n                if (getValue('cancel', eventArgs)) {\n                    args.cancel = getValue('cancel', eventArgs);\n                }\n            }\n        });\n    }\n    onRemoving() {\n        this.onFileUploadSuccess({ count: 1 });\n        if (this.uploadObj.getFilesData().length === 1) {\n            this.uploadDialogObj.hide();\n        }\n    }\n    /* istanbul ignore next */\n    onClearing() {\n        if (this.isOpened) {\n            this.uploadDialogObj.hide();\n        }\n    }\n    /* istanbul ignore next */\n    onSelected(args) {\n        if (args.filesData.length === 0) {\n            return;\n        }\n        this.uploadingCount = args.filesData.length;\n        this.uploadedCount = 0;\n        // eslint-disable-next-line\n        const details = getPathObject(this);\n        if (!hasUploadAccess(details)) {\n            args.cancel = true;\n            createDeniedDialog(this, details, permissionUpload);\n            return;\n        }\n        this.uploadDialogObj.show();\n    }\n    // eslint-disable-next-line\n    onFileUploadSuccess(args) {\n        this.uploadedCount = this.uploadedCount + args.count;\n        if (this.uploadSettings.autoClose && (this.uploadingCount === this.uploadedCount)) {\n            this.uploadDialogObj.hide();\n        }\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    onUploadSuccess(files) {\n        const args = { action: 'Upload', result: files };\n        this.trigger('success', args);\n        this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n        read(this, pathChanged, this.path);\n        this.onFileUploadSuccess({ count: 1 });\n        if (typeof getValue('onSuccess', this.uploadEventArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', this.uploadEventArgs.ajaxSettings)();\n        }\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    onUploadFailure(files) {\n        // eslint-disable-next-line\n        const response = getValue('response', files);\n        const statusText = getValue('statusText', response);\n        if (statusText !== '') {\n            setValue('statusText', statusText, files);\n        }\n        const args = { action: 'Upload', error: files };\n        this.trigger('failure', args);\n        if (getValue('statusCode', response) === 400) {\n            this.retryFiles.push(getValue('file', files));\n            if (!this.isRetryOpened) {\n                createExtDialog(this, 'UploadRetry');\n            }\n        }\n        if (typeof getValue('onFailure', this.uploadEventArgs.ajaxSettings) === 'function') {\n            getValue('onFailure', this.uploadEventArgs.ajaxSettings)();\n        }\n    }\n    onInitialEnd() {\n        setNextPath(this, this.path);\n    }\n    addEventListeners() {\n        this.on(beforeRequest, this.showSpinner, this);\n        this.on(afterRequest, this.hideSpinner, this);\n        this.on(initialEnd, this.onInitialEnd, this);\n        this.on(detailsInit, this.onDetailsInit, this);\n        this.on(skipUpload, this.onFileUploadSuccess, this);\n        EventHandler.add(this.element, 'contextmenu', this.onContextMenu, this);\n    }\n    removeEventListeners() {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off(beforeRequest, this.showSpinner);\n        this.off(afterRequest, this.hideSpinner);\n        this.off(initialEnd, this.onInitialEnd);\n        this.off(detailsInit, this.onDetailsInit);\n        this.off(skipUpload, this.onFileUploadSuccess);\n        EventHandler.remove(this.element, 'contextmenu', this.onContextMenu);\n    }\n    onDetailsInit() {\n        if (isNullOrUndefined(this.activeModule)) {\n            this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n        }\n    }\n    resizeHandler() {\n        this.adjustHeight();\n        this.notify(resizeEnd, {});\n    }\n    keyActionHandler(e) {\n        let uploadEle;\n        switch (e.action) {\n            case 'altN':\n                e.preventDefault();\n                this.itemData = [getPathObject(this)];\n                if (!hasContentAccess(this.itemData[0])) {\n                    createDeniedDialog(this, this.itemData[0], permissionEditContents);\n                }\n                else {\n                    createDialog(this, 'NewFolder');\n                }\n                break;\n            case 'f5':\n                e.preventDefault();\n                refresh(this);\n                break;\n            /* istanbul ignore next */\n            case 'ctrlShift1':\n                e.preventDefault();\n                this.fileView = 'Details';\n                this.setProperties({ view: 'Details' }, true);\n                showSpinner(this.element);\n                updateLayout(this, 'Details');\n                break;\n            /* istanbul ignore next */\n            case 'ctrlShift2':\n                e.preventDefault();\n                this.fileView = 'LargeIcons';\n                this.setProperties({ view: 'LargeIcons' }, true);\n                showSpinner(this.element);\n                updateLayout(this, 'LargeIcons');\n                break;\n            case 'ctrlU':\n                e.preventDefault();\n                uploadEle = select('#' + this.element.id + UPLOAD_ID, this.element);\n                uploadEle.click();\n                break;\n        }\n    }\n    wireEvents() {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    unWireEvents() {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n        this.keyboardModule.destroy();\n    }\n    setPath() {\n        this.setProperties({ selectedItems: [] }, true);\n        this.ensurePath();\n        this.notify(clearPathInit, { selectedNode: this.pathId[0] });\n        read(this, (this.path !== this.originalPath) ? initialEnd : finalizeEnd, this.path);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {FileManager} newProp\n     * @param  {FileManager} oldProp\n     * @returns void\n     * @private\n     */\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    onPropertyChanged(newProp, oldProp) {\n        let height;\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'ajaxSettings':\n                    this.ajaxSettingSetModel(newProp);\n                    break;\n                case 'allowDragAndDrop':\n                    this.allowDragAndDrop = newProp.allowDragAndDrop;\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'allowMultiSelection':\n                    if (this.allowMultiSelection) {\n                        addClass([this.element], CHECK_SELECT);\n                    }\n                    else {\n                        if (this.selectedItems.length > 1) {\n                            this.setProperties({ selectedItems: this.selectedItems.slice(this.selectedItems.length - 1) }, true);\n                        }\n                        removeClass([this.element], CHECK_SELECT);\n                    }\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'cssClass':\n                    this.addCssClass(oldProp.cssClass, newProp.cssClass);\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'detailsViewSettings':\n                    this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'enableRtl':\n                    this.enableRtl = newProp.enableRtl;\n                    this.refresh();\n                    break;\n                case 'rootAliasName':\n                    this.rootAliasName = newProp.rootAliasName;\n                    this.refresh();\n                    break;\n                case 'height':\n                    height = !isNullOrUndefined(newProp.height) ? formatUnit(newProp.height) : newProp.height;\n                    setStyleAttribute(this.element, { 'height': height });\n                    this.adjustHeight();\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'locale':\n                    if (!isNullOrUndefined(newProp.enableRtl)) {\n                        this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    }\n                    this.localeSetModelOption(newProp);\n                    break;\n                case 'navigationPaneSettings':\n                    this.splitterAdjust();\n                    this.notify(modelChanged, { module: 'navigationpane', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'path':\n                    this.setPath();\n                    break;\n                case 'searchSettings':\n                    if (!isNullOrUndefined(newProp.searchSettings.allowSearchOnTyping)) {\n                        this.setProperties({ searchSettings: { allowSearchOnTyping: newProp.searchSettings.allowSearchOnTyping } }, true);\n                    }\n                    if (isNullOrUndefined(newProp.searchSettings.ignoreCase)) {\n                        this.setProperties({ searchSettings: { ignoreCase: newProp.searchSettings.ignoreCase } }, true);\n                    }\n                    if (isNullOrUndefined(newProp.searchSettings.filterType)) {\n                        this.setProperties({ searchSettings: { filterType: newProp.searchSettings.filterType } }, true);\n                    }\n                    this.notify(modelChanged, { module: 'breadcrumbbar', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'selectedItems':\n                    if (this.view === 'Details') {\n                        this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    else if (this.view === 'LargeIcons') {\n                        this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    break;\n                case 'showFileExtension':\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'showHiddenItems':\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'showThumbnail':\n                    this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'toolbarSettings':\n                    this.adjustHeight();\n                    this.notify(modelChanged, { module: 'toolbar', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'uploadSettings':\n                    this.updateUploader();\n                    break;\n                case 'view':\n                    if (newProp.view === 'Details') {\n                        this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    else if (newProp.view === 'LargeIcons') {\n                        this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': !isNullOrUndefined(newProp.width) ? formatUnit(newProp.width) : newProp.width });\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'sortOrder':\n                    refresh(this);\n                    this.notify(sortByChange, {});\n                    break;\n                case 'popupTarget':\n                    if (this.uploadDialogObj) {\n                        this.uploadDialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.dialogObj) {\n                        this.dialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.extDialogObj) {\n                        this.extDialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.viewerObj) {\n                        this.viewerObj.target = newProp.popupTarget;\n                    }\n                    break;\n            }\n        }\n    }\n    /* istanbul ignore next */\n    ajaxSettingSetModel(newProp) {\n        if (!isNullOrUndefined(newProp.ajaxSettings.url)) {\n            this.setProperties({ ajaxSettings: { url: newProp.ajaxSettings.url } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.uploadUrl)) {\n            this.setProperties({ ajaxSettings: { uploadUrl: newProp.ajaxSettings.uploadUrl } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.downloadUrl)) {\n            this.setProperties({ ajaxSettings: { downloadUrl: newProp.ajaxSettings.downloadUrl } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.getImageUrl)) {\n            this.setProperties({ ajaxSettings: { getImageUrl: newProp.ajaxSettings.getImageUrl } }, true);\n        }\n        this.setProperties({ path: '/' }, true);\n        this.setProperties({ selectedItems: [] }, true);\n        super.refresh();\n    }\n    /* istanbul ignore next */\n    localeSetModelOption(newProp) {\n        this.uploadObj.locale = newProp.locale;\n        super.refresh();\n    }\n    /**\n     * Triggers when the component is destroyed.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (!this.refreshing) {\n            this.notify(destroy, {});\n        }\n        this.uploadObj.destroy();\n        this.uploadObj = null;\n        this.uploadDialogObj.destroy();\n        this.uploadDialogObj = null;\n        this.splitterObj.destroy();\n        this.splitterObj = null;\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            this.dialogObj = null;\n        }\n        if (this.viewerObj) {\n            this.viewerObj.destroy();\n            this.viewerObj = null;\n        }\n        if (this.extDialogObj) {\n            this.extDialogObj.destroy();\n            this.extDialogObj = null;\n        }\n        this.element.removeAttribute('style');\n        this.element.removeAttribute('tabindex');\n        this.removeEventListeners();\n        this.unWireEvents();\n        this.addCssClass(this.cssClass, null);\n        removeClass([this.element], [RTL, MOBILE, CHECK_SELECT]);\n        this.element.innerHTML = '';\n        super.destroy();\n    }\n    /**\n     * Creates a new folder in file manager.\n     *\n     * @param {string} name – Specifies the name of new folder in current path.\n     * If it is not specified, then the default new folder dialog will be opened.\n     * @returns {void}\n     */\n    createFolder(name) {\n        this.notify(methodCall, { action: 'createFolder' });\n        // eslint-disable-next-line\n        const details = [getPathObject(this)];\n        this.itemData = details;\n        if (name) {\n            if (/[/\\\\|*?\"<>:]/.test(name)) {\n                const result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(this, 'Validation-Invalid').replace('{0}', '\"' + name + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(this, 'Error', result);\n            }\n            else {\n                if (!hasContentAccess(details[0])) {\n                    createDeniedDialog(this, details[0], permissionEditContents);\n                }\n                else {\n                    createFolder(this, name);\n                }\n            }\n        }\n        else {\n            createNewFolder(this);\n        }\n    }\n    /**\n     * Deletes the folders or files from the given unique identifiers.\n     *\n     * @param {string} ids - Specifies the name of folders or files in current path. If you want to delete the nested level folders or\n     * files, then specify the filter path along with name of the folders or files when performing the search or custom filtering.\n     * For ID based file provider, specify the unique identifier of folders or files.\n     * If it is not specified, then delete confirmation dialog will be opened for selected item.\n     *\n     * @returns {void}\n     */\n    deleteFiles(ids) {\n        this.notify(methodCall, { action: 'deleteFiles', ids: ids });\n    }\n    /**\n     * Disables the specified toolbar items of the file manager.\n     *\n     * @param {string[]} items - Specifies an array of items to be disabled.\n     * @returns {void}\n     */\n    disableToolbarItems(items) {\n        if (!isNullOrUndefined(items)) {\n            this.toolbarModule.enableItems(items, false);\n        }\n    }\n    /**\n     * Downloads the folders or files from the given unique identifiers.\n     *\n     * @param {string} ids - Specifies the name of folders or files in current path. If you want to download the nested level folders\n     * or files, then specify the filter path along with name of the folders or files when performing search or custom filtering.\n     * For ID based file provider, specify the unique identifier of folders or files.\n     * If it is not specified, then the selected items will be downloaded.\n     *\n     * @returns {void}\n     */\n    downloadFiles(ids) {\n        this.notify(methodCall, { action: 'downloadFiles', ids: ids });\n    }\n    /**\n     * Enables the specified toolbar items of the file manager.\n     *\n     * @param {string[]} items - Specifies an array of items to be enabled.\n     * @returns {void}\n     */\n    enableToolbarItems(items) {\n        if (!isNullOrUndefined(items)) {\n            this.toolbarModule.enableItems(items, true);\n        }\n    }\n    /**\n     * Disables the specified context menu items in file manager. This method is used only in the menuOpen event.\n     *\n     * @param {string[]} items - Specifies an array of items to be disabled.\n     * @returns {void}\n     */\n    disableMenuItems(items) {\n        if (!isNullOrUndefined(items) && !isNullOrUndefined(this.contextmenuModule.contextMenu)) {\n            this.contextmenuModule.disableItem(items);\n        }\n    }\n    /**\n     * Returns the index position of given current context menu item in file manager.\n     *\n     * @param {string} item - Specifies an item to get the index position.\n     * @returns {number} - returns menu item index.\n     */\n    getMenuItemIndex(item) {\n        if (this.contextmenuModule) {\n            return this.contextmenuModule.getItemIndex(item);\n        }\n        else {\n            return -1;\n        }\n    }\n    /**\n     * Returns the index position of given toolbar item in file manager.\n     *\n     * @param {string} item - Specifies an item to get the index position.\n     * @returns {number} - returns toolbar item index.\n     */\n    getToolbarItemIndex(item) {\n        if (this.toolbarModule) {\n            return this.toolbarModule.getItemIndex(item);\n        }\n        else {\n            return -1;\n        }\n    }\n    /**\n     * Display the custom filtering files in file manager.\n     *\n     * @param {Object} filterData - Specifies the custom filter details along with custom file action name,\n     * which needs to be sent to the server side. If you do not specify the details, then default action name will be `filter`.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    filterFiles(filterData) {\n        this.filterData = filterData ? filterData : null;\n        this.setProperties({ selectedItems: [] }, true);\n        this.notify(selectionChanged, {});\n        this.isFiltered = true;\n        if (this.breadcrumbbarModule.searchObj.element.value !== '') {\n            this.breadcrumbbarModule.searchObj.element.value = '';\n        }\n        filter(this, filterEnd);\n    }\n    /**\n     * Gets the details of the selected files in the file manager.\n     *\n     * @returns {Object[]} - returns selected files.\n     */\n    // eslint-disable-next-line\n    getSelectedFiles() {\n        this.notify(updateSelectionData, {});\n        return this.itemData;\n    }\n    /**\n     * Opens the corresponding file or folder from the given unique identifier.\n     *\n     * @param {string} id - Specifies the name of folder or file in current path. If you want to open the nested level folder or\n     * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n     * file provider, specify the unique identifier of folder or file.\n     *\n     * @returns {void}\n     */\n    openFile(id) {\n        this.notify(methodCall, { action: 'openFile', id: id });\n    }\n    /**\n     * Refreshes the folder files of the file manager.\n     *\n     * @returns {void}\n     */\n    refreshFiles() {\n        refresh(this);\n    }\n    /**\n     * Refreshes the layout of the file manager.\n     *\n     * @returns {void}\n     */\n    refreshLayout() {\n        this.adjustHeight();\n        this.notify(layoutRefresh, {});\n    }\n    /**\n     * Selects the entire folders and files in current path.\n     *\n     * @returns {void}\n     */\n    selectAll() {\n        this.notify(methodCall, { action: 'selectAll' });\n    }\n    /**\n     * Deselects the currently selected folders and files in current path.\n     *\n     * @returns {void}\n     */\n    clearSelection() {\n        this.notify(methodCall, { action: 'clearSelection' });\n    }\n    /**\n     * Renames the file or folder with given new name in file manager.\n     *\n     * @param {string} id - Specifies the name of folder or file in current path. If you want to rename the nested level folder or\n     * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n     * file provider, specify the unique identifier of folder or file.\n     * If it is not specified, then rename dialog will be opened for selected item.\n     *\n     * @param {string} name – Specifies the new name of the file or folder in current path. If it is not specified, then rename dialog\n     * will be opened for given identifier.\n     *\n     * @returns {void}\n     */\n    renameFile(id, name) {\n        this.notify(methodCall, { action: 'renameFile', id: id, newName: name });\n    }\n    /**\n     * Opens the upload dialog in file manager.\n     *\n     * @returns {void}\n     */\n    uploadFiles() {\n        // eslint-disable-next-line\n        const details = [getPathObject(this)];\n        this.itemData = details;\n        uploadItem(this);\n    }\n    /**\n     * Specifies the direction of FileManager\n     *\n     * @param {boolean} rtl - specifies rtl parameter.\n     * @returns {void}\n     */\n    setRtl(rtl) {\n        if (rtl) {\n            this.addCssClass(null, RTL);\n        }\n        else {\n            this.addCssClass(RTL, null);\n        }\n        if (this.uploadObj) {\n            this.uploadDialogObj.enableRtl = rtl;\n            this.uploadObj.enableRtl = rtl;\n        }\n    }\n};\n__decorate$8([\n    Complex({}, AjaxSettings)\n], FileManager.prototype, \"ajaxSettings\", void 0);\n__decorate$8([\n    Property(false)\n], FileManager.prototype, \"allowDragAndDrop\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"allowMultiSelection\", void 0);\n__decorate$8([\n    Complex({}, ContextMenuSettings)\n], FileManager.prototype, \"contextMenuSettings\", void 0);\n__decorate$8([\n    Property('')\n], FileManager.prototype, \"cssClass\", void 0);\n__decorate$8([\n    Complex({}, DetailsViewSettings)\n], FileManager.prototype, \"detailsViewSettings\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$8([\n    Property(false)\n], FileManager.prototype, \"enablePersistence\", void 0);\n__decorate$8([\n    Property('400px')\n], FileManager.prototype, \"height\", void 0);\n__decorate$8([\n    Property('LargeIcons')\n], FileManager.prototype, \"view\", void 0);\n__decorate$8([\n    Complex({}, NavigationPaneSettings)\n], FileManager.prototype, \"navigationPaneSettings\", void 0);\n__decorate$8([\n    Property('/')\n], FileManager.prototype, \"path\", void 0);\n__decorate$8([\n    Property(null)\n], FileManager.prototype, \"popupTarget\", void 0);\n__decorate$8([\n    Complex({}, SearchSettings)\n], FileManager.prototype, \"searchSettings\", void 0);\n__decorate$8([\n    Property()\n], FileManager.prototype, \"selectedItems\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"showFileExtension\", void 0);\n__decorate$8([\n    Property(null)\n], FileManager.prototype, \"rootAliasName\", void 0);\n__decorate$8([\n    Property(false)\n], FileManager.prototype, \"showHiddenItems\", void 0);\n__decorate$8([\n    Property(true)\n], FileManager.prototype, \"showThumbnail\", void 0);\n__decorate$8([\n    Property('Ascending')\n], FileManager.prototype, \"sortOrder\", void 0);\n__decorate$8([\n    Complex({}, ToolbarSettings)\n], FileManager.prototype, \"toolbarSettings\", void 0);\n__decorate$8([\n    Complex({}, UploadSettings)\n], FileManager.prototype, \"uploadSettings\", void 0);\n__decorate$8([\n    Property('100%')\n], FileManager.prototype, \"width\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileLoad\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforeDownload\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforeImageLoad\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforePopupClose\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforePopupOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"beforeSend\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"created\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"destroyed\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDragStart\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDragging\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDragStop\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileDropped\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileSelection\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"fileSelect\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"menuClick\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"menuOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"failure\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"popupClose\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"popupOpen\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"success\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"toolbarClick\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"toolbarCreate\", void 0);\n__decorate$8([\n    Event()\n], FileManager.prototype, \"uploadListCreate\", void 0);\nFileManager = FileManager_1 = __decorate$8([\n    NotifyPropertyChanges\n], FileManager);\n\n/**\n * File Manager base modules\n */\n\n/**\n * Toolbar module\n */\nclass Toolbar$1 {\n    /**\n     * Constructor for the Toolbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies the parent element.\n     * @private\n     */\n    constructor(parent) {\n        this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n        this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n        this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n        this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n        this.parent = parent;\n        this.render();\n        this.addEventListener();\n    }\n    render() {\n        this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map((item) => item.trim())));\n        const eventArgs = { items: this.items };\n        this.parent.trigger('toolbarCreate', eventArgs, (toolbarCreateArgs) => {\n            this.items = toolbarCreateArgs.items;\n            this.toolbarObj = new Toolbar({\n                items: this.items,\n                created: this.toolbarCreateHandler.bind(this),\n                overflowMode: 'Popup',\n                clicked: this.onClicked.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                enableRtl: this.parent.enableRtl\n            });\n            this.toolbarObj.isStringTemplate = true;\n            this.toolbarObj.appendTo('#' + this.parent.element.id + TOOLBAR_ID);\n        });\n    }\n    getItemIndex(item) {\n        const itemId = this.getId(item);\n        for (let i = 0; i < this.items.length; i++) {\n            if (this.items[i].id === itemId) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    getItems(items) {\n        const currItems = items.slice();\n        if (this.parent.isDevice && this.parent.allowMultiSelection) {\n            currItems.push('SelectAll');\n        }\n        return currItems;\n    }\n    /* istanbul ignore next */\n    onClicked(args) {\n        if (isNullOrUndefined(args.item) || !args.item.id) {\n            return;\n        }\n        const tool = args.item.id.substr((this.parent.element.id + '_tb_').length);\n        // eslint-disable-next-line\n        let details;\n        if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(selectedData, {});\n            details = this.parent.itemData;\n        }\n        const eventArgs = { cancel: false, fileDetails: details, item: args.item };\n        this.parent.trigger('toolbarClick', eventArgs, (toolbarClickArgs) => {\n            let sItems;\n            let target;\n            if (!toolbarClickArgs.cancel) {\n                switch (tool) {\n                    case 'sortby':\n                        target = closest(args.originalEvent.target, '.' + TB_ITEM);\n                        if (target && target.classList.contains('e-toolbar-popup')) {\n                            args.cancel = true;\n                        }\n                        break;\n                    case 'newfolder':\n                        createNewFolder(this.parent);\n                        break;\n                    case 'cut':\n                        cutFiles(this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(this.parent);\n                        break;\n                    case 'delete':\n                        for (let i = 0; i < details.length; i++) {\n                            if (!hasEditAccess(details[i])) {\n                                createDeniedDialog(this.parent, details[i], permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(this.parent, 'Delete');\n                        break;\n                    case 'details':\n                        this.parent.notify(detailsInit, {});\n                        sItems = this.parent.selectedItems;\n                        if (this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(this.parent, sItems, this.parent.path, 'details');\n                        break;\n                    case 'paste':\n                        this.parent.folderPath = '';\n                        pasteHandler(this.parent);\n                        break;\n                    case 'refresh':\n                        refresh(this.parent);\n                        break;\n                    case 'download':\n                        doDownload(this.parent);\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(this.parent, details[0], permissionEdit);\n                        }\n                        else {\n                            this.parent.notify(renameInit, {});\n                            createDialog(this.parent, 'Rename');\n                        }\n                        break;\n                    case 'upload':\n                        uploadItem(this.parent);\n                        break;\n                    case 'selectall':\n                        this.parent.notify(selectAllInit, {});\n                        break;\n                    case 'selection':\n                        this.parent.notify(clearAllInit, {});\n                        break;\n                }\n            }\n        });\n    }\n    toolbarCreateHandler() {\n        if (!isNullOrUndefined(select('#' + this.getId('SortBy'), this.parent.element))) {\n            const items = [\n                { id: this.getPupupId('name'), text: getLocaleText(this.parent, 'Name'), iconCss: TB_OPTION_DOT },\n                { id: this.getPupupId('size'), text: getLocaleText(this.parent, 'Size') },\n                { id: this.getPupupId('date'), text: getLocaleText(this.parent, 'DateModified') },\n                { separator: true },\n                { id: this.getPupupId('ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                    iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '' },\n                { id: this.getPupupId('descending'), text: getLocaleText(this.parent, 'Descending'),\n                    iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '' },\n                { id: this.getPupupId('none'), text: getLocaleText(this.parent, 'None'),\n                    iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '' }\n            ];\n            this.buttonObj = new DropDownButton({\n                items: items, cssClass: getCssClass(this.parent, ROOT_POPUP),\n                select: sortbyClickHandler.bind(this, this.parent),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                enableRtl: this.parent.enableRtl, iconCss: ICON_SHORTBY\n            });\n            this.buttonObj.isStringTemplate = true;\n            this.buttonObj.appendTo('#' + this.getId('SortBy'));\n        }\n        if (!isNullOrUndefined(select('#' + this.getId('View'), this.parent.element))) {\n            const gridSpan = '<span class=\"' + ICON_GRID + ' ' + MENU_ICON + '\"></span>';\n            const largeIconSpan = '<span class=\"' + ICON_LARGE + ' ' + MENU_ICON + '\"></span>';\n            const layoutItems = [\n                {\n                    id: this.getPupupId('large'), text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n                    iconCss: this.parent.view === 'Details' ? '' : TB_OPTION_TICK\n                },\n                {\n                    id: this.getPupupId('details'), text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n                    iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : ''\n                }\n            ];\n            this.layoutBtnObj = new DropDownButton({\n                iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                cssClass: getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP),\n                items: layoutItems, select: this.layoutChange.bind(this),\n                enableRtl: this.parent.enableRtl,\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n            });\n            this.layoutBtnObj.isStringTemplate = true;\n            this.layoutBtnObj.appendTo('#' + this.getId('View'));\n        }\n        this.hideItems(this.default, true);\n        this.hideStatus();\n        const btnElement = selectAll('.e-btn', this.toolbarObj.element);\n        for (let btnCount = 0; btnCount < btnElement.length; btnCount++) {\n            /* istanbul ignore next */\n            btnElement[btnCount].onkeydown = (e) => {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    e.preventDefault();\n                }\n            };\n            btnElement[btnCount].onkeyup = (e) => {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    btnElement[btnCount].click();\n                }\n            };\n        }\n        this.parent.refreshLayout();\n    }\n    updateSortByButton() {\n        if (this.buttonObj) {\n            const items = this.buttonObj.items;\n            for (let itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('name')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'name' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('size')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'size' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('date')) {\n                    items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('ascending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('descending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('none')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '';\n                }\n            }\n        }\n    }\n    getPupupId(id) {\n        return this.parent.element.id + '_ddl_' + id.toLowerCase();\n    }\n    layoutChange(args) {\n        if (this.parent.view === 'Details') {\n            if (args.item.id === this.getPupupId('large')) {\n                updateLayout(this.parent, 'LargeIcons');\n            }\n        }\n        else {\n            if (args.item.id === this.getPupupId('details')) {\n                updateLayout(this.parent, 'Details');\n            }\n        }\n    }\n    toolbarItemData(data) {\n        const items = [];\n        let mode = 'Both';\n        if (this.parent.isMobile) {\n            mode = 'Overflow';\n        }\n        for (let i = 0; i < data.length; i++) {\n            let item;\n            const itemId = this.getId(data[i]);\n            const itemText = getLocaleText(this.parent, data[i]);\n            const itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n            const spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n            switch (data[i]) {\n                case '|':\n                    item = { type: 'Separator' };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_UPLOAD, showTextOn: mode };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip,\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_REFRESH, showTextOn: mode };\n                    break;\n                case 'Selection':\n                    item = {\n                        id: itemId, text: itemText, tooltipText: itemTooltip, suffixIcon: ICON_CLEAR, overflow: 'Show',\n                        align: 'Right'\n                    };\n                    break;\n                case 'View':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                        overflow: 'Show', align: 'Right', text: itemText, showTextOn: 'Overflow',\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' +\n                            getLocaleText(this.parent, 'View') + '></button>'\n                    };\n                    break;\n                case 'Details':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: ICON_DETAILS, overflow: 'Show', align: 'Right',\n                        text: itemText, showTextOn: 'Overflow'\n                    };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_NEWFOLDER, showTextOn: mode };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_CUT, showTextOn: mode };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_COPY, showTextOn: mode };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_PASTE, showTextOn: mode };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_DELETE, showTextOn: mode };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_RENAME, showTextOn: mode };\n                    break;\n                case 'Download':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_DOWNLOAD, showTextOn: mode };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_SELECTALL, showTextOn: mode };\n                    break;\n                default:\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    }\n    getId(id) {\n        return this.parent.element.id + '_tb_' + id.toLowerCase();\n    }\n    addEventListener() {\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(showPaste, this.showPaste, this);\n        this.parent.on(hidePaste, this.hidePaste, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(sortByChange, this.updateSortByButton, this);\n    }\n    reRenderToolbar(e) {\n        if (e.newProp.toolbarSettings.items !== undefined) {\n            this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map((item) => item.trim())));\n            const eventArgs = { items: this.items };\n            this.parent.trigger('toolbarCreate', eventArgs, (toolbarCreateArgs) => {\n                if (this.buttonObj) {\n                    this.buttonObj.destroy();\n                }\n                if (this.layoutBtnObj) {\n                    this.layoutBtnObj.destroy();\n                }\n                this.items = toolbarCreateArgs.items;\n                this.toolbarObj.items = this.items;\n                this.toolbarObj.dataBind();\n                this.toolbarCreateHandler();\n            });\n        }\n    }\n    onSelectionChanged() {\n        this.hideStatus();\n        this.hideItems(this.single, true);\n        this.hideItems(this.selection, false);\n        if (this.parent.selectedItems.length === 1) {\n            this.hideItems(this.single, false);\n            this.hideItems(this.selection, true);\n        }\n        else if (this.parent.selectedItems.length > 1) {\n            this.hideItems(this.multiple, false);\n            this.hideItems(this.selection, true);\n        }\n        const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (this.parent.selectedItems.length > 0 && ele) {\n            let txt;\n            if (this.parent.selectedItems.length === 1) {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n            }\n            else {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n            }\n            select('.e-tbar-btn-text', ele).textContent = txt;\n            this.toolbarObj.hideItem(ele.parentElement, false);\n        }\n    }\n    hideItems(tools, toHide) {\n        for (let i = 0; i < tools.length; i++) {\n            const ele = select('#' + this.getId(tools[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.hideItem(ele.parentElement, toHide);\n            }\n        }\n    }\n    hideStatus() {\n        const ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (ele) {\n            this.toolbarObj.hideItem(ele.parentElement, true);\n        }\n    }\n    showPaste() {\n        this.hideItems(['Paste'], false);\n    }\n    hidePaste() {\n        this.hideItems(['Paste'], true);\n    }\n    onLayoutChange() {\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE;\n            const items = this.layoutBtnObj.items;\n            for (let itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('large')) {\n                    items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('details')) {\n                    items[itemCount].iconCss = this.parent.view === 'Details' ? TB_OPTION_TICK : '';\n                }\n            }\n        }\n    }\n    removeEventListener() {\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(selectionChanged, this.onSelectionChanged);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(showPaste, this.showPaste);\n        this.parent.off(hidePaste, this.hidePaste);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(sortByChange, this.updateSortByButton);\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    getModuleName() {\n        return 'toolbar';\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'cssClass':\n                    if (this.buttonObj) {\n                        this.buttonObj.cssClass = getCssClass(this.parent, ROOT_POPUP);\n                    }\n                    if (this.layoutBtnObj) {\n                        this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP);\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.toolbarObj.refreshOverflow();\n                    break;\n                case 'toolbarSettings':\n                    this.reRenderToolbar(e);\n                    break;\n            }\n        }\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.buttonObj) {\n            this.buttonObj.destroy();\n        }\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.destroy();\n        }\n        this.toolbarObj.destroy();\n        this.parent.refreshLayout();\n    }\n    enableItems(items, isEnable) {\n        for (let i = 0; i < items.length; i++) {\n            const ele = select('#' + this.getId(items[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.enableItems(ele.parentElement, isEnable);\n            }\n        }\n    }\n}\n\n/**\n * File Manager actions modules\n */\n\n/**\n * NavigationPane module\n */\nclass NavigationPane {\n    /**\n     * Constructor for the TreeView module\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    constructor(parent) {\n        this.removeNodes = [];\n        this.moveNames = [];\n        this.expandTree = false;\n        this.isDrag = false;\n        this.isPathDragged = false;\n        this.isRenameParent = false;\n        this.isRightClick = false;\n        this.renameParent = null;\n        this.parent = parent;\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: 'ctrl+x',\n            ctrlC: 'ctrl+c',\n            ctrlV: 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftF10: 'shift+F10',\n            f2: 'f2'\n        };\n    }\n    onInit() {\n        if (!isNullOrUndefined(this.treeObj)) {\n            return;\n        }\n        // eslint-disable-next-line\n        const rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n        setValue('_fm_icon', 'e-fe-folder', rootData);\n        // eslint-disable-next-line\n        const attr = {};\n        const id = getValue('id', rootData);\n        if (!isNullOrUndefined(id)) {\n            setValue('data-id', id, attr);\n        }\n        if (!hasEditAccess(rootData)) {\n            setValue('class', getAccessClass(rootData), attr);\n        }\n        if (!isNullOrUndefined(attr)) {\n            setValue('_fm_htmlAttr', attr, rootData);\n        }\n        this.treeObj = new TreeView({\n            fields: {\n                dataSource: [rootData], id: '_fm_id', parentID: '_fm_pId', expanded: '_fm_expanded', selected: '_fm_selected', text: 'name',\n                hasChildren: 'hasChild', iconCss: '_fm_icon', htmlAttributes: '_fm_htmlAttr', tooltip: 'name'\n            },\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeExpanding: this.onNodeExpand.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            allowEditing: true,\n            nodeEditing: this.onNodeEditing.bind(this),\n            drawNode: this.onDrowNode.bind(this),\n            enableRtl: this.parent.enableRtl,\n            dataBound: this.addDragDrop.bind(this)\n        });\n        this.treeObj.isStringTemplate = true;\n        this.treeObj.appendTo('#' + this.parent.element.id + TREE_ID);\n        this.wireEvents();\n    }\n    addDragDrop() {\n        if (!this.parent.isMobile && this.treeObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.treeObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragTarget: '.' + FULLROW,\n                    distance: 5,\n                    dragArea: this.parent.element,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: (args) => {\n                        dragStartHandler(this.parent, args, this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableTailMode: true,\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    }\n    dragHelper(args) {\n        const dragTarget = args.sender.target;\n        if (!dragTarget.classList.contains(FULLROW)) {\n            return null;\n        }\n        const dragLi = closest(dragTarget, 'li');\n        this.parent.dragPath = '';\n        this.parent.dragData = [];\n        this.parent.activeElements = [];\n        this.parent.activeElements = [dragLi];\n        this.parent.dragNodes = [];\n        getModule(this.parent, dragLi);\n        // eslint-disable-next-line\n        this.parent.dragData = this.getTreeData(dragLi);\n        this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n        this.parent.dragNodes.push(this.parent.dragData[0].name);\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    }\n    getDragPath(dragLi, text) {\n        const path = this.getDropPath(dragLi, text);\n        return getParentPath(path);\n    }\n    getDropPath(node, text) {\n        const id = node.getAttribute('data-id');\n        const newText = this.parent.hasId ? id : text;\n        return getPath(node, newText, this.parent.hasId);\n    }\n    onDrowNode(args) {\n        const eventArgs = {\n            element: args.node,\n            fileDetails: args.nodeData,\n            module: 'NavigationPane'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    }\n    // eslint-disable-next-line\n    addChild(files, target, prevent) {\n        // eslint-disable-next-line\n        const directories = getDirectories(files);\n        if (directories.length > 0) {\n            let length = 0;\n            // eslint-disable-next-line\n            const folders = directories;\n            while (length < directories.length) {\n                // eslint-disable-next-line\n                folders[length]._fm_icon = 'e-fe-folder';\n                // eslint-disable-next-line\n                const attr = {};\n                const id = getValue('id', folders[length]);\n                if (!isNullOrUndefined(id)) {\n                    setValue('data-id', id, attr);\n                }\n                if (!hasEditAccess(folders[length])) {\n                    setValue('class', getAccessClass(folders[length]), attr);\n                }\n                if (!isNullOrUndefined(attr)) {\n                    setValue('_fm_htmlAttr', attr, folders[length]);\n                }\n                length++;\n            }\n            // eslint-disable-next-line\n            this.treeObj.addNodes(directories, target, null, prevent);\n        }\n    }\n    onNodeSelected(args) {\n        if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n            this.parent.breadcrumbbarModule.searchObj.element.value = '';\n            this.parent.isFiltered = false;\n        }\n        this.parent.searchedItems = [];\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n            return;\n        }\n        this.activeNode = args.node;\n        this.parent.activeModule = 'navigationpane';\n        // eslint-disable-next-line\n        const nodeData = this.getTreeData(getValue('id', args.nodeData));\n        if (!this.renameParent) {\n            const eventArgs = { cancel: false, fileDetails: nodeData[0], module: 'NavigationPane' };\n            delete eventArgs.cancel;\n            this.parent.trigger('fileOpen', eventArgs);\n        }\n        this.parent.selectedItems = [];\n        this.parent.itemData = nodeData;\n        updatePath(args.node, this.parent.itemData[0], this.parent);\n        this.expandNodeTarget = null;\n        if (args.node.querySelector('.' + ICONS) && args.node.querySelector('.' + LIST_ITEM) === null) {\n            this.expandNodeTarget = 'add';\n        }\n        read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n        this.parent.visitedItem = args.node;\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    onPathDrag(args) {\n        this.isPathDragged = true;\n        this.selectResultNode(args[0]);\n    }\n    /* istanbul ignore next */\n    onNodeExpand(args) {\n        if (!args.isInteracted && !this.isDrag) {\n            return;\n        }\n        if (args.node.querySelector('.' + LIST_ITEM) === null) {\n            const text = getValue('text', args.nodeData);\n            const id = args.node.getAttribute('data-id');\n            const isId = isNullOrUndefined(id) ? false : true;\n            const newText = isNullOrUndefined(id) ? text : id;\n            const path = getPath(args.node, newText, isId);\n            this.expandNodeTarget = args.node.getAttribute('data-uid');\n            this.parent.expandedId = this.expandNodeTarget;\n            this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n            read(this.parent, nodeExpand, path);\n        }\n    }\n    /* istanbul ignore next */\n    onNodeExpanded(args) {\n        this.addChild(args.files, this.expandNodeTarget, false);\n        this.parent.expandedId = null;\n    }\n    onNodeClicked(args) {\n        this.parent.activeModule = 'navigationpane';\n        this.activeNode = args.node;\n        if ((args.event.which === 3) && (args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0])) {\n            this.isRightClick = true;\n            this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n        }\n        else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            const layout = (this.parent.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n            this.parent.notify(modelChanged, { module: layout, newProp: { selectedItems: [] } });\n        }\n    }\n    /* istanbul ignore next */\n    onNodeEditing(args) {\n        if (!isNullOrUndefined(args.innerHtml)) {\n            args.cancel = true;\n        }\n    }\n    onPathChanged(args) {\n        this.parent.isCut = false;\n        // eslint-disable-next-line\n        const currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n        if (this.expandNodeTarget === 'add') {\n            const sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n            const ul = select('.' + LIST_PARENT, sNode);\n            if (isNullOrUndefined(ul)) {\n                this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n            }\n            this.expandNodeTarget = '';\n        }\n        this.expandTree = false;\n        if (isNullOrUndefined(currFiles)) {\n            setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n        }\n    }\n    updateTree(args) {\n        if (this.treeObj) {\n            const id = this.treeObj.selectedNodes[0];\n            this.updateTreeNode(args, id);\n        }\n    }\n    updateTreeNode(args, id) {\n        const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, !toExpand);\n    }\n    removeChildNodes(id) {\n        const sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n        const parent = select('.' + LIST_PARENT, sNode);\n        const childs = parent ? Array.prototype.slice.call(parent.children) : null;\n        if (childs) {\n            this.treeObj.removeNodes(childs);\n        }\n    }\n    onOpenEnd(args) {\n        const sleId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n        this.treeObj.selectedNodes = [sleId];\n        this.expandNodeTarget = 'add';\n        this.onPathChanged(args);\n    }\n    onOpenInit(args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            if (args.target.querySelector('.' + ICONS)) {\n                this.treeObj.expandAll(this.treeObj.selectedNodes);\n            }\n        }\n    }\n    onInitialEnd(args) {\n        this.onInit();\n        this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n    }\n    onFinalizeEnd(args) {\n        this.onInit();\n        const id = getValue('_fm_id', args.cwd);\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, false);\n        this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n    }\n    onCreateEnd(args) {\n        this.updateTree(args);\n    }\n    onSelectedData() {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateItemData();\n        }\n    }\n    onDeleteInit() {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateActionData();\n            const name = getValue('name', this.parent.itemData[0]);\n            Delete(this.parent, [name], this.parent.path, 'delete');\n        }\n    }\n    /* istanbul ignore next */\n    onDeleteEnd(args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            const selectedNode = this.treeObj.selectedNodes[0];\n            const selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n            const selectedNodeEle = closest(selcetedEle, '.' + LIST_PARENT).parentElement;\n            this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n            this.treeObj.dataBind();\n        }\n        this.updateTree(args);\n    }\n    onRefreshEnd(args) {\n        this.updateTree(args);\n    }\n    onRenameInit() {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateRenameData();\n        }\n    }\n    /* istanbul ignore next */\n    onRenameEndParent(args) {\n        const id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n        this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n        this.updateTreeNode(args, id);\n        this.parent.expandedId = null;\n        if (this.renameParent) {\n            this.renameParent = null;\n        }\n        else {\n            // eslint-disable-next-line\n            let resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                const nData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.isRenameParent = true;\n                const id = getValue(this.treeObj.fields.id, resultData[0]);\n                this.treeObj.selectedNodes = [id];\n                this.treeObj.dataBind();\n            }\n        }\n    }\n    /* istanbul ignore next */\n    onRenameEnd(args) {\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            this.updateTree(args);\n        }\n        else {\n            // eslint-disable-next-line\n            const data = this.treeObj.getTreeData();\n            // eslint-disable-next-line\n            let resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(data).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                const nData = new DataManager(data).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n                this.parent.expandedId = this.renameParent;\n                this.parent.itemData = this.getTreeData(this.renameParent);\n                read(this.parent, renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n            }\n        }\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.addDragDrop();\n                    break;\n                case 'navigationPaneSettings':\n                    read(this.parent, finalizeEnd, '/');\n                    break;\n            }\n        }\n    }\n    /* istanbul ignore next */\n    onDownLoadInit() {\n        this.doDownload();\n    }\n    onSelectionChanged(e) {\n        this.treeObj.selectedNodes = [e.selectedNode];\n    }\n    onClearPathInit(e) {\n        this.removeChildNodes(e.selectedNode);\n    }\n    onDragEnd(args) {\n        let moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchDrag) {\n            moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    }\n    // eslint-disable-next-line\n    getMoveNames(files, flag, path) {\n        const moveNames = [];\n        for (let i = 0; i < files.length; i++) {\n            if (!files[i].isFile) {\n                if (!this.parent.hasId) {\n                    let name = (files[i].previousName);\n                    if (flag) {\n                        path = path + files[i].previousName;\n                        const index = path.lastIndexOf('/');\n                        name = path.substring(index + 1);\n                        path = path.substring(0, index + 1);\n                    }\n                    // eslint-disable-next-line\n                    const resultData = new DataManager(this.treeObj.getTreeData()).\n                        executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name, false));\n                    for (let j = 0; j < resultData.length; j++) {\n                        let fPath = getValue('filterPath', resultData[j]);\n                        fPath = fPath.replace(/\\\\/g, '/');\n                        if (fPath === path) {\n                            moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return moveNames;\n    }\n    onCutEnd(args) {\n        let moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchCut) {\n            this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    selectResultNode(resultObj) {\n        if (!this.parent.hasId) {\n            const path = getValue('filterPath', resultObj);\n            const itemname = getValue('name', resultObj);\n            // eslint-disable-next-line\n            const data = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n            if (data.length > 0) {\n                // eslint-disable-next-line\n                const resultData = new DataManager(data).\n                    executeLocal(new Query().where('filterPath', 'equal', path, false));\n                if (resultData.length > 0) {\n                    const id = getValue(this.treeObj.fields.id, resultData[0]);\n                    this.treeObj.selectedNodes = [id];\n                    this.treeObj.dataBind();\n                }\n            }\n        }\n        else {\n            this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n            this.treeObj.dataBind();\n        }\n    }\n    onDropPath(args) {\n        this.onpasteEnd(args);\n        this.selectResultNode(this.parent.dropData);\n        this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n    onpasteEnd(args) {\n        // eslint-disable-next-line\n        let resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n        }\n        else {\n            // eslint-disable-next-line\n            const nData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n            if (nData.length > 0) {\n                resultData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n            }\n        }\n        if (resultData.length > 0) {\n            const id = getValue(this.treeObj.fields.id, resultData[0]);\n            const toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n            this.removeChildNodes(id);\n            this.addChild(args.files, id, toExpand);\n        }\n        this.parent.expandedId = null;\n        this.onPathChanged(args);\n        if (this.parent.isDragDrop) {\n            this.checkDropPath(args);\n        }\n    }\n    /* istanbul ignore next */\n    checkDropPath(args) {\n        if (this.parent.hasId) {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n            readDropPath(this.parent);\n            return;\n        }\n        if ((this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1)) {\n            this.parent.isDropEnd = false;\n            readDropPath(this.parent);\n        }\n        else {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n        }\n    }\n    onpasteInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.updateItemData();\n        }\n        this.moveNames = [];\n        // eslint-disable-next-line\n        const obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n        for (let i = 0; i < obj.length; i++) {\n            if (getValue('isFile', obj[i]) === false) {\n                this.moveNames.push(getValue('_fm_id', obj[i]));\n            }\n        }\n    }\n    oncutCopyInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.activeElements = [this.activeNode];\n        }\n    }\n    addEventListener() {\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(downloadInit, this.onDownLoadInit, this);\n        this.parent.on(initialEnd, this.onInitialEnd, this);\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutEnd, this.onCutEnd, this);\n        this.parent.on(pasteInit, this.onpasteInit, this);\n        this.parent.on(nodeExpand, this.onNodeExpanded, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(updateTreeSelection, this.onSelectionChanged, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(openEnd, this.onOpenEnd, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onRenameEnd, this);\n        this.parent.on(renameEndParent, this.onRenameEndParent, this);\n        this.parent.on(clearPathInit, this.onClearPathInit, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(dragEnd, this.onDragEnd, this);\n        this.parent.on(dragging, this.onDragging, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(pathDrag, this.onPathDrag, this);\n    }\n    removeEventListener() {\n        this.parent.off(initialEnd, this.onInitialEnd);\n        this.parent.off(downloadInit, this.onDownLoadInit);\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutEnd, this.onCutEnd);\n        this.parent.off(pasteInit, this.onpasteInit);\n        this.parent.off(updateTreeSelection, this.onSelectionChanged);\n        this.parent.off(nodeExpand, this.onNodeExpanded);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(openEnd, this.onOpenEnd);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onRenameEnd);\n        this.parent.off(renameEndParent, this.onRenameEndParent);\n        this.parent.off(clearPathInit, this.onClearPathInit);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(dragEnd, this.onDragEnd);\n        this.parent.off(dragging, this.onDragging);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(pathDrag, this.onPathDrag);\n    }\n    /* istanbul ignore next */\n    onDetailsInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            // eslint-disable-next-line\n            const dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.itemData = dataobj;\n        }\n    }\n    // eslint-disable-next-line\n    onMenuItemData(args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            const liEle = closest(args.target, 'li');\n            this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n        }\n    }\n    /* istanbul ignore next */\n    onDragging(args) {\n        const ele = closest(args.target, 'li');\n        if (ele.classList.contains('e-node-collapsed')) {\n            this.isDrag = true;\n            const level = parseInt(ele.getAttribute('aria-level'), 10);\n            this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n            this.isDrag = false;\n        }\n    }\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            const dropLi = closest(args.target, 'li');\n            this.parent.dropData = this.getTreeData(dropLi)[0];\n            this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    getModuleName() {\n        return 'navigationpane';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.treeObj) {\n            this.unWireEvents();\n            this.treeObj.destroy();\n        }\n    }\n    wireEvents() {\n        this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n            keyAction: this.keyDown.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    }\n    unWireEvents() {\n        this.keyboardModule.destroy();\n    }\n    /* istanbul ignore next */\n    keyDown(e) {\n        const action = e.action;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(detailsInit, {});\n                GetDetails(this.parent, [], this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n                this.updateItemData();\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n                else {\n                    this.removeNodes = [];\n                    createDialog(this.parent, 'Delete');\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'shiftF10':\n                this.updateItemData();\n                if (!hasDownloadAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionDownload);\n                    return;\n                }\n                if (this.parent.selectedItems.length !== 0) {\n                    this.doDownload();\n                }\n                break;\n            case 'f2':\n                if (this.parent.selectedItems.length === 0) {\n                    // eslint-disable-next-line\n                    const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n                    if (!hasEditAccess(data)) {\n                        createDeniedDialog(this.parent, data, permissionEdit);\n                    }\n                    else {\n                        this.updateRenameData();\n                        createDialog(this.parent, 'Rename');\n                    }\n                }\n                break;\n        }\n    }\n    // eslint-disable-next-line\n    getTreeData(args) {\n        // eslint-disable-next-line\n        const data = this.treeObj.getTreeData(args);\n        for (let i = 0; i < data.length; i++) {\n            if (isNullOrUndefined(getValue('hasChild', data[i]))) {\n                setValue('hasChild', false, data[i]);\n            }\n        }\n        return data;\n    }\n    updateRenameData() {\n        this.updateItemData();\n        this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n    }\n    updateItemData() {\n        // eslint-disable-next-line\n        const data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n        this.parent.itemData = [data];\n        this.parent.isFile = false;\n    }\n    updateActionData() {\n        this.updateItemData();\n        const newPath = getParentPath(this.parent.path);\n        this.parent.setProperties({ path: newPath }, true);\n        this.parent.pathId.pop();\n        this.parent.pathNames.pop();\n    }\n    /* istanbul ignore next */\n    doDownload() {\n        const newPath = getParentPath(this.parent.path);\n        const itemId = this.treeObj.selectedNodes[0];\n        const name = (itemId === this.parent.pathId[0]) ? '' : getValue('name', this.parent.itemData[0]);\n        Download(this.parent, newPath, [name]);\n    }\n}\n\n/**\n * DetailsView module\n */\nclass DetailsView {\n    /**\n     * Constructor for the GridView module\n     *\n     * @param {FileManager} parent - specifies the parent.\n     * @hidden\n     */\n    constructor(parent) {\n        this.isInteracted = true;\n        this.interaction = true;\n        this.isPasteOperation = false;\n        this.isColumnRefresh = false;\n        this.dragObj = null;\n        this.startIndex = null;\n        this.firstItemIndex = null;\n        this.isSelectionUpdate = false;\n        this.currentSelectedItem = [];\n        this.count = 0;\n        this.isRendered = true;\n        this.isLoaded = false;\n        this.isNameWidth = false;\n        this.pasteOperation = false;\n        this.uploadOperation = false;\n        Grid.Inject(Resize, ContextMenu$1, Sort, VirtualScroll);\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + GRID_ID, this.parent.element);\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            ctrlUp: 'ctrl+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            end: 'end',\n            home: 'home',\n            moveUp: 'uparrow',\n            del: 'delete',\n            ctrlX: 'ctrl+x',\n            ctrlC: 'ctrl+c',\n            ctrlV: 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftdel: 'shift+delete',\n            ctrlD: 'ctrl+d',\n            f2: 'f2',\n            ctrlA: 'ctrl+a',\n            enter: 'enter'\n        };\n    }\n    /* istanbul ignore next */\n    render(args) {\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'Details') {\n            removeClass([this.parent.element], MULTI_SELECT);\n            // eslint-disable-next-line\n            const items = getSortedData(this.parent, args.files);\n            this.checkNameWidth();\n            const columns = this.getColumns();\n            let sortSettings;\n            if (this.parent.isMobile) {\n                sortSettings = [];\n            }\n            else {\n                if (this.parent.sortOrder !== 'None') {\n                    sortSettings = [{ direction: this.parent.sortOrder, field: this.parent.sortBy }];\n                }\n            }\n            this.gridObj = new Grid({\n                dataSource: items,\n                allowSorting: true,\n                rowSelecting: this.onSelection.bind(this, 'select'),\n                rowDeselecting: this.onSelection.bind(this, 'unselect'),\n                rowSelected: this.onSelected.bind(this),\n                rowDeselected: this.onDeSelection.bind(this),\n                allowResizing: this.parent.detailsViewSettings.columnResizing,\n                selectionSettings: {\n                    type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n                    checkboxMode: 'ResetOnRowClick'\n                },\n                enableRtl: this.parent.enableRtl,\n                pageSettings: { pageSize: 20 },\n                sortSettings: { allowUnsort: false, columns: sortSettings },\n                columns: columns,\n                recordDoubleClick: this.DblClickEvents.bind(this),\n                beforeDataBound: this.onBeforeDataBound.bind(this),\n                dataBound: this.onDataBound.bind(this),\n                rowDataBound: this.onRowDataBound.bind(this),\n                actionBegin: this.onActionBegin.bind(this),\n                headerCellInfo: this.onHeaderCellInfo.bind(this),\n                width: '100%',\n                beforeCopy: (args) => { args.cancel = true; },\n                // eslint-disable-next-line\n                load: function (args) {\n                    this.focusModule.destroy();\n                },\n                locale: this.parent.locale\n            });\n            this.gridObj.isStringTemplate = true;\n            this.gridObj.appendTo('#' + this.parent.element.id + GRID_ID);\n            this.wireEvents();\n            this.adjustHeight();\n            this.emptyArgs = args;\n        }\n    }\n    checkNameWidth() {\n        const initialColumn = this.parent.detailsViewSettings.columns;\n        this.isNameWidth = false;\n        for (let i = 0; i < initialColumn.length; i++) {\n            if (initialColumn[i].field === 'name') {\n                this.isNameWidth = !isNullOrUndefined(initialColumn[i].width);\n                return;\n            }\n        }\n    }\n    adjustWidth(columns, fieldName) {\n        if (this.isNameWidth && (fieldName === 'name')) {\n            return;\n        }\n        for (let i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                let nameWidth;\n                if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                    nameWidth = (this.element.clientWidth <= 500) ? '120px' : 'auto';\n                }\n                else {\n                    nameWidth = (this.element.clientWidth <= 680) ? ((fieldName === 'name') ? '120px' : '180px') : 'auto';\n                }\n                columns[i].width = nameWidth;\n            }\n        }\n    }\n    getColumns() {\n        let columns;\n        if (this.parent.isMobile) {\n            columns = [\n                {\n                    field: 'name', headerText: getLocaleText(this.parent, 'Name'), width: 'auto', minWidth: 120, headerTextAlign: 'Left',\n                    template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' +\n                        '<span class=\"e-fe-size\">${size}</span>'\n                }\n            ];\n        }\n        else {\n            columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n            this.adjustWidth(columns, 'name');\n            for (let i = 0, len = columns.length; i < len; i++) {\n                columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n            }\n        }\n        const iWidth = ((this.parent.isMobile || this.parent.isBigger) ? '54' : '46');\n        const icon = {\n            field: 'type', width: iWidth, minWidth: iWidth, template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n            allowResizing: false, allowSorting: true, customAttributes: { class: 'e-fe-grid-icon' },\n            headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n        };\n        columns.unshift(icon);\n        if (this.parent.allowMultiSelection) {\n            const cWidth = (this.parent.isBigger ? '36' : '26');\n            const cBox = {\n                type: 'checkbox', width: cWidth, minWidth: cWidth, customAttributes: { class: 'e-fe-checkbox' },\n                allowResizing: false, allowSorting: false\n            };\n            if (this.parent.isMobile) {\n                columns.push(cBox);\n            }\n            else {\n                columns.unshift(cBox);\n            }\n        }\n        for (let i = 0, len = columns.length; i < len; i++) {\n            columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n        }\n        return columns;\n    }\n    adjustHeight() {\n        if (!this.gridObj) {\n            return;\n        }\n        const pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n        const bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n        const gridHeader = select('.' + GRID_HEADER, this.parent.element);\n        const height = (pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight);\n        this.gridObj.height = height;\n        this.gridObj.dataBind();\n    }\n    renderCheckBox() {\n        this.gridObj.columns = this.getColumns();\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n    }\n    onRowDataBound(args) {\n        let td = select('.e-fe-grid-name', args.row);\n        if (!td) {\n            const columns = this.parent.detailsViewSettings.columns;\n            for (let i = 0; i < columns.length; i++) {\n                if (columns[i].field === 'name') {\n                    td = args.row.children[this.parent.allowMultiSelection ? (i + 2) : (i + 1)];\n                    break;\n                }\n            }\n        }\n        if (td) {\n            td.setAttribute('title', getValue('name', args.data));\n        }\n        if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' &&\n            this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n            if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n                addBlur(args.row);\n            }\n        }\n        if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n            const textEle = args.row.querySelector('.e-fe-text');\n            if (textEle) {\n                const name = getValue('name', args.data);\n                const type = getValue('type', args.data);\n                textEle.innerHTML = name.substr(0, name.length - type.length);\n            }\n        }\n        if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n            const sizeEle = args.row.querySelector('.e-fe-size');\n            let modifiedSize;\n            if (!getValue('isFile', args.data)) {\n                modifiedSize = '';\n            }\n            else {\n                const sizeValue = getValue('size', args.data);\n                const intl = new Internationalization(this.parent.locale);\n                const value = intl.formatNumber((sizeValue / 1024), { format: 'n' });\n                modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n            }\n            sizeEle.innerHTML = modifiedSize;\n        }\n        if (this.parent.isMobile) {\n            if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n                const dateEle = args.row.querySelector('.e-fe-date');\n                const intl = new Internationalization(this.parent.locale);\n                const columns = this.parent.detailsViewSettings.columns;\n                // eslint-disable-next-line\n                let format;\n                for (let i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'dateModified') {\n                        format = columns[i].format;\n                        break;\n                    }\n                }\n                const formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n                dateEle.innerHTML = formattedString;\n            }\n        }\n        const checkWrap = args.row.querySelector('.' + CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n        if (!hasEditAccess(args.data)) {\n            args.row.className += ' ' + getAccessClass(args.data);\n        }\n        const eventArgs = {\n            element: args.row,\n            fileDetails: args.data,\n            module: 'DetailsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    }\n    onActionBegin(args) {\n        if (args.requestType === 'sorting') {\n            this.parent.setProperties({ sortOrder: args.direction }, true);\n            this.parent.setProperties({ sortBy: args.columnName }, true);\n            if (this.parent.selectedItems.length !== 0) {\n                this.sortItem = true;\n                const rows = this.gridObj.getSelectedRowIndexes();\n                let len = rows.length;\n                this.sortSelectedNodes = [];\n                while (len > 0) {\n                    // eslint-disable-next-line\n                    const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n                    this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n                    len--;\n                }\n            }\n            this.parent.notify(sortByChange, {});\n        }\n    }\n    onHeaderCellInfo(args) {\n        const checkWrap = args.node.querySelector('.' + CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n    }\n    onBeforeDataBound(args) {\n        showSpinner(this.parent.element);\n        // eslint-disable-next-line\n        const items = getSortedData(this.parent, this.gridObj.dataSource);\n        args.result = items;\n    }\n    /* istanbul ignore next */\n    onDataBound() {\n        this.createDragObj();\n        if (this.parent.selectedItems.length !== 0) {\n            this.selectRecords(this.parent.selectedItems);\n        }\n        if (this.isPasteOperation === true) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.parent.createdItem) {\n            this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n            this.parent.createdItem = null;\n        }\n        if (this.parent.layoutSelectedItems.length) {\n            this.selectRecords(this.parent.layoutSelectedItems);\n        }\n        if (this.parent.renamedItem) {\n            this.addSelection(this.parent.renamedItem);\n            this.parent.renamedItem = null;\n        }\n        if (this.sortItem === true) {\n            this.selectRecords(this.sortSelectedNodes);\n            this.sortItem = false;\n        }\n        if (this.isSelectionUpdate) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.currentSelectedItem);\n                this.isSelectionUpdate = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.uploadOperation === true) {\n            this.count++;\n            this.selectRecords(this.parent.uploadItem);\n            if (this.count === this.parent.uploadItem.length) {\n                this.uploadOperation = false;\n                this.parent.uploadItem = [];\n            }\n        }\n        if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n            const hdTable = this.gridObj.getHeaderContent();\n            hdTable.style.paddingRight = '';\n            hdTable.style.paddingLeft = '';\n            const hdContent = select('.e-headercontent', hdTable);\n            hdContent.style.borderRightWidth = '0';\n            const cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.style.overflowY = '';\n            cnTable.classList.add('e-scrollShow');\n        }\n        else {\n            const hdTable = this.gridObj.getHeaderContent();\n            if (!this.parent.enableRtl) {\n                hdTable.style.paddingRight = '16px';\n            }\n            else {\n                hdTable.style.paddingLeft = '16px';\n            }\n            const cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.classList.remove('e-scrollShow');\n        }\n        this.isRendered = true;\n        this.parent.isLayoutChange = false;\n        hideSpinner(this.parent.element);\n        this.checkEmptyDiv(this.emptyArgs);\n        this.isInteracted = this.isLoaded ? true : this.isInteracted;\n        this.isLoaded = false;\n    }\n    selectRecords(nodes) {\n        // eslint-disable-next-line\n        const gridRecords = this.gridObj.getCurrentViewRecords();\n        const sRecords = [];\n        for (let i = 0, len = gridRecords.length; i < len; i++) {\n            const node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n            if (nodes.indexOf(node) !== -1) {\n                sRecords.push(i);\n            }\n        }\n        if (sRecords.length !== 0) {\n            this.gridObj.selectRows(sRecords);\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n    }\n    // eslint-disable-next-line\n    addSelection(data) {\n        // eslint-disable-next-line\n        const items = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        let rData = [];\n        if (this.parent.hasId) {\n            rData = new DataManager(items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            const nData = new DataManager(items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (nData.length > 0) {\n                rData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (rData.length > 0) {\n            const index = items.indexOf(rData[0]);\n            this.gridObj.selectRows([index]);\n        }\n    }\n    onSortColumn() {\n        if (this.parent.sortOrder !== 'None') {\n            this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n        else {\n            // eslint-disable-next-line\n            this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n    }\n    onPropertyChanged(e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (const prop of Object.keys(e.newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'detailsViewSettings':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.checkNameWidth();\n                        const columns = this.getColumns();\n                        this.gridObj.columns = columns;\n                        this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n                        this.gridObj.dataBind();\n                        this.gridObj.refreshColumns();\n                    }\n                    break;\n                case 'selectedItems':\n                    this.interaction = false;\n                    if (this.parent.selectedItems.length !== 0) {\n                        if (!this.parent.allowMultiSelection) {\n                            const slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n                            this.parent.setProperties({ selectedItems: slItems }, true);\n                        }\n                        this.selectRecords(this.parent.selectedItems);\n                        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    }\n                    else if (!isNullOrUndefined(this.gridObj)) {\n                        this.gridObj.clearSelection();\n                    }\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.currentSelectedItem = this.parent.selectedItems;\n                        this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n                        this.isSelectionUpdate = true;\n                        this.renderCheckBox();\n                    }\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'Details');\n                    break;\n                case 'width':\n                    this.onDetailsResize();\n            }\n        }\n    }\n    onPathChanged(args) {\n        this.parent.isCut = false;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n            this.parent.searchedItems = [];\n            if (!this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n            else {\n                this.updatePathColumn();\n            }\n        }\n        removeBlur(this.parent);\n        if (this.parent.view === 'Details') {\n            /* istanbul ignore next */\n            this.isInteracted = false;\n            showSpinner(this.parent.element);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        }\n        this.emptyArgs = args;\n    }\n    updatePathColumn() {\n        const len = this.gridObj.columns.length;\n        const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n            const pathColumn$$1 = {\n                field: 'filterPath', headerText: getLocaleText(this.parent, 'Path'), minWidth: 180, width: 'auto'\n            };\n            this.gridObj.columns.push(pathColumn$$1);\n            this.adjustWidth(this.gridObj.columns, 'filterPath');\n            this.adjustWidth(this.gridObj.columns, 'name');\n            this.isColumnRefresh = true;\n            this.gridObj.refreshColumns();\n        }\n    }\n    checkEmptyDiv(args) {\n        // eslint-disable-next-line\n        const items = getSortedData(this.parent, args.files);\n        if (items.length === 0 && !isNullOrUndefined(this.element.querySelector('.' + GRID_VIEW))) {\n            createEmptyElement(this.parent, this.element, args);\n        }\n        else if (items.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n            if (this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY)) {\n                const emptyDiv = this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY);\n                this.element.querySelector('.' + GRID_VIEW).removeChild(emptyDiv);\n            }\n            else {\n                this.element.removeChild(this.element.querySelector('.' + EMPTY));\n            }\n        }\n    }\n    onOpenInit() {\n        if (this.parent.activeModule === 'detailsview') {\n            // eslint-disable-next-line\n            const data = this.gridObj.getSelectedRecords()[0];\n            this.openContent(data);\n        }\n    }\n    DblClickEvents(args) {\n        this.gridObj.selectRows([args.rowIndex]);\n        // eslint-disable-next-line\n        let data;\n        if (args.rowData) {\n            data = JSON.parse(JSON.stringify(args.rowData));\n            this.openContent(data);\n        }\n    }\n    // eslint-disable-next-line\n    openContent(data) {\n        if (!hasReadAccess(data)) {\n            createDeniedDialog(this.parent, data, permissionRead);\n            return;\n        }\n        const eventArgs = { cancel: false, fileDetails: data, module: 'DetailsView' };\n        this.parent.trigger('fileOpen', eventArgs, (fileOpenArgs) => {\n            if (!fileOpenArgs.cancel) {\n                const name = getValue('name', data);\n                if (getValue('isFile', data)) {\n                    const icon = fileType(data);\n                    if (icon === ICON_IMAGE) {\n                        const imgUrl = getImageUrl(this.parent, data);\n                        createImageDialog(this.parent, name, imgUrl);\n                    }\n                }\n                else {\n                    const val = this.parent.breadcrumbbarModule.searchObj.element.value;\n                    if (val === '' && !this.parent.isFiltered) {\n                        const id = getValue('id', data);\n                        const newPath = this.parent.path + (isNullOrUndefined(id) ? name : id) + '/';\n                        this.parent.setProperties({ path: newPath }, true);\n                        this.parent.pathNames.push(name);\n                        this.parent.pathId.push(getValue('_fm_id', data));\n                        this.parent.itemData = [data];\n                        openAction(this.parent);\n                    }\n                    else {\n                        openSearchFolder(this.parent, data);\n                    }\n                    this.parent.isFiltered = false;\n                }\n                this.element.focus();\n            }\n        });\n    }\n    /* istanbul ignore next */\n    onLayoutChange(args) {\n        if (this.parent.view === 'Details') {\n            if (!this.gridObj) {\n                this.render(args);\n            }\n            else {\n                this.isLoaded = true;\n            }\n            if (this.parent.isFiltered) {\n                this.updatePathColumn();\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.parent.notify(hideLayout, {});\n            this.gridObj.element.classList.remove(DISPLAY_NONE);\n            this.isInteracted = false;\n            this.gridObj.clearSelection();\n            if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n                this.onSearchFiles(args);\n            }\n            this.adjustHeight();\n            if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n                }\n            }\n        }\n    }\n    /* istanbul ignore next */\n    onSearchFiles(args) {\n        if (this.parent.view === 'Details') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(selectionChanged, {});\n            if (!this.parent.isLayoutChange) {\n                this.parent.layoutSelectedItems = [];\n            }\n            this.updatePathColumn();\n            this.parent.searchedItems = args.files;\n            this.onPathChanged(args);\n        }\n    }\n    removePathColumn(isRefresh) {\n        const len = this.gridObj.columns.length;\n        const columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && (columnData[len - 1].field === 'filterPath')) {\n            /* istanbul ignore next */\n            if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn('name', this.parent.sortOrder);\n                }\n                else {\n                    // eslint-disable-next-line\n                    this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n                }\n                this.parent.notify(sortByChange, {});\n            }\n            this.gridObj.columns.pop();\n            if (!isRefresh) {\n                this.isColumnRefresh = true;\n                this.gridObj.refreshColumns();\n            }\n        }\n    }\n    onFinalizeEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        if (!this.gridObj) {\n            this.render(args);\n        }\n        else {\n            this.onPathChanged(args);\n        }\n    }\n    onCreateEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n    }\n    onRenameInit() {\n        if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    }\n    onSelectedData() {\n        if (this.parent.activeModule === 'detailsview') {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n        }\n    }\n    onDeleteInit() {\n        if (this.parent.activeModule === 'detailsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    }\n    /* istanbul ignore next */\n    onDeleteEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n    }\n    onRefreshEnd(args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.isInteracted = false;\n        this.removePathColumn(false);\n        this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        this.emptyArgs = args;\n    }\n    onHideLayout() {\n        if (this.parent.view !== 'Details' && this.gridObj) {\n            this.gridObj.element.classList.add(DISPLAY_NONE);\n        }\n    }\n    onSelectAllInit() {\n        if (this.parent.view === 'Details') {\n            this.isInteracted = false;\n            if (this.parent.allowMultiSelection) {\n                this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n            }\n            else {\n                this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n            }\n            this.isInteracted = true;\n            this.interaction = true;\n        }\n    }\n    onClearAllInit() {\n        if (this.parent.view === 'Details') {\n            this.removeSelection();\n            this.interaction = true;\n        }\n    }\n    /* istanbul ignore next */\n    onSelectionChanged() {\n        removeClass([this.element], HEADER_CHECK);\n        if (this.parent.selectedItems.length > 0) {\n            addClass([this.element], HEADER_CHECK);\n        }\n    }\n    onLayoutRefresh() {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.adjustHeight();\n    }\n    onBeforeRequest() {\n        this.isRendered = false;\n    }\n    onAfterRequest() {\n        this.isRendered = true;\n    }\n    onUpdateSelectionData() {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n    addEventListener() {\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(search, this.onSearchFiles, this);\n        this.parent.on(methodCall, this.onMethodCall, this);\n        this.parent.on(actionFailure, this.onActionFailure, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onPathChanged, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(sortColumn, this.onSortColumn, this);\n        this.parent.on(openEnd, this.onPathChanged, this);\n        this.parent.on(filterEnd, this.onPathChanged, this);\n        this.parent.on(pasteInit, this.onPasteInit, this);\n        this.parent.on(hideLayout, this.onHideLayout, this);\n        this.parent.on(selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(clearAllInit, this.onClearAllInit, this);\n        this.parent.on(pathColumn, this.onPathColumn, this);\n        this.parent.on(selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(afterRequest, this.onAfterRequest, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(resizeEnd, this.onDetailsResizeHandler, this);\n        this.parent.on(splitterResize, this.onDetailsResize, this);\n        this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n    }\n    removeEventListener() {\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(pasteInit, this.onPasteInit);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(search, this.onSearchFiles);\n        this.parent.off(methodCall, this.onMethodCall);\n        this.parent.off(actionFailure, this.onActionFailure);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onPathChanged);\n        this.parent.off(filterEnd, this.onPathChanged);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(sortColumn, this.onSortColumn);\n        this.parent.off(openEnd, this.onPathChanged);\n        this.parent.off(hideLayout, this.onHideLayout);\n        this.parent.off(selectAllInit, this.onSelectAllInit);\n        this.parent.off(clearAllInit, this.onClearAllInit);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(pathColumn, this.onPathColumn);\n        this.parent.off(selectionChanged, this.onSelectionChanged);\n        this.parent.off(beforeRequest, this.onBeforeRequest);\n        this.parent.off(afterRequest, this.onAfterRequest);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(resizeEnd, this.onDetailsResizeHandler);\n        this.parent.off(splitterResize, this.onDetailsResize);\n        this.parent.off(layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n    }\n    onActionFailure() { this.interaction = true; }\n    // eslint-disable-next-line\n    onMenuItemData(args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n        }\n    }\n    onPasteInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath !== '') ? this.gridObj.getSelectedRecords() :\n                [getPathObject(this.parent)];\n        }\n    }\n    onDetailsInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.parent.itemData = this.gridObj.getSelectedRecords();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    }\n    dragHelper(args) {\n        const dragTarget = args.sender.target;\n        const dragLi = dragTarget.closest('tr.e-row');\n        if (!dragLi) {\n            return null;\n        }\n        const name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n        if (dragLi && !dragLi.querySelector('.e-active')) {\n            this.selectRecords([name]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        // eslint-disable-next-line\n        this.parent.dragData = this.gridObj.getSelectedRecords();\n        let dragRow;\n        if (this.parent.dragData.length === 0 && dragLi) {\n            dragRow = this.gridObj.getRowInfo(dragLi);\n        }\n        if (dragRow) {\n            this.parent.dragData.push(dragRow.rowData);\n        }\n        this.parent.dragPath = this.parent.path;\n        this.parent.activeElements = this.gridObj.getSelectedRows();\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    }\n    /* istanbul ignore next */\n    onDetailsResize() {\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n            const gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n            const gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n            const gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n            const gridHeaderColNames = this.gridObj.getColumns();\n            for (let i = 0; i < gridHeaderColNames.length; i++) {\n                if ((!this.isNameWidth && gridHeaderColNames[i].field === 'name') || gridHeaderColNames[i].field === 'filterPath') {\n                    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                        if (this.element.clientWidth <= 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                        }\n                        else if (this.element.clientWidth > 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                    else {\n                        if (this.element.clientWidth <= 680) {\n                            if (gridHeaderColNames[i].field === 'name') {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                            }\n                            else {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n                            }\n                        }\n                        else if (this.element.clientWidth > 680) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                }\n            }\n        }\n    }\n    onDetailsResizeHandler() {\n        this.onDetailsResize();\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n            this.adjustHeight();\n        }\n    }\n    createDragObj() {\n        if (!this.parent.isMobile && this.gridObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.gridObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    distance: 5,\n                    enableTailMode: true,\n                    dragArea: this.parent.element,\n                    dragTarget: '.' + ROW,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: (args) => {\n                        dragStartHandler(this.parent, args, this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    }\n    onDropInit(args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            /* istanbul ignore next */\n            // eslint-disable-next-line\n            const cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (!args.target.closest('tr')) {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n            else {\n                // eslint-disable-next-line\n                let info = null;\n                // eslint-disable-next-line\n                info = this.gridObj.getRowInfo(args.target).rowData;\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n        }\n    }\n    oncutCopyInit() {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.gridObj.getSelectedRecords();\n            this.parent.activeElements = this.gridObj.getSelectedRows();\n        }\n    }\n    onpasteEnd(args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    }\n    onDropPath(args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns modules name.\n     * @private\n     */\n    getModuleName() {\n        return 'detailsview';\n    }\n    destroy() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.gridObj) {\n            this.unWireEvents();\n            this.gridObj.destroy();\n        }\n    }\n    updateType(item) {\n        const folder = select('.' + FOLDER, item);\n        this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n    }\n    /* istanbul ignore next */\n    onSelection(action, args) {\n        const eventArgs = {\n            action: action, fileDetails: args.data, isInteracted: this.interaction, cancel: false, target: args.target\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        args.cancel = eventArgs.cancel;\n    }\n    /* istanbul ignore next */\n    onSelected(args) {\n        this.parent.activeModule = 'detailsview';\n        if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n            this.selectedRecords();\n        }\n        this.parent.notify(selectionChanged, {});\n        if (this.gridObj.getSelectedRowIndexes().length === 1) {\n            this.firstItemIndex = this.gridObj.selectedRowIndex;\n        }\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        this.triggerSelect('select', args);\n        const item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n        this.updateType(item);\n        if (!isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n            if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n                const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n                const lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n                lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n            }\n            item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n        }\n        if (!isNullOrUndefined(this.gridObj) && !isNullOrUndefined(this.gridObj.element.querySelector('.e-checkselectall'))) {\n            this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n        }\n        const rows = this.gridObj.getSelectedRowIndexes();\n        if (!this.parent.allowMultiSelection) {\n            for (let i = 0; i < rows.length; i++) {\n                if (rows[i] === this.gridObj.selectedRowIndex) {\n                    this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n                }\n                else {\n                    this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n                }\n            }\n        }\n        const len = rows.length;\n        if (len > 0) {\n            // eslint-disable-next-line\n            const data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n            this.parent.currentItemText = getValue('name', data);\n        }\n        const indexes = getValue('rowIndexes', args);\n        const multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n        if (this.parent.isDevice && isNullOrUndefined(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n            this.parent.isFile = getValue('isFile', args.data);\n            if (!this.parent.isFile) {\n                this.openContent(args.data);\n            }\n        }\n        this.parent.visitedItem = args.row;\n        if (this.parent.allowMultiSelection && !isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n            const checkItem = item.querySelector('.e-checkselect');\n            checkItem.focus();\n        }\n        this.addFocus(this.gridObj.selectedRowIndex);\n        if (!this.parent.isLayoutChange) {\n            this.isInteracted = true;\n        }\n    }\n    /* istanbul ignore next */\n    onPathColumn() {\n        if (this.parent.view === 'Details' && !isNullOrUndefined(this.gridObj)) {\n            if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n        }\n    }\n    selectedRecords() {\n        this.parent.setProperties({ selectedItems: [] }, true);\n        // eslint-disable-next-line\n        const selectedRecords = this.gridSelectNodes();\n        let selectSize = 0;\n        while (selectSize < selectedRecords.length) {\n            const record = selectedRecords[selectSize];\n            const name = getItemName(this.parent, record);\n            this.parent.selectedItems.push(name);\n            selectSize++;\n        }\n        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n    }\n    onDeSelection(args) {\n        /* istanbul ignore next */\n        if (!this.parent.allowMultiSelection && isNullOrUndefined(args.data)) {\n            this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n        }\n        else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n            const lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n            this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n        }\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.gridObj.element.setAttribute('tabindex', '0');\n        }\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            return;\n        }\n        this.selectedRecords();\n        if (this.parent.selectedItems.length === 0) {\n            setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n            removeClass([this.parent.element], MULTI_SELECT);\n        }\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('unselect', args);\n        this.parent.visitedItem = null;\n    }\n    triggerSelect(action, args) {\n        const eventArgs = { action: action, fileDetails: args.data, isInteracted: this.interaction };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.interaction = true;\n    }\n    wireEvents() {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n            keyAction: this.keyupHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n    }\n    unWireEvents() {\n        this.wireClickEvent(false);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n        EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n    }\n    wireClickEvent(toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            const proxy = this;\n            const ele = this.gridObj.getContent();\n            this.clickObj = new Touch(ele, {\n                tap: (eve) => {\n                    if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n                        proxy.onClearAllInit();\n                    }\n                },\n                tapHold: (e) => {\n                    if (proxy.parent.isDevice) {\n                        e.originalEvent.preventDefault();\n                        if (proxy.parent.allowMultiSelection) {\n                            setValue('enableSelectMultiTouch', proxy.parent.allowMultiSelection, proxy.gridObj.selectionModule);\n                            addClass([proxy.parent.element], MULTI_SELECT);\n                        }\n                        const target = e.originalEvent.target;\n                        if (target) {\n                            const row = closest(target, '.' + ROW);\n                            const index = proxy.gridObj.getRows().indexOf(row);\n                            proxy.gridObj.selectRow(index);\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    }\n    /* istanbul ignore next */\n    removeSelection() {\n        removeClass([this.parent.element], MULTI_SELECT);\n        this.gridObj.clearSelection();\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.parent.notify(selectionChanged, {});\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.startIndex = null;\n        }\n        this.isInteracted = true;\n    }\n    removeFocus() {\n        this.addFocus(null);\n    }\n    getFocusedItemIndex() {\n        return (!isNullOrUndefined(this.getFocusedItem())) ?\n            parseInt(this.getFocusedItem().getAttribute('aria-rowindex'), 10) : null;\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keydownHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'moveDown':\n            case 'moveUp':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    }\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    keyupHandler(e) {\n        if (!this.isRendered) {\n            return;\n        }\n        e.preventDefault();\n        const action = e.action;\n        // eslint-disable-next-line\n        const gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n        const gridLength = gridItems.length;\n        const focItem = this.getFocusedItem();\n        const focIndex = this.getFocusedItemIndex();\n        const selIndex = this.gridObj.selectedRowIndex;\n        const selRowIndeces = this.gridObj.getSelectedRowIndexes();\n        // eslint-disable-next-line\n        let rowData;\n        let firstItem;\n        let lastItem;\n        switch (action) {\n            case 'altEnter':\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'enter':\n                if (this.gridObj.selectedRowIndex === -1) {\n                    break;\n                }\n                rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n                if (rowData) {\n                    // eslint-disable-next-line\n                    const data = JSON.parse(JSON.stringify(rowData));\n                    this.openContent(data);\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlA':\n                if (!isNullOrUndefined(gridItems[0]) && this.parent.allowMultiSelection) {\n                    const cnTable = this.gridObj.getContent().querySelector('.e-content');\n                    const crtSrlPos = cnTable.scrollTop;\n                    const crtFocusIndex = this.gridObj.selectedRowIndex;\n                    this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                    cnTable.scrollTop = crtSrlPos;\n                    if (crtFocusIndex !== -1) {\n                        this.addFocus(crtFocusIndex);\n                    }\n                }\n                break;\n            case 'ctrlHome':\n            case 'tab':\n                if (!isNullOrUndefined(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n                        this.gridObj.selectRow(0);\n                    }\n                    else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n                        return;\n                    }\n                    else {\n                        this.addFocus(0);\n                    }\n                }\n                break;\n            case 'ctrlEnd':\n                if (!isNullOrUndefined(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection) {\n                        this.gridObj.selectRow(gridLength - 1);\n                    }\n                    else {\n                        this.addFocus(gridLength - 1);\n                    }\n                }\n                break;\n            case 'shiftHome':\n            case 'shiftEnd':\n            case 'csHome':\n            case 'csEnd':\n                if (!this.parent.allowMultiSelection) {\n                    this.gridObj.selectRow((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : gridItems.length - 1);\n                }\n                else {\n                    if (!isNullOrUndefined(gridItems[0])) {\n                        if (!isNullOrUndefined(selIndex) && selIndex !== -1) {\n                            this.checkRowsKey(gridItems, selIndex, null, e);\n                        }\n                        else {\n                            if (e.action === 'csHome' || e.action === 'shiftHome') {\n                                this.gridObj.selectRow(0);\n                            }\n                            else {\n                                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                            }\n                        }\n                    }\n                }\n                break;\n            case 'space':\n            case 'csSpace':\n            case 'shiftSpace':\n            case 'ctrlSpace':\n                this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n                break;\n            case 'csUp':\n            case 'csDown':\n            case 'shiftUp':\n            case 'shiftDown':\n                this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n                break;\n            case 'ctrlUp':\n            case 'ctrlDown':\n                if (!this.parent.allowMultiSelection) {\n                    this.moveFunction(gridItems, e, selIndex);\n                }\n                else {\n                    this.ctrlMoveFunction(gridItems, e, selIndex);\n                }\n                break;\n            case 'home':\n                firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n                this.parent.setProperties({ selectedItems: firstItem }, true);\n                this.selectRecords(firstItem);\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                this.moveFunction(gridItems, e, selIndex);\n                break;\n            case 'end':\n                lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n                this.parent.setProperties({ selectedItems: lastItem }, true);\n                this.selectRecords(lastItem);\n                break;\n        }\n    }\n    // eslint-disable-next-line\n    gridSelectNodes() {\n        return this.gridObj.getSelectedRecords();\n    }\n    doDownload() {\n        if (this.parent.selectedItems.length !== 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            const items = this.parent.itemData;\n            for (let i = 0; i < items.length; i++) {\n                if (!hasDownloadAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], permissionDownload);\n                    return;\n                }\n            }\n            Download(this.parent, this.parent.path, this.parent.selectedItems);\n        }\n    }\n    performDelete() {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            const items = this.parent.itemData;\n            for (let i = 0; i < items.length; i++) {\n                if (!hasEditAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    }\n    performRename() {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    }\n    updateRenameData() {\n        // eslint-disable-next-line\n        const data = this.gridSelectNodes()[0];\n        updateRenamingData(this.parent, data);\n    }\n    // eslint-disable-next-line\n    shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.moveFunction(gridItems, e, selIndex);\n        }\n        else {\n            if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n                this.ctrlMoveFunction(gridItems, e, selIndex);\n            }\n            else if (selIndex !== -1 && focIndex !== selIndex &&\n                !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n                this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n            }\n            else {\n                this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    moveFunction(selectedItems, e, rowIndex) {\n        if (!isNullOrUndefined(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n            if (e.action === 'moveDown') {\n                this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n            }\n            else {\n                this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n            }\n        }\n        else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n            if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectRow(rowIndex + ((rowIndex !== selectedItems.length - 1) ? 1 : 0));\n            }\n            else {\n                this.gridObj.selectRow(rowIndex - ((rowIndex !== 0) ? 1 : 0));\n            }\n        }\n        else {\n            if (!isNullOrUndefined(selectedItems[0])) {\n                this.gridObj.selectRow(0);\n            }\n        }\n    }\n    spaceSelection(selRowIndeces, focIndex, selIndex, e) {\n        if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n            if (focIndex < selIndex) {\n                this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n            }\n        }\n        else if (!isNullOrUndefined(this.getFocusedItem()) && focIndex !== selIndex) {\n            selRowIndeces.push(this.getFocusedItemIndex());\n            this.gridObj.selectRows(selRowIndeces);\n        }\n        else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n            const lItem = selIndex;\n            selRowIndeces.pop();\n            this.gridObj.selectRows(selRowIndeces);\n            this.addFocus(lItem);\n        }\n        else if (e.action === 'shiftSpace') {\n            this.gridObj.selectRow(selIndex);\n        }\n    }\n    // eslint-disable-next-line\n    ctrlMoveFunction(items, e, rowIndex) {\n        let nextItem;\n        if (!isNullOrUndefined(this.getFocusedItem())) {\n            const nextIndex = this.getFocusedItemIndex();\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                nextIndex + ((nextIndex < items.length - 1) ? 1 : 0) : nextIndex - ((nextIndex < 1) ? 0 : 1);\n        }\n        else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                rowIndex + ((rowIndex < items.length) ? 1 : 0) : rowIndex - ((rowIndex < 1) ? 0 : 1);\n        }\n        else {\n            if (!isNullOrUndefined(items[0])) {\n                nextItem = 0;\n            }\n        }\n        this.addFocus(nextItem);\n    }\n    // eslint-disable-next-line\n    checkRowsKey(items, indexValue, focIndex, e) {\n        if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n            if (e.action !== 'csHome' && e.action !== 'csEnd') {\n                if (isNullOrUndefined(this.startIndex) && this.firstItemIndex !== indexValue) {\n                    this.firstItemIndex = indexValue;\n                }\n                if (e.action === 'shiftEnd') {\n                    this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n                }\n                this.startIndex = indexValue;\n            }\n            else {\n                if (e.action === 'csEnd') {\n                    this.gridObj.\n                        selectRows(this.InnerItems(isNullOrUndefined(indexValue) ? 0 : indexValue, isNullOrUndefined(focIndex) ? items.length - 1 : focIndex, e));\n                }\n                else {\n                    if (isNullOrUndefined(indexValue)) {\n                        this.gridObj.selectRow(0);\n                    }\n                    else {\n                        this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(focIndex) ? 0 : focIndex, indexValue, e));\n                    }\n                }\n            }\n        }\n        else {\n            this.gridObj.selectionModule.selectRow(((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : items.length - 1));\n        }\n    }\n    InnerItems(fItem, lItem, e) {\n        const itemArr = this.gridObj.getSelectedRowIndexes();\n        if (e.action === 'csEnd') {\n            for (let i = fItem + 1; i <= lItem; i++) {\n                itemArr.push(i);\n            }\n        }\n        else {\n            for (let i = lItem - 1; fItem <= i; i--) {\n                itemArr.push(i);\n            }\n        }\n        return itemArr;\n    }\n    shiftSelectFocusItem(selIndex, fIndex, selRowIndexes, e) {\n        const lItem = fIndex + ((e.action === 'shiftDown' || e.action === 'csDown') ? 1 : -1);\n        const fItem = isNullOrUndefined(this.startIndex) ? selIndex : selRowIndexes[0];\n        if (fItem === lItem) {\n            this.gridObj.selectRow(fItem);\n        }\n        else {\n            if (fItem < lItem) {\n                if (e.action === 'shiftDown' || e.action === 'csDown') {\n                    this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n                }\n            }\n            else if (e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n            }\n        }\n        this.startIndex = this.gridObj.selectedRowIndex;\n    }\n    addFocus(item) {\n        const fItem = this.getFocusedItem();\n        const itemElement = this.gridObj.getRowByIndex(item);\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [FOCUS, FOCUSED]);\n        }\n        if (!isNullOrUndefined(itemElement)) {\n            this.gridObj.element.setAttribute('tabindex', '-1');\n            itemElement.setAttribute('tabindex', '0');\n            itemElement.focus();\n            addClass([itemElement], [FOCUS, FOCUSED]);\n        }\n    }\n    getFocusedItem() {\n        return select('.' + FOCUSED, this.element);\n    }\n    isSelected(selRowIndexes, focIndex) {\n        let check = false;\n        for (let i = 0; i <= selRowIndexes.length - 1; i++) {\n            if (selRowIndexes[i] === focIndex) {\n                check = true;\n                break;\n            }\n        }\n        return check;\n    }\n    // eslint-disable-next-line\n    shiftSelectedItem(selIndex, selRowIndexes, gridItems, e) {\n        if (selIndex === -1) {\n            this.gridObj.selectRow(0);\n        }\n        else {\n            if (isNullOrUndefined(this.startIndex) && e.shiftKey) {\n                this.startIndex = this.gridObj.selectedRowIndex;\n                this.gridObj.selectRows([selIndex, (e.action === 'shiftDown' || e.action === 'csDown') ?\n                        (selIndex + ((selIndex !== gridItems.length - 1) ? 1 : 0)) : (selIndex - ((selIndex !== 0) ? 1 : 0))]);\n            }\n            else {\n                if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n                    if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n                        if (selIndex !== gridItems.length - 1) {\n                            selRowIndexes.push(selIndex + 1);\n                        }\n                    }\n                    else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n                        if (selIndex !== 0) {\n                            selRowIndexes.push(selIndex - 1);\n                        }\n                    }\n                    else {\n                        selRowIndexes.pop();\n                    }\n                    this.gridObj.selectRows(selRowIndexes);\n                }\n                else {\n                    if (e.action === 'csDown') {\n                        if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n                            selRowIndexes.push((this.getFocusedItemIndex() + 1));\n                            this.gridObj.selectRows(selRowIndexes);\n                        }\n                        else {\n                            this.addFocus(this.getFocusedItemIndex() + 1);\n                        }\n                    }\n                    else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n                        selRowIndexes.push((this.getFocusedItemIndex() - 1));\n                        this.gridObj.selectRows(selRowIndexes);\n                    }\n                    else {\n                        this.addFocus(this.getFocusedItemIndex() - 1);\n                    }\n                }\n            }\n        }\n    }\n    // eslint-disable-next-line\n    onMethodCall(e) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        const action = getValue('action', e);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', e));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', e));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', e));\n                break;\n            case 'createFolder':\n                this.interaction = false;\n                break;\n            case 'renameFile':\n                this.interaction = false;\n                this.renameFile(getValue('id', e), getValue('newName', e));\n                break;\n            case 'selectAll':\n                this.interaction = false;\n                this.onSelectAllInit();\n                break;\n            case 'clearSelection':\n                this.interaction = false;\n                this.onClearAllInit();\n                break;\n        }\n    }\n    // eslint-disable-next-line\n    getRecords(nodes) {\n        // eslint-disable-next-line\n        const gridRecords = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        const records = [];\n        const hasFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        const filter$$1 = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !hasFilter) {\n            for (let i = 0, len = gridRecords.length; i < len; i++) {\n                if (nodes.indexOf(getValue(filter$$1, gridRecords[i])) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        else {\n            for (let i = 0, len = gridRecords.length; i < len; i++) {\n                const name = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n                if (nodes.indexOf(name) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        return records;\n    }\n    deleteFiles(ids) {\n        this.parent.activeModule = 'detailsview';\n        if (isNullOrUndefined(ids)) {\n            this.performDelete();\n            return;\n        }\n        // eslint-disable-next-line\n        const records = this.getRecords(ids);\n        if (records.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < records.length; i++) {\n            data[i] = records[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    }\n    downloadFiles(ids) {\n        if (isNullOrUndefined(ids)) {\n            this.doDownload();\n            return;\n        }\n        // eslint-disable-next-line\n        const dRecords = this.getRecords(ids);\n        if (dRecords.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        const data = [];\n        const newIds = [];\n        for (let i = 0; i < dRecords.length; i++) {\n            data[i] = dRecords[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    }\n    openFile(id) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        // eslint-disable-next-line\n        const records = this.getRecords([id]);\n        if (records.length > 0) {\n            this.openContent(records[0]);\n        }\n    }\n    renameFile(id, name) {\n        this.parent.activeModule = 'detailsview';\n        if (isNullOrUndefined(id)) {\n            this.performRename();\n            return;\n        }\n        // eslint-disable-next-line\n        const records = this.getRecords([id]);\n        if (records.length > 0) {\n            updateRenamingData(this.parent, records[0]);\n            if (!isNullOrUndefined(name)) {\n                if (hasEditAccess(this.parent.itemData[0])) {\n                    rename(this.parent, this.parent.path, name);\n                }\n                else {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n            }\n            else {\n                doRename(this.parent);\n            }\n        }\n    }\n}\n\n/**\n * File Manager layout modules\n */\n\n/**\n * File Manager pop-up modules\n */\n\n/**\n * File Manager modules\n */\n\n/**\n * File Manager all modules\n */\n\nexport { AjaxSettings, toolbarItems, ToolbarSettings, SearchSettings, columnArray, DetailsViewSettings, fileItems, folderItems, layoutItems, ContextMenuSettings, NavigationPaneSettings, UploadSettings, Column, TOOLBAR_ID, LAYOUT_ID, NAVIGATION_ID, TREE_ID, GRID_ID, LARGEICON_ID, DIALOG_ID, ALT_DIALOG_ID, IMG_DIALOG_ID, EXTN_DIALOG_ID, UPLOAD_DIALOG_ID, RETRY_DIALOG_ID, CONTEXT_MENU_ID, SORTBY_ID, VIEW_ID, SPLITTER_ID, CONTENT_ID, BREADCRUMBBAR_ID, UPLOAD_ID, RETRY_ID, SEARCH_ID, ROOT, CONTROL, CHECK_SELECT, ROOT_POPUP, MOBILE, MOB_POPUP, MULTI_SELECT, FILTER, LAYOUT, NAVIGATION, LAYOUT_CONTENT, LARGE_ICONS, TB_ITEM, LIST_ITEM, LIST_TEXT, LIST_PARENT, TB_OPTION_TICK, TB_OPTION_DOT, BLUR, ACTIVE, HOVER, FOCUS, FOCUSED, CHECK, FRAME, CB_WRAP, ROW, ROWCELL, EMPTY, EMPTY_CONTENT, EMPTY_INNER_CONTENT, CLONE, DROP_FOLDER, DROP_FILE, FOLDER, ICON_IMAGE, ICON_MUSIC, ICON_VIDEO, LARGE_ICON, LARGE_EMPTY_FOLDER, LARGE_EMPTY_FOLDER_TWO, LARGE_ICON_FOLDER, SELECTED_ITEMS, TEXT_CONTENT, GRID_HEADER, TEMPLATE_CELL, TREE_VIEW, MENU_ITEM, MENU_ICON, SUBMENU_ICON, GRID_VIEW, ICON_VIEW, ICON_OPEN, ICON_UPLOAD, ICON_CUT, ICON_COPY, ICON_PASTE, ICON_DELETE, ICON_RENAME, ICON_NEWFOLDER, ICON_DETAILS, ICON_SHORTBY, ICON_REFRESH, ICON_SELECTALL, ICON_DOWNLOAD, ICON_OPTIONS, ICON_GRID, ICON_LARGE, ICON_BREADCRUMB, ICON_CLEAR, ICON_DROP_IN, ICON_DROP_OUT, ICON_NO_DROP, ICONS, DETAILS_LABEL, ERROR_CONTENT, STATUS, BREADCRUMBS, RTL, DISPLAY_NONE, COLLAPSED, FULLROW, ICON_COLLAPSIBLE, SPLIT_BAR, HEADER_CHECK, OVERLAY, VALUE, isFile, modelChanged, initialEnd, finalizeEnd, createEnd, filterEnd, beforeDelete, pathDrag, deleteInit, deleteEnd, refreshEnd, resizeEnd, splitterResize, pathChanged, destroy, beforeRequest, upload, skipUpload, afterRequest, download, layoutRefresh, actionFailure, search, openInit, openEnd, selectionChanged, selectAllInit, clearAllInit, clearPathInit, layoutChange, sortByChange, nodeExpand, detailsInit, menuItemData, renameInit, renameEndParent, renameEnd, showPaste, hidePaste, selectedData, cutCopyInit, pasteInit, pasteEnd, cutEnd, hideLayout, updateTreeSelection, treeSelect, sortColumn, pathColumn, searchTextChange, beforeDownload, downloadInit, dropInit, dragEnd, dropPath, dragHelper, dragging, updateSelectionData, methodCall, permissionRead, permissionEdit, permissionEditContents, permissionCopy, permissionUpload, permissionDownload, FileManager, Toolbar$1 as Toolbar, BreadCrumbBar, NavigationPane, DetailsView, LargeIconsView, createDialog, createExtDialog, createImageDialog, ContextMenu$2 as ContextMenu };\n"]},"metadata":{},"sourceType":"module"}